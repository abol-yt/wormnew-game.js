( () => {
    var R5 = Object.defineProperty
      , M5 = Object.defineProperties
      , C5 = Object.getOwnPropertyDescriptors
      , Gf = Object.getOwnPropertySymbols
      , O5 = Object.prototype.hasOwnProperty
      , I5 = Object.prototype.propertyIsEnumerable
      , Bf = (a, e, t) => e in a ? R5(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Ff = (a, e) => {
        for (var t in e || (e = {}))
            O5.call(e, t) && Bf(a, t, e[t]);
        if (Gf)
            for (var t of Gf(e))
                I5.call(e, t) && Bf(a, t, e[t]);
        return a
    }
      , G5 = (a, e) => M5(a, C5(e))
      , B = (a => (a.Application = "application",
    a.WebGLPipes = "webgl-pipes",
    a.WebGLPipesAdaptor = "webgl-pipes-adaptor",
    a.WebGLSystem = "webgl-system",
    a.WebGPUPipes = "webgpu-pipes",
    a.WebGPUPipesAdaptor = "webgpu-pipes-adaptor",
    a.WebGPUSystem = "webgpu-system",
    a.CanvasSystem = "canvas-system",
    a.CanvasPipesAdaptor = "canvas-pipes-adaptor",
    a.CanvasPipes = "canvas-pipes",
    a.Asset = "asset",
    a.LoadParser = "load-parser",
    a.ResolveParser = "resolve-parser",
    a.CacheParser = "cache-parser",
    a.DetectionParser = "detection-parser",
    a.MaskEffect = "mask-effect",
    a.BlendMode = "blend-mode",
    a.TextureSource = "texture-source",
    a.Environment = "environment",
    a.ShapeBuilder = "shape-builder",
    a.Batcher = "batcher",
    a))(B || {})
      , wd = a => {
        if (typeof a == "function" || typeof a == "object" && a.extension) {
            let e = typeof a.extension != "object" ? {
                type: a.extension
            } : a.extension;
            a = G5(Ff({}, e), {
                ref: a
            })
        }
        if (typeof a == "object")
            a = Ff({}, a);
        else
            throw new Error("Invalid extension type");
        return typeof a.type == "string" && (a.type = [a.type]),
        a
    }
      , fs = (a, e) => {
        var t;
        return (t = wd(a).priority) != null ? t : e
    }
      , pe = {
        _addHandlers: {},
        _removeHandlers: {},
        _queue: {},
        remove(...a) {
            return a.map(wd).forEach(e => {
                e.type.forEach(t => {
                    var i, r;
                    return (r = (i = this._removeHandlers)[t]) == null ? void 0 : r.call(i, e)
                }
                )
            }
            ),
            this
        },
        add(...a) {
            return a.map(wd).forEach(e => {
                e.type.forEach(t => {
                    var i, r;
                    let s = this._addHandlers
                      , o = this._queue;
                    s[t] ? (r = s[t]) == null || r.call(s, e) : (o[t] = o[t] || [],
                    (i = o[t]) == null || i.push(e))
                }
                )
            }
            ),
            this
        },
        handle(a, e, t) {
            var i;
            let r = this._addHandlers
              , s = this._removeHandlers;
            r[a] = e,
            s[a] = t;
            let o = this._queue;
            return o[a] && ((i = o[a]) == null || i.forEach(d => e(d)),
            delete o[a]),
            this
        },
        handleByMap(a, e) {
            return this.handle(a, t => {
                t.name && (e[t.name] = t.ref)
            }
            , t => {
                t.name && delete e[t.name]
            }
            )
        },
        handleByNamedList(a, e, t=-1) {
            return this.handle(a, i => {
                e.findIndex(r => r.name === i.name) >= 0 || (e.push({
                    name: i.name,
                    value: i.ref
                }),
                e.sort( (r, s) => fs(s.value, t) - fs(r.value, t)))
            }
            , i => {
                let r = e.findIndex(s => s.name === i.name);
                r !== -1 && e.splice(r, 1)
            }
            )
        },
        handleByList(a, e, t=-1) {
            return this.handle(a, i => {
                e.includes(i.ref) || (e.push(i.ref),
                e.sort( (r, s) => fs(s, t) - fs(r, t)))
            }
            , i => {
                let r = e.indexOf(i.ref);
                r !== -1 && e.splice(r, 1)
            }
            )
        }
    };
    function ul(a) {
        return a && a.__esModule && Object.prototype.hasOwnProperty.call(a, "default") ? a.default : a
    }
    var bl = {
        exports: {}
    }
      , iS = bl.exports;
    (function(a) {
        "use strict";
        var e = Object.prototype.hasOwnProperty
          , t = "~";
        function i() {}
        Object.create && (i.prototype = Object.create(null),
        new i().__proto__ || (t = !1));
        function r(h, l, u) {
            this.fn = h,
            this.context = l,
            this.once = u || !1
        }
        function s(h, l, u, p, y) {
            if (typeof u != "function")
                throw new TypeError("The listener must be a function");
            var _ = new r(u,p || h,y)
              , v = t ? t + l : l;
            return h._events[v] ? h._events[v].fn ? h._events[v] = [h._events[v], _] : h._events[v].push(_) : (h._events[v] = _,
            h._eventsCount++),
            h
        }
        function o(h, l) {
            --h._eventsCount === 0 ? h._events = new i : delete h._events[l]
        }
        function d() {
            this._events = new i,
            this._eventsCount = 0
        }
        d.prototype.eventNames = function() {
            var h = [], l, u;
            if (this._eventsCount === 0)
                return h;
            for (u in l = this._events)
                e.call(l, u) && h.push(t ? u.slice(1) : u);
            return Object.getOwnPropertySymbols ? h.concat(Object.getOwnPropertySymbols(l)) : h
        }
        ,
        d.prototype.listeners = function(h) {
            var l = t ? t + h : h
              , u = this._events[l];
            if (!u)
                return [];
            if (u.fn)
                return [u.fn];
            for (var p = 0, y = u.length, _ = new Array(y); p < y; p++)
                _[p] = u[p].fn;
            return _
        }
        ,
        d.prototype.listenerCount = function(h) {
            var l = t ? t + h : h
              , u = this._events[l];
            return u ? u.fn ? 1 : u.length : 0
        }
        ,
        d.prototype.emit = function(h, l, u, p, y, _) {
            var v = t ? t + h : h;
            if (!this._events[v])
                return !1;
            var T = this._events[v], A = arguments.length, P, I;
            if (T.fn) {
                switch (T.once && this.removeListener(h, T.fn, void 0, !0),
                A) {
                case 1:
                    return T.fn.call(T.context),
                    !0;
                case 2:
                    return T.fn.call(T.context, l),
                    !0;
                case 3:
                    return T.fn.call(T.context, l, u),
                    !0;
                case 4:
                    return T.fn.call(T.context, l, u, p),
                    !0;
                case 5:
                    return T.fn.call(T.context, l, u, p, y),
                    !0;
                case 6:
                    return T.fn.call(T.context, l, u, p, y, _),
                    !0
                }
                for (I = 1,
                P = new Array(A - 1); I < A; I++)
                    P[I - 1] = arguments[I];
                T.fn.apply(T.context, P)
            } else {
                var F = T.length, D;
                for (I = 0; I < F; I++)
                    switch (T[I].once && this.removeListener(h, T[I].fn, void 0, !0),
                    A) {
                    case 1:
                        T[I].fn.call(T[I].context);
                        break;
                    case 2:
                        T[I].fn.call(T[I].context, l);
                        break;
                    case 3:
                        T[I].fn.call(T[I].context, l, u);
                        break;
                    case 4:
                        T[I].fn.call(T[I].context, l, u, p);
                        break;
                    default:
                        if (!P)
                            for (D = 1,
                            P = new Array(A - 1); D < A; D++)
                                P[D - 1] = arguments[D];
                        T[I].fn.apply(T[I].context, P)
                    }
            }
            return !0
        }
        ,
        d.prototype.on = function(h, l, u) {
            return s(this, h, l, u, !1)
        }
        ,
        d.prototype.once = function(h, l, u) {
            return s(this, h, l, u, !0)
        }
        ,
        d.prototype.removeListener = function(h, l, u, p) {
            var y = t ? t + h : h;
            if (!this._events[y])
                return this;
            if (!l)
                return o(this, y),
                this;
            var _ = this._events[y];
            if (_.fn)
                _.fn === l && (!p || _.once) && (!u || _.context === u) && o(this, y);
            else {
                for (var v = 0, T = [], A = _.length; v < A; v++)
                    (_[v].fn !== l || p && !_[v].once || u && _[v].context !== u) && T.push(_[v]);
                T.length ? this._events[y] = T.length === 1 ? T[0] : T : o(this, y)
            }
            return this
        }
        ,
        d.prototype.removeAllListeners = function(h) {
            var l;
            return h ? (l = t ? t + h : h,
            this._events[l] && o(this, l)) : (this._events = new i,
            this._eventsCount = 0),
            this
        }
        ,
        d.prototype.off = d.prototype.removeListener,
        d.prototype.addListener = d.prototype.on,
        d.prefixed = t,
        d.EventEmitter = d,
        a.exports = d
    }
    )(bl);
    var B5 = bl.exports
      , xt = ul(B5)
      , F5 = {
        grad: .9,
        turn: 360,
        rad: 360 / (2 * Math.PI)
    }
      , sa = function(a) {
        return typeof a == "string" ? a.length > 0 : typeof a == "number"
    }
      , Ke = function(a, e, t) {
        return e === void 0 && (e = 0),
        t === void 0 && (t = Math.pow(10, e)),
        Math.round(t * a) / t + 0
    }
      , At = function(a, e, t) {
        return e === void 0 && (e = 0),
        t === void 0 && (t = 1),
        a > t ? t : a > e ? a : e
    }
      , n2 = function(a) {
        return (a = isFinite(a) ? a % 360 : 0) > 0 ? a : a + 360
    }
      , Df = function(a) {
        return {
            r: At(a.r, 0, 255),
            g: At(a.g, 0, 255),
            b: At(a.b, 0, 255),
            a: At(a.a)
        }
    }
      , wc = function(a) {
        return {
            r: Ke(a.r),
            g: Ke(a.g),
            b: Ke(a.b),
            a: Ke(a.a, 3)
        }
    }
      , D5 = /^#([0-9a-f]{3,8})$/i
      , us = function(a) {
        var e = a.toString(16);
        return e.length < 2 ? "0" + e : e
    }
      , o2 = function(a) {
        var e = a.r
          , t = a.g
          , i = a.b
          , r = a.a
          , s = Math.max(e, t, i)
          , o = s - Math.min(e, t, i)
          , d = o ? s === e ? (t - i) / o : s === t ? 2 + (i - e) / o : 4 + (e - t) / o : 0;
        return {
            h: 60 * (d < 0 ? d + 6 : d),
            s: s ? o / s * 100 : 0,
            v: s / 255 * 100,
            a: r
        }
    }
      , c2 = function(a) {
        var e = a.h
          , t = a.s
          , i = a.v
          , r = a.a;
        e = e / 360 * 6,
        t /= 100,
        i /= 100;
        var s = Math.floor(e)
          , o = i * (1 - t)
          , d = i * (1 - (e - s) * t)
          , h = i * (1 - (1 - e + s) * t)
          , l = s % 6;
        return {
            r: 255 * [i, d, o, o, h, i][l],
            g: 255 * [h, i, i, d, o, o][l],
            b: 255 * [o, o, h, i, i, d][l],
            a: r
        }
    }
      , kf = function(a) {
        return {
            h: n2(a.h),
            s: At(a.s, 0, 100),
            l: At(a.l, 0, 100),
            a: At(a.a)
        }
    }
      , Uf = function(a) {
        return {
            h: Ke(a.h),
            s: Ke(a.s),
            l: Ke(a.l),
            a: Ke(a.a, 3)
        }
    }
      , Lf = function(a) {
        return c2((t = (e = a).s,
        {
            h: e.h,
            s: (t *= ((i = e.l) < 50 ? i : 100 - i) / 100) > 0 ? 2 * t / (i + t) * 100 : 0,
            v: i + t,
            a: e.a
        }));
        var e, t, i
    }
      , yr = function(a) {
        return {
            h: (e = o2(a)).h,
            s: (r = (200 - (t = e.s)) * (i = e.v) / 100) > 0 && r < 200 ? t * i / 100 / (r <= 100 ? r : 200 - r) * 100 : 0,
            l: r / 2,
            a: e.a
        };
        var e, t, i, r
    }
      , k5 = /^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i
      , U5 = /^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i
      , L5 = /^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i
      , N5 = /^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i
      , Ad = {
        string: [[function(a) {
            var e = D5.exec(a);
            return e ? (a = e[1]).length <= 4 ? {
                r: parseInt(a[0] + a[0], 16),
                g: parseInt(a[1] + a[1], 16),
                b: parseInt(a[2] + a[2], 16),
                a: a.length === 4 ? Ke(parseInt(a[3] + a[3], 16) / 255, 2) : 1
            } : a.length === 6 || a.length === 8 ? {
                r: parseInt(a.substr(0, 2), 16),
                g: parseInt(a.substr(2, 2), 16),
                b: parseInt(a.substr(4, 2), 16),
                a: a.length === 8 ? Ke(parseInt(a.substr(6, 2), 16) / 255, 2) : 1
            } : null : null
        }
        , "hex"], [function(a) {
            var e = L5.exec(a) || N5.exec(a);
            return e ? e[2] !== e[4] || e[4] !== e[6] ? null : Df({
                r: Number(e[1]) / (e[2] ? 100 / 255 : 1),
                g: Number(e[3]) / (e[4] ? 100 / 255 : 1),
                b: Number(e[5]) / (e[6] ? 100 / 255 : 1),
                a: e[7] === void 0 ? 1 : Number(e[7]) / (e[8] ? 100 : 1)
            }) : null
        }
        , "rgb"], [function(a) {
            var e = k5.exec(a) || U5.exec(a);
            if (!e)
                return null;
            var t, i, r = kf({
                h: (t = e[1],
                i = e[2],
                i === void 0 && (i = "deg"),
                Number(t) * (F5[i] || 1)),
                s: Number(e[3]),
                l: Number(e[4]),
                a: e[5] === void 0 ? 1 : Number(e[5]) / (e[6] ? 100 : 1)
            });
            return Lf(r)
        }
        , "hsl"]],
        object: [[function(a) {
            var e = a.r
              , t = a.g
              , i = a.b
              , r = a.a
              , s = r === void 0 ? 1 : r;
            return sa(e) && sa(t) && sa(i) ? Df({
                r: Number(e),
                g: Number(t),
                b: Number(i),
                a: Number(s)
            }) : null
        }
        , "rgb"], [function(a) {
            var e = a.h
              , t = a.s
              , i = a.l
              , r = a.a
              , s = r === void 0 ? 1 : r;
            if (!sa(e) || !sa(t) || !sa(i))
                return null;
            var o = kf({
                h: Number(e),
                s: Number(t),
                l: Number(i),
                a: Number(s)
            });
            return Lf(o)
        }
        , "hsl"], [function(a) {
            var e = a.h
              , t = a.s
              , i = a.v
              , r = a.a
              , s = r === void 0 ? 1 : r;
            if (!sa(e) || !sa(t) || !sa(i))
                return null;
            var o = function(d) {
                return {
                    h: n2(d.h),
                    s: At(d.s, 0, 100),
                    v: At(d.v, 0, 100),
                    a: At(d.a)
                }
            }({
                h: Number(e),
                s: Number(t),
                v: Number(i),
                a: Number(s)
            });
            return c2(o)
        }
        , "hsv"]]
    }
      , Nf = function(a, e) {
        for (var t = 0; t < e.length; t++) {
            var i = e[t][0](a);
            if (i)
                return [i, e[t][1]]
        }
        return [null, void 0]
    }
      , j5 = function(a) {
        return typeof a == "string" ? Nf(a.trim(), Ad.string) : typeof a == "object" && a !== null ? Nf(a, Ad.object) : [null, void 0]
    };
    var Ac = function(a, e) {
        var t = yr(a);
        return {
            h: t.h,
            s: At(t.s + 100 * e, 0, 100),
            l: t.l,
            a: t.a
        }
    }
      , Ec = function(a) {
        return (299 * a.r + 587 * a.g + 114 * a.b) / 1e3 / 255
    }
      , jf = function(a, e) {
        var t = yr(a);
        return {
            h: t.h,
            s: t.s,
            l: At(t.l + 100 * e, 0, 100),
            a: t.a
        }
    }
      , Ed = function() {
        function a(e) {
            this.parsed = j5(e)[0],
            this.rgba = this.parsed || {
                r: 0,
                g: 0,
                b: 0,
                a: 1
            }
        }
        return a.prototype.isValid = function() {
            return this.parsed !== null
        }
        ,
        a.prototype.brightness = function() {
            return Ke(Ec(this.rgba), 2)
        }
        ,
        a.prototype.isDark = function() {
            return Ec(this.rgba) < .5
        }
        ,
        a.prototype.isLight = function() {
            return Ec(this.rgba) >= .5
        }
        ,
        a.prototype.toHex = function() {
            return e = wc(this.rgba),
            t = e.r,
            i = e.g,
            r = e.b,
            o = (s = e.a) < 1 ? us(Ke(255 * s)) : "",
            "#" + us(t) + us(i) + us(r) + o;
            var e, t, i, r, s, o
        }
        ,
        a.prototype.toRgb = function() {
            return wc(this.rgba)
        }
        ,
        a.prototype.toRgbString = function() {
            return e = wc(this.rgba),
            t = e.r,
            i = e.g,
            r = e.b,
            (s = e.a) < 1 ? "rgba(" + t + ", " + i + ", " + r + ", " + s + ")" : "rgb(" + t + ", " + i + ", " + r + ")";
            var e, t, i, r, s
        }
        ,
        a.prototype.toHsl = function() {
            return Uf(yr(this.rgba))
        }
        ,
        a.prototype.toHslString = function() {
            return e = Uf(yr(this.rgba)),
            t = e.h,
            i = e.s,
            r = e.l,
            (s = e.a) < 1 ? "hsla(" + t + ", " + i + "%, " + r + "%, " + s + ")" : "hsl(" + t + ", " + i + "%, " + r + "%)";
            var e, t, i, r, s
        }
        ,
        a.prototype.toHsv = function() {
            return e = o2(this.rgba),
            {
                h: Ke(e.h),
                s: Ke(e.s),
                v: Ke(e.v),
                a: Ke(e.a, 3)
            };
            var e
        }
        ,
        a.prototype.invert = function() {
            return $t({
                r: 255 - (e = this.rgba).r,
                g: 255 - e.g,
                b: 255 - e.b,
                a: e.a
            });
            var e
        }
        ,
        a.prototype.saturate = function(e) {
            return e === void 0 && (e = .1),
            $t(Ac(this.rgba, e))
        }
        ,
        a.prototype.desaturate = function(e) {
            return e === void 0 && (e = .1),
            $t(Ac(this.rgba, -e))
        }
        ,
        a.prototype.grayscale = function() {
            return $t(Ac(this.rgba, -1))
        }
        ,
        a.prototype.lighten = function(e) {
            return e === void 0 && (e = .1),
            $t(jf(this.rgba, e))
        }
        ,
        a.prototype.darken = function(e) {
            return e === void 0 && (e = .1),
            $t(jf(this.rgba, -e))
        }
        ,
        a.prototype.rotate = function(e) {
            return e === void 0 && (e = 15),
            this.hue(this.hue() + e)
        }
        ,
        a.prototype.alpha = function(e) {
            return typeof e == "number" ? $t({
                r: (t = this.rgba).r,
                g: t.g,
                b: t.b,
                a: e
            }) : Ke(this.rgba.a, 3);
            var t
        }
        ,
        a.prototype.hue = function(e) {
            var t = yr(this.rgba);
            return typeof e == "number" ? $t({
                h: e,
                s: t.s,
                l: t.l,
                a: t.a
            }) : Ke(t.h)
        }
        ,
        a.prototype.isEqual = function(e) {
            return this.toHex() === $t(e).toHex()
        }
        ,
        a
    }()
      , $t = function(a) {
        return a instanceof Ed ? a : new Ed(a)
    }
      , Xf = []
      , X5 = function(a) {
        a.forEach(function(e) {
            Xf.indexOf(e) < 0 && (e(Ed, Ad),
            Xf.push(e))
        })
    };
    function H5(a, e) {
        var t = {
            white: "#ffffff",
            bisque: "#ffe4c4",
            blue: "#0000ff",
            cadetblue: "#5f9ea0",
            chartreuse: "#7fff00",
            chocolate: "#d2691e",
            coral: "#ff7f50",
            antiquewhite: "#faebd7",
            aqua: "#00ffff",
            azure: "#f0ffff",
            whitesmoke: "#f5f5f5",
            papayawhip: "#ffefd5",
            plum: "#dda0dd",
            blanchedalmond: "#ffebcd",
            black: "#000000",
            gold: "#ffd700",
            goldenrod: "#daa520",
            gainsboro: "#dcdcdc",
            cornsilk: "#fff8dc",
            cornflowerblue: "#6495ed",
            burlywood: "#deb887",
            aquamarine: "#7fffd4",
            beige: "#f5f5dc",
            crimson: "#dc143c",
            cyan: "#00ffff",
            darkblue: "#00008b",
            darkcyan: "#008b8b",
            darkgoldenrod: "#b8860b",
            darkkhaki: "#bdb76b",
            darkgray: "#a9a9a9",
            darkgreen: "#006400",
            darkgrey: "#a9a9a9",
            peachpuff: "#ffdab9",
            darkmagenta: "#8b008b",
            darkred: "#8b0000",
            darkorchid: "#9932cc",
            darkorange: "#ff8c00",
            darkslateblue: "#483d8b",
            gray: "#808080",
            darkslategray: "#2f4f4f",
            darkslategrey: "#2f4f4f",
            deeppink: "#ff1493",
            deepskyblue: "#00bfff",
            wheat: "#f5deb3",
            firebrick: "#b22222",
            floralwhite: "#fffaf0",
            ghostwhite: "#f8f8ff",
            darkviolet: "#9400d3",
            magenta: "#ff00ff",
            green: "#008000",
            dodgerblue: "#1e90ff",
            grey: "#808080",
            honeydew: "#f0fff0",
            hotpink: "#ff69b4",
            blueviolet: "#8a2be2",
            forestgreen: "#228b22",
            lawngreen: "#7cfc00",
            indianred: "#cd5c5c",
            indigo: "#4b0082",
            fuchsia: "#ff00ff",
            brown: "#a52a2a",
            maroon: "#800000",
            mediumblue: "#0000cd",
            lightcoral: "#f08080",
            darkturquoise: "#00ced1",
            lightcyan: "#e0ffff",
            ivory: "#fffff0",
            lightyellow: "#ffffe0",
            lightsalmon: "#ffa07a",
            lightseagreen: "#20b2aa",
            linen: "#faf0e6",
            mediumaquamarine: "#66cdaa",
            lemonchiffon: "#fffacd",
            lime: "#00ff00",
            khaki: "#f0e68c",
            mediumseagreen: "#3cb371",
            limegreen: "#32cd32",
            mediumspringgreen: "#00fa9a",
            lightskyblue: "#87cefa",
            lightblue: "#add8e6",
            midnightblue: "#191970",
            lightpink: "#ffb6c1",
            mistyrose: "#ffe4e1",
            moccasin: "#ffe4b5",
            mintcream: "#f5fffa",
            lightslategray: "#778899",
            lightslategrey: "#778899",
            navajowhite: "#ffdead",
            navy: "#000080",
            mediumvioletred: "#c71585",
            powderblue: "#b0e0e6",
            palegoldenrod: "#eee8aa",
            oldlace: "#fdf5e6",
            paleturquoise: "#afeeee",
            mediumturquoise: "#48d1cc",
            mediumorchid: "#ba55d3",
            rebeccapurple: "#663399",
            lightsteelblue: "#b0c4de",
            mediumslateblue: "#7b68ee",
            thistle: "#d8bfd8",
            tan: "#d2b48c",
            orchid: "#da70d6",
            mediumpurple: "#9370db",
            purple: "#800080",
            pink: "#ffc0cb",
            skyblue: "#87ceeb",
            springgreen: "#00ff7f",
            palegreen: "#98fb98",
            red: "#ff0000",
            yellow: "#ffff00",
            slateblue: "#6a5acd",
            lavenderblush: "#fff0f5",
            peru: "#cd853f",
            palevioletred: "#db7093",
            violet: "#ee82ee",
            teal: "#008080",
            slategray: "#708090",
            slategrey: "#708090",
            aliceblue: "#f0f8ff",
            darkseagreen: "#8fbc8f",
            darkolivegreen: "#556b2f",
            greenyellow: "#adff2f",
            seagreen: "#2e8b57",
            seashell: "#fff5ee",
            tomato: "#ff6347",
            silver: "#c0c0c0",
            sienna: "#a0522d",
            lavender: "#e6e6fa",
            lightgreen: "#90ee90",
            orange: "#ffa500",
            orangered: "#ff4500",
            steelblue: "#4682b4",
            royalblue: "#4169e1",
            turquoise: "#40e0d0",
            yellowgreen: "#9acd32",
            salmon: "#fa8072",
            saddlebrown: "#8b4513",
            sandybrown: "#f4a460",
            rosybrown: "#bc8f8f",
            darksalmon: "#e9967a",
            lightgoldenrodyellow: "#fafad2",
            snow: "#fffafa",
            lightgrey: "#d3d3d3",
            lightgray: "#d3d3d3",
            dimgray: "#696969",
            dimgrey: "#696969",
            olivedrab: "#6b8e23",
            olive: "#808000"
        }
          , i = {};
        for (var r in t)
            i[t[r]] = r;
        var s = {};
        a.prototype.toName = function(o) {
            if (!(this.rgba.a || this.rgba.r || this.rgba.g || this.rgba.b))
                return "transparent";
            var d, h, l = i[this.toHex()];
            if (l)
                return l;
            if (o != null && o.closest) {
                var u = this.toRgb()
                  , p = 1 / 0
                  , y = "black";
                if (!s.length)
                    for (var _ in t)
                        s[_] = new a(t[_]).toRgb();
                for (var v in t) {
                    var T = (d = u,
                    h = s[v],
                    Math.pow(d.r - h.r, 2) + Math.pow(d.g - h.g, 2) + Math.pow(d.b - h.b, 2));
                    T < p && (p = T,
                    y = v)
                }
                return y
            }
        }
        ,
        e.string.push([function(o) {
            var d = o.toLowerCase()
              , h = d === "transparent" ? "#0000" : t[d];
            return h ? new a(h).toRgb() : null
        }
        , "name"])
    }
    var z5 = Object.defineProperty
      , Hf = Object.getOwnPropertySymbols
      , V5 = Object.prototype.hasOwnProperty
      , W5 = Object.prototype.propertyIsEnumerable
      , zf = (a, e, t) => e in a ? z5(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Y5 = (a, e) => {
        for (var t in e || (e = {}))
            V5.call(e, t) && zf(a, t, e[t]);
        if (Hf)
            for (var t of Hf(e))
                W5.call(e, t) && zf(a, t, e[t]);
        return a
    }
    ;
    X5([H5]);
    var _i = class gr {
        constructor(e=16777215) {
            this._value = null,
            this._components = new Float32Array(4),
            this._components.fill(1),
            this._int = 16777215,
            this.value = e
        }
        get red() {
            return this._components[0]
        }
        get green() {
            return this._components[1]
        }
        get blue() {
            return this._components[2]
        }
        get alpha() {
            return this._components[3]
        }
        setValue(e) {
            return this.value = e,
            this
        }
        set value(e) {
            if (e instanceof gr)
                this._value = this._cloneSource(e._value),
                this._int = e._int,
                this._components.set(e._components);
            else {
                if (e === null)
                    throw new Error("Cannot set Color#value to null");
                (this._value === null || !this._isSourceEqual(this._value, e)) && (this._value = this._cloneSource(e),
                this._normalize(this._value))
            }
        }
        get value() {
            return this._value
        }
        _cloneSource(e) {
            return typeof e == "string" || typeof e == "number" || e instanceof Number || e === null ? e : Array.isArray(e) || ArrayBuffer.isView(e) ? e.slice(0) : typeof e == "object" && e !== null ? Y5({}, e) : e
        }
        _isSourceEqual(e, t) {
            let i = typeof e;
            if (i !== typeof t)
                return !1;
            if (i === "number" || i === "string" || e instanceof Number)
                return e === t;
            if (Array.isArray(e) && Array.isArray(t) || ArrayBuffer.isView(e) && ArrayBuffer.isView(t))
                return e.length !== t.length ? !1 : e.every( (r, s) => r === t[s]);
            if (e !== null && t !== null) {
                let r = Object.keys(e)
                  , s = Object.keys(t);
                return r.length !== s.length ? !1 : r.every(o => e[o] === t[o])
            }
            return e === t
        }
        toRgba() {
            let[e,t,i,r] = this._components;
            return {
                r: e,
                g: t,
                b: i,
                a: r
            }
        }
        toRgb() {
            let[e,t,i] = this._components;
            return {
                r: e,
                g: t,
                b: i
            }
        }
        toRgbaString() {
            let[e,t,i] = this.toUint8RgbArray();
            return `rgba(${e},${t},${i},${this.alpha})`
        }
        toUint8RgbArray(e) {
            let[t,i,r] = this._components;
            return this._arrayRgb || (this._arrayRgb = []),
            e || (e = this._arrayRgb),
            e[0] = Math.round(t * 255),
            e[1] = Math.round(i * 255),
            e[2] = Math.round(r * 255),
            e
        }
        toArray(e) {
            this._arrayRgba || (this._arrayRgba = []),
            e || (e = this._arrayRgba);
            let[t,i,r,s] = this._components;
            return e[0] = t,
            e[1] = i,
            e[2] = r,
            e[3] = s,
            e
        }
        toRgbArray(e) {
            this._arrayRgb || (this._arrayRgb = []),
            e || (e = this._arrayRgb);
            let[t,i,r] = this._components;
            return e[0] = t,
            e[1] = i,
            e[2] = r,
            e
        }
        toNumber() {
            return this._int
        }
        toBgrNumber() {
            let[e,t,i] = this.toUint8RgbArray();
            return (i << 16) + (t << 8) + e
        }
        toLittleEndianNumber() {
            let e = this._int;
            return (e >> 16) + (e & 65280) + ((e & 255) << 16)
        }
        multiply(e) {
            let[t,i,r,s] = gr._temp.setValue(e)._components;
            return this._components[0] *= t,
            this._components[1] *= i,
            this._components[2] *= r,
            this._components[3] *= s,
            this._refreshInt(),
            this._value = null,
            this
        }
        premultiply(e, t=!0) {
            return t && (this._components[0] *= e,
            this._components[1] *= e,
            this._components[2] *= e),
            this._components[3] = e,
            this._refreshInt(),
            this._value = null,
            this
        }
        toPremultiplied(e, t=!0) {
            if (e === 1)
                return (255 << 24) + this._int;
            if (e === 0)
                return t ? 0 : this._int;
            let i = this._int >> 16 & 255
              , r = this._int >> 8 & 255
              , s = this._int & 255;
            return t && (i = i * e + .5 | 0,
            r = r * e + .5 | 0,
            s = s * e + .5 | 0),
            (e * 255 << 24) + (i << 16) + (r << 8) + s
        }
        toHex() {
            let e = this._int.toString(16);
            return `#${"000000".substring(0, 6 - e.length) + e}`
        }
        toHexa() {
            let e = Math.round(this._components[3] * 255).toString(16);
            return this.toHex() + "00".substring(0, 2 - e.length) + e
        }
        setAlpha(e) {
            return this._components[3] = this._clamp(e),
            this
        }
        _normalize(e) {
            let t, i, r, s;
            if ((typeof e == "number" || e instanceof Number) && e >= 0 && e <= 16777215) {
                let o = e;
                t = (o >> 16 & 255) / 255,
                i = (o >> 8 & 255) / 255,
                r = (o & 255) / 255,
                s = 1
            } else if ((Array.isArray(e) || e instanceof Float32Array) && e.length >= 3 && e.length <= 4)
                e = this._clamp(e),
                [t,i,r,s=1] = e;
            else if ((e instanceof Uint8Array || e instanceof Uint8ClampedArray) && e.length >= 3 && e.length <= 4)
                e = this._clamp(e, 0, 255),
                [t,i,r,s=255] = e,
                t /= 255,
                i /= 255,
                r /= 255,
                s /= 255;
            else if (typeof e == "string" || typeof e == "object") {
                if (typeof e == "string") {
                    let d = gr.HEX_PATTERN.exec(e);
                    d && (e = `#${d[2]}`)
                }
                let o = $t(e);
                o.isValid() && ({r: t, g: i, b: r, a: s} = o.rgba,
                t /= 255,
                i /= 255,
                r /= 255)
            }
            if (t !== void 0)
                this._components[0] = t,
                this._components[1] = i,
                this._components[2] = r,
                this._components[3] = s,
                this._refreshInt();
            else
                throw new Error(`Unable to convert color ${e}`)
        }
        _refreshInt() {
            this._clamp(this._components);
            let[e,t,i] = this._components;
            this._int = (e * 255 << 16) + (t * 255 << 8) + (i * 255 | 0)
        }
        _clamp(e, t=0, i=1) {
            return typeof e == "number" ? Math.min(Math.max(e, t), i) : (e.forEach( (r, s) => {
                e[s] = Math.min(Math.max(r, t), i)
            }
            ),
            e)
        }
        static isColorLike(e) {
            return typeof e == "number" || typeof e == "string" || e instanceof Number || e instanceof gr || Array.isArray(e) || e instanceof Uint8Array || e instanceof Uint8ClampedArray || e instanceof Float32Array || e.r !== void 0 && e.g !== void 0 && e.b !== void 0 || e.r !== void 0 && e.g !== void 0 && e.b !== void 0 && e.a !== void 0 || e.h !== void 0 && e.s !== void 0 && e.l !== void 0 || e.h !== void 0 && e.s !== void 0 && e.l !== void 0 && e.a !== void 0 || e.h !== void 0 && e.s !== void 0 && e.v !== void 0 || e.h !== void 0 && e.s !== void 0 && e.v !== void 0 && e.a !== void 0
        }
    }
    ;
    _i.shared = new _i,
    _i._temp = new _i,
    _i.HEX_PATTERN = /^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;
    var Ee = _i
      , $5 = {
        cullArea: null,
        cullable: !1,
        cullableChildren: !0
    }
      , K5 = Math.PI * 2
      , q5 = 180 / Math.PI
      , Z5 = Math.PI / 180
      , Ce = class a {
        constructor(e=0, t=0) {
            this.x = 0,
            this.y = 0,
            this.x = e,
            this.y = t
        }
        clone() {
            return new a(this.x,this.y)
        }
        copyFrom(e) {
            return this.set(e.x, e.y),
            this
        }
        copyTo(e) {
            return e.set(this.x, this.y),
            e
        }
        equals(e) {
            return e.x === this.x && e.y === this.y
        }
        set(e=0, t=e) {
            return this.x = e,
            this.y = t,
            this
        }
        static get shared() {
            return Pc.x = 0,
            Pc.y = 0,
            Pc
        }
    }
      , Pc = new Ce
      , ie = class a {
        constructor(e=1, t=0, i=0, r=1, s=0, o=0) {
            this.array = null,
            this.a = e,
            this.b = t,
            this.c = i,
            this.d = r,
            this.tx = s,
            this.ty = o
        }
        fromArray(e) {
            this.a = e[0],
            this.b = e[1],
            this.c = e[3],
            this.d = e[4],
            this.tx = e[2],
            this.ty = e[5]
        }
        set(e, t, i, r, s, o) {
            return this.a = e,
            this.b = t,
            this.c = i,
            this.d = r,
            this.tx = s,
            this.ty = o,
            this
        }
        toArray(e, t) {
            this.array || (this.array = new Float32Array(9));
            let i = t || this.array;
            return e ? (i[0] = this.a,
            i[1] = this.b,
            i[2] = 0,
            i[3] = this.c,
            i[4] = this.d,
            i[5] = 0,
            i[6] = this.tx,
            i[7] = this.ty,
            i[8] = 1) : (i[0] = this.a,
            i[1] = this.c,
            i[2] = this.tx,
            i[3] = this.b,
            i[4] = this.d,
            i[5] = this.ty,
            i[6] = 0,
            i[7] = 0,
            i[8] = 1),
            i
        }
        apply(e, t) {
            t = t || new Ce;
            let i = e.x
              , r = e.y;
            return t.x = this.a * i + this.c * r + this.tx,
            t.y = this.b * i + this.d * r + this.ty,
            t
        }
        applyInverse(e, t) {
            t = t || new Ce;
            let i = this.a
              , r = this.b
              , s = this.c
              , o = this.d
              , d = this.tx
              , h = this.ty
              , l = 1 / (i * o + s * -r)
              , u = e.x
              , p = e.y;
            return t.x = o * l * u + -s * l * p + (h * s - d * o) * l,
            t.y = i * l * p + -r * l * u + (-h * i + d * r) * l,
            t
        }
        translate(e, t) {
            return this.tx += e,
            this.ty += t,
            this
        }
        scale(e, t) {
            return this.a *= e,
            this.d *= t,
            this.c *= e,
            this.b *= t,
            this.tx *= e,
            this.ty *= t,
            this
        }
        rotate(e) {
            let t = Math.cos(e)
              , i = Math.sin(e)
              , r = this.a
              , s = this.c
              , o = this.tx;
            return this.a = r * t - this.b * i,
            this.b = r * i + this.b * t,
            this.c = s * t - this.d * i,
            this.d = s * i + this.d * t,
            this.tx = o * t - this.ty * i,
            this.ty = o * i + this.ty * t,
            this
        }
        append(e) {
            let t = this.a
              , i = this.b
              , r = this.c
              , s = this.d;
            return this.a = e.a * t + e.b * r,
            this.b = e.a * i + e.b * s,
            this.c = e.c * t + e.d * r,
            this.d = e.c * i + e.d * s,
            this.tx = e.tx * t + e.ty * r + this.tx,
            this.ty = e.tx * i + e.ty * s + this.ty,
            this
        }
        appendFrom(e, t) {
            let i = e.a
              , r = e.b
              , s = e.c
              , o = e.d
              , d = e.tx
              , h = e.ty
              , l = t.a
              , u = t.b
              , p = t.c
              , y = t.d;
            return this.a = i * l + r * p,
            this.b = i * u + r * y,
            this.c = s * l + o * p,
            this.d = s * u + o * y,
            this.tx = d * l + h * p + t.tx,
            this.ty = d * u + h * y + t.ty,
            this
        }
        setTransform(e, t, i, r, s, o, d, h, l) {
            return this.a = Math.cos(d + l) * s,
            this.b = Math.sin(d + l) * s,
            this.c = -Math.sin(d - h) * o,
            this.d = Math.cos(d - h) * o,
            this.tx = e - (i * this.a + r * this.c),
            this.ty = t - (i * this.b + r * this.d),
            this
        }
        prepend(e) {
            let t = this.tx;
            if (e.a !== 1 || e.b !== 0 || e.c !== 0 || e.d !== 1) {
                let i = this.a
                  , r = this.c;
                this.a = i * e.a + this.b * e.c,
                this.b = i * e.b + this.b * e.d,
                this.c = r * e.a + this.d * e.c,
                this.d = r * e.b + this.d * e.d
            }
            return this.tx = t * e.a + this.ty * e.c + e.tx,
            this.ty = t * e.b + this.ty * e.d + e.ty,
            this
        }
        decompose(e) {
            let t = this.a
              , i = this.b
              , r = this.c
              , s = this.d
              , o = e.pivot
              , d = -Math.atan2(-r, s)
              , h = Math.atan2(i, t)
              , l = Math.abs(d + h);
            return l < 1e-5 || Math.abs(K5 - l) < 1e-5 ? (e.rotation = h,
            e.skew.x = e.skew.y = 0) : (e.rotation = 0,
            e.skew.x = d,
            e.skew.y = h),
            e.scale.x = Math.sqrt(t * t + i * i),
            e.scale.y = Math.sqrt(r * r + s * s),
            e.position.x = this.tx + (o.x * t + o.y * r),
            e.position.y = this.ty + (o.x * i + o.y * s),
            e
        }
        invert() {
            let e = this.a
              , t = this.b
              , i = this.c
              , r = this.d
              , s = this.tx
              , o = e * r - t * i;
            return this.a = r / o,
            this.b = -t / o,
            this.c = -i / o,
            this.d = e / o,
            this.tx = (i * this.ty - r * s) / o,
            this.ty = -(e * this.ty - t * s) / o,
            this
        }
        isIdentity() {
            return this.a === 1 && this.b === 0 && this.c === 0 && this.d === 1 && this.tx === 0 && this.ty === 0
        }
        identity() {
            return this.a = 1,
            this.b = 0,
            this.c = 0,
            this.d = 1,
            this.tx = 0,
            this.ty = 0,
            this
        }
        clone() {
            let e = new a;
            return e.a = this.a,
            e.b = this.b,
            e.c = this.c,
            e.d = this.d,
            e.tx = this.tx,
            e.ty = this.ty,
            e
        }
        copyTo(e) {
            return e.a = this.a,
            e.b = this.b,
            e.c = this.c,
            e.d = this.d,
            e.tx = this.tx,
            e.ty = this.ty,
            e
        }
        copyFrom(e) {
            return this.a = e.a,
            this.b = e.b,
            this.c = e.c,
            this.d = e.d,
            this.tx = e.tx,
            this.ty = e.ty,
            this
        }
        equals(e) {
            return e.a === this.a && e.b === this.b && e.c === this.c && e.d === this.d && e.tx === this.tx && e.ty === this.ty
        }
        static get IDENTITY() {
            return J5.identity()
        }
        static get shared() {
            return Q5.identity()
        }
    }
      , Q5 = new ie
      , J5 = new ie
      , Ve = class a {
        constructor(e, t, i) {
            this._x = t || 0,
            this._y = i || 0,
            this._observer = e
        }
        clone(e) {
            return new a(e ?? this._observer,this._x,this._y)
        }
        set(e=0, t=e) {
            return (this._x !== e || this._y !== t) && (this._x = e,
            this._y = t,
            this._observer._onUpdate(this)),
            this
        }
        copyFrom(e) {
            return (this._x !== e.x || this._y !== e.y) && (this._x = e.x,
            this._y = e.y,
            this._observer._onUpdate(this)),
            this
        }
        copyTo(e) {
            return e.set(this._x, this._y),
            e
        }
        equals(e) {
            return e.x === this._x && e.y === this._y
        }
        get x() {
            return this._x
        }
        set x(e) {
            this._x !== e && (this._x = e,
            this._observer._onUpdate(this))
        }
        get y() {
            return this._y
        }
        set y(e) {
            this._y !== e && (this._y = e,
            this._observer._onUpdate(this))
        }
    }
      , Rc = {
        default: -1
    };
    function Be(a="default") {
        return Rc[a] === void 0 && (Rc[a] = -1),
        ++Rc[a]
    }
    var Rr = class {
        constructor(e, t) {
            this._pool = [],
            this._count = 0,
            this._index = 0,
            this._classType = e,
            t && this.prepopulate(t)
        }
        prepopulate(e) {
            for (let t = 0; t < e; t++)
                this._pool[this._index++] = new this._classType;
            this._count += e
        }
        get(e) {
            var t;
            let i;
            return this._index > 0 ? i = this._pool[--this._index] : i = new this._classType,
            (t = i.init) == null || t.call(i, e),
            i
        }
        return(e) {
            var t;
            (t = e.reset) == null || t.call(e),
            this._pool[this._index++] = e
        }
        get totalSize() {
            return this._count
        }
        get totalFree() {
            return this._index
        }
        get totalUsed() {
            return this._count - this._index
        }
        clear() {
            this._pool.length = 0,
            this._index = 0
        }
    }
      , Pd = class {
        constructor() {
            this._poolsByClass = new Map
        }
        prepopulate(e, t) {
            this.getPool(e).prepopulate(t)
        }
        get(e, t) {
            return this.getPool(e).get(t)
        }
        return(e) {
            this.getPool(e.constructor).return(e)
        }
        getPool(e) {
            return this._poolsByClass.has(e) || this._poolsByClass.set(e, new Rr(e)),
            this._poolsByClass.get(e)
        }
        stats() {
            let e = {};
            return this._poolsByClass.forEach(t => {
                let i = e[t._classType.name] ? t._classType.name + t._classType.ID : t._classType.name;
                e[i] = {
                    free: t.totalFree,
                    used: t.totalUsed,
                    size: t.totalSize
                }
            }
            ),
            e
        }
    }
      , ye = new Pd
      , e4 = {
        get isCachedAsTexture() {
            var a;
            return !!((a = this.renderGroup) != null && a.isCachedAsTexture)
        },
        cacheAsTexture(a) {
            typeof a == "boolean" && a === !1 ? this.disableRenderGroup() : (this.enableRenderGroup(),
            this.renderGroup.enableCacheAsTexture(a === !0 ? {} : a))
        },
        updateCacheTexture() {
            var a;
            (a = this.renderGroup) == null || a.updateCacheTexture()
        },
        get cacheAsBitmap() {
            return this.isCachedAsTexture
        },
        set cacheAsBitmap(a) {
            this.cacheAsTexture(a)
        }
    };
    function d2(a, e, t) {
        let i = a.length, r;
        if (e >= i || t === 0)
            return;
        t = e + t > i ? i - e : t;
        let s = i - t;
        for (r = e; r < s; ++r)
            a[r] = a[r + t];
        a.length = s
    }
    var t4 = {
        allowChildren: !0,
        removeChildren(a=0, e) {
            let t = e ?? this.children.length
              , i = t - a
              , r = [];
            if (i > 0 && i <= t) {
                for (let o = t - 1; o >= a; o--) {
                    let d = this.children[o];
                    d && (r.push(d),
                    d.parent = null)
                }
                d2(this.children, a, t);
                let s = this.renderGroup || this.parentRenderGroup;
                s && s.removeChildren(r);
                for (let o = 0; o < r.length; ++o)
                    this.emit("childRemoved", r[o], this, o),
                    r[o].emit("removed", this);
                return r
            } else if (i === 0 && this.children.length === 0)
                return r;
            throw new RangeError("removeChildren: numeric values are outside the acceptable range.")
        },
        removeChildAt(a) {
            let e = this.getChildAt(a);
            return this.removeChild(e)
        },
        getChildAt(a) {
            if (a < 0 || a >= this.children.length)
                throw new Error(`getChildAt: Index (${a}) does not exist.`);
            return this.children[a]
        },
        setChildIndex(a, e) {
            if (e < 0 || e >= this.children.length)
                throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);
            this.getChildIndex(a),
            this.addChildAt(a, e)
        },
        getChildIndex(a) {
            let e = this.children.indexOf(a);
            if (e === -1)
                throw new Error("The supplied Container must be a child of the caller");
            return e
        },
        addChildAt(a, e) {
            let {children: t} = this;
            if (e < 0 || e > t.length)
                throw new Error(`${a}addChildAt: The index ${e} supplied is out of bounds ${t.length}`);
            if (a.parent) {
                let r = a.parent.children.indexOf(a);
                if (a.parent === this && r === e)
                    return a;
                r !== -1 && a.parent.children.splice(r, 1)
            }
            e === t.length ? t.push(a) : t.splice(e, 0, a),
            a.parent = this,
            a.didChange = !0,
            a._updateFlags = 15;
            let i = this.renderGroup || this.parentRenderGroup;
            return i && i.addChild(a),
            this.sortableChildren && (this.sortDirty = !0),
            this.emit("childAdded", a, this, e),
            a.emit("added", this),
            a
        },
        swapChildren(a, e) {
            if (a === e)
                return;
            let t = this.getChildIndex(a)
              , i = this.getChildIndex(e);
            this.children[t] = e,
            this.children[i] = a;
            let r = this.renderGroup || this.parentRenderGroup;
            r && (r.structureDidChange = !0),
            this._didContainerChangeTick++
        },
        removeFromParent() {
            var a;
            (a = this.parent) == null || a.removeChild(this)
        },
        reparentChild(...a) {
            return a.length === 1 ? this.reparentChildAt(a[0], this.children.length) : (a.forEach(e => this.reparentChildAt(e, this.children.length)),
            a[0])
        },
        reparentChildAt(a, e) {
            if (a.parent === this)
                return this.setChildIndex(a, e),
                a;
            let t = a.worldTransform.clone();
            a.removeFromParent(),
            this.addChildAt(a, e);
            let i = this.worldTransform.clone();
            return i.invert(),
            t.prepend(i),
            a.setFromMatrix(t),
            a
        }
    }
      , a4 = {
        collectRenderables(a, e, t) {
            this.parentRenderLayer && this.parentRenderLayer !== t || this.globalDisplayStatus < 7 || !this.includeInBuild || (this.sortableChildren && this.sortChildren(),
            this.isSimple ? this.collectRenderablesSimple(a, e, t) : this.renderGroup ? e.renderPipes.renderGroup.addRenderGroup(this.renderGroup, a) : this.collectRenderablesWithEffects(a, e, t))
        },
        collectRenderablesSimple(a, e, t) {
            let i = this.children
              , r = i.length;
            for (let s = 0; s < r; s++)
                i[s].collectRenderables(a, e, t)
        },
        collectRenderablesWithEffects(a, e, t) {
            let {renderPipes: i} = e;
            for (let r = 0; r < this.effects.length; r++) {
                let s = this.effects[r];
                i[s.pipe].push(s, this, a)
            }
            this.collectRenderablesSimple(a, e, t);
            for (let r = this.effects.length - 1; r >= 0; r--) {
                let s = this.effects[r];
                i[s.pipe].pop(s, this, a)
            }
        }
    }
      , Ai = class {
        constructor() {
            this.pipe = "filter",
            this.priority = 1
        }
        destroy() {
            for (let e = 0; e < this.filters.length; e++)
                this.filters[e].destroy();
            this.filters = null,
            this.filterArea = null
        }
    }
      , Rd = class {
        constructor() {
            this._effectClasses = [],
            this._tests = [],
            this._initialized = !1
        }
        init() {
            this._initialized || (this._initialized = !0,
            this._effectClasses.forEach(e => {
                this.add({
                    test: e.test,
                    maskClass: e
                })
            }
            ))
        }
        add(e) {
            this._tests.push(e)
        }
        getMaskEffect(e) {
            this._initialized || this.init();
            for (let t = 0; t < this._tests.length; t++) {
                let i = this._tests[t];
                if (i.test(e))
                    return ye.get(i.maskClass, e)
            }
            return e
        }
        returnMaskEffect(e) {
            ye.return(e)
        }
    }
      , Md = new Rd;
    pe.handleByList(B.MaskEffect, Md._effectClasses);
    var i4 = Object.defineProperty
      , Vf = Object.getOwnPropertySymbols
      , r4 = Object.prototype.hasOwnProperty
      , s4 = Object.prototype.propertyIsEnumerable
      , Wf = (a, e, t) => e in a ? i4(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Yf = (a, e) => {
        for (var t in e || (e = {}))
            r4.call(e, t) && Wf(a, t, e[t]);
        if (Vf)
            for (var t of Vf(e))
                s4.call(e, t) && Wf(a, t, e[t]);
        return a
    }
      , n4 = {
        _maskEffect: null,
        _maskOptions: {
            inverse: !1
        },
        _filterEffect: null,
        effects: [],
        _markStructureAsChanged() {
            let a = this.renderGroup || this.parentRenderGroup;
            a && (a.structureDidChange = !0)
        },
        addEffect(a) {
            this.effects.indexOf(a) === -1 && (this.effects.push(a),
            this.effects.sort( (e, t) => e.priority - t.priority),
            this._markStructureAsChanged(),
            this._updateIsSimple())
        },
        removeEffect(a) {
            let e = this.effects.indexOf(a);
            e !== -1 && (this.effects.splice(e, 1),
            this._markStructureAsChanged(),
            this._updateIsSimple())
        },
        set mask(a) {
            let e = this._maskEffect;
            e?.mask !== a && (e && (this.removeEffect(e),
            Md.returnMaskEffect(e),
            this._maskEffect = null),
            a != null && (this._maskEffect = Md.getMaskEffect(a),
            this.addEffect(this._maskEffect)))
        },
        setMask(a) {
            this._maskOptions = Yf(Yf({}, this._maskOptions), a),
            a.mask && (this.mask = a.mask),
            this._markStructureAsChanged()
        },
        get mask() {
            var a;
            return (a = this._maskEffect) == null ? void 0 : a.mask
        },
        set filters(a) {
            var e;
            !Array.isArray(a) && a && (a = [a]);
            let t = this._filterEffect || (this._filterEffect = new Ai);
            a = a;
            let i = a?.length > 0
              , r = ((e = t.filters) == null ? void 0 : e.length) > 0
              , s = i !== r;
            a = Array.isArray(a) ? a.slice(0) : a,
            t.filters = Object.freeze(a),
            s && (i ? this.addEffect(t) : (this.removeEffect(t),
            t.filters = a ?? null))
        },
        get filters() {
            var a;
            return (a = this._filterEffect) == null ? void 0 : a.filters
        },
        set filterArea(a) {
            this._filterEffect || (this._filterEffect = new Ai),
            this._filterEffect.filterArea = a
        },
        get filterArea() {
            var a;
            return (a = this._filterEffect) == null ? void 0 : a.filterArea
        }
    }
      , o4 = {
        label: null,
        get name() {
            return this.label
        },
        set name(a) {
            this.label = a
        },
        getChildByName(a, e=!1) {
            return this.getChildByLabel(a, e)
        },
        getChildByLabel(a, e=!1) {
            let t = this.children;
            for (let i = 0; i < t.length; i++) {
                let r = t[i];
                if (r.label === a || a instanceof RegExp && a.test(r.label))
                    return r
            }
            if (e)
                for (let i = 0; i < t.length; i++) {
                    let r = t[i].getChildByLabel(a, !0);
                    if (r)
                        return r
                }
            return null
        },
        getChildrenByLabel(a, e=!1, t=[]) {
            let i = this.children;
            for (let r = 0; r < i.length; r++) {
                let s = i[r];
                (s.label === a || a instanceof RegExp && a.test(s.label)) && t.push(s)
            }
            if (e)
                for (let r = 0; r < i.length; r++)
                    i[r].getChildrenByLabel(a, !0, t);
            return t
        }
    }
      , bs = [new Ce, new Ce, new Ce, new Ce]
      , Pe = class a {
        constructor(e=0, t=0, i=0, r=0) {
            this.type = "rectangle",
            this.x = Number(e),
            this.y = Number(t),
            this.width = Number(i),
            this.height = Number(r)
        }
        get left() {
            return this.x
        }
        get right() {
            return this.x + this.width
        }
        get top() {
            return this.y
        }
        get bottom() {
            return this.y + this.height
        }
        isEmpty() {
            return this.left === this.right || this.top === this.bottom
        }
        static get EMPTY() {
            return new a(0,0,0,0)
        }
        clone() {
            return new a(this.x,this.y,this.width,this.height)
        }
        copyFromBounds(e) {
            return this.x = e.minX,
            this.y = e.minY,
            this.width = e.maxX - e.minX,
            this.height = e.maxY - e.minY,
            this
        }
        copyFrom(e) {
            return this.x = e.x,
            this.y = e.y,
            this.width = e.width,
            this.height = e.height,
            this
        }
        copyTo(e) {
            return e.copyFrom(this),
            e
        }
        contains(e, t) {
            return this.width <= 0 || this.height <= 0 ? !1 : e >= this.x && e < this.x + this.width && t >= this.y && t < this.y + this.height
        }
        strokeContains(e, t, i, r=.5) {
            let {width: s, height: o} = this;
            if (s <= 0 || o <= 0)
                return !1;
            let d = this.x
              , h = this.y
              , l = i * (1 - r)
              , u = i - l
              , p = d - l
              , y = d + s + l
              , _ = h - l
              , v = h + o + l
              , T = d + u
              , A = d + s - u
              , P = h + u
              , I = h + o - u;
            return e >= p && e <= y && t >= _ && t <= v && !(e > T && e < A && t > P && t < I)
        }
        intersects(e, t) {
            if (!t) {
                let re = this.x < e.x ? e.x : this.x;
                if ((this.right > e.right ? e.right : this.right) <= re)
                    return !1;
                let ce = this.y < e.y ? e.y : this.y;
                return (this.bottom > e.bottom ? e.bottom : this.bottom) > ce
            }
            let i = this.left
              , r = this.right
              , s = this.top
              , o = this.bottom;
            if (r <= i || o <= s)
                return !1;
            let d = bs[0].set(e.left, e.top)
              , h = bs[1].set(e.left, e.bottom)
              , l = bs[2].set(e.right, e.top)
              , u = bs[3].set(e.right, e.bottom);
            if (l.x <= d.x || h.y <= d.y)
                return !1;
            let p = Math.sign(t.a * t.d - t.b * t.c);
            if (p === 0 || (t.apply(d, d),
            t.apply(h, h),
            t.apply(l, l),
            t.apply(u, u),
            Math.max(d.x, h.x, l.x, u.x) <= i || Math.min(d.x, h.x, l.x, u.x) >= r || Math.max(d.y, h.y, l.y, u.y) <= s || Math.min(d.y, h.y, l.y, u.y) >= o))
                return !1;
            let y = p * (h.y - d.y)
              , _ = p * (d.x - h.x)
              , v = y * i + _ * s
              , T = y * r + _ * s
              , A = y * i + _ * o
              , P = y * r + _ * o;
            if (Math.max(v, T, A, P) <= y * d.x + _ * d.y || Math.min(v, T, A, P) >= y * u.x + _ * u.y)
                return !1;
            let I = p * (d.y - l.y)
              , F = p * (l.x - d.x)
              , D = I * i + F * s
              , H = I * r + F * s
              , N = I * i + F * o
              , j = I * r + F * o;
            return !(Math.max(D, H, N, j) <= I * d.x + F * d.y || Math.min(D, H, N, j) >= I * u.x + F * u.y)
        }
        pad(e=0, t=e) {
            return this.x -= e,
            this.y -= t,
            this.width += e * 2,
            this.height += t * 2,
            this
        }
        fit(e) {
            let t = Math.max(this.x, e.x)
              , i = Math.min(this.x + this.width, e.x + e.width)
              , r = Math.max(this.y, e.y)
              , s = Math.min(this.y + this.height, e.y + e.height);
            return this.x = t,
            this.width = Math.max(i - t, 0),
            this.y = r,
            this.height = Math.max(s - r, 0),
            this
        }
        ceil(e=1, t=.001) {
            let i = Math.ceil((this.x + this.width - t) * e) / e
              , r = Math.ceil((this.y + this.height - t) * e) / e;
            return this.x = Math.floor((this.x + t) * e) / e,
            this.y = Math.floor((this.y + t) * e) / e,
            this.width = i - this.x,
            this.height = r - this.y,
            this
        }
        enlarge(e) {
            let t = Math.min(this.x, e.x)
              , i = Math.max(this.x + this.width, e.x + e.width)
              , r = Math.min(this.y, e.y)
              , s = Math.max(this.y + this.height, e.y + e.height);
            return this.x = t,
            this.width = i - t,
            this.y = r,
            this.height = s - r,
            this
        }
        getBounds(e) {
            return e || (e = new a),
            e.copyFrom(this),
            e
        }
    }
      , $f = new ie
      , qe = class a {
        constructor(e=1 / 0, t=1 / 0, i=-1 / 0, r=-1 / 0) {
            this.minX = 1 / 0,
            this.minY = 1 / 0,
            this.maxX = -1 / 0,
            this.maxY = -1 / 0,
            this.matrix = $f,
            this.minX = e,
            this.minY = t,
            this.maxX = i,
            this.maxY = r
        }
        isEmpty() {
            return this.minX > this.maxX || this.minY > this.maxY
        }
        get rectangle() {
            this._rectangle || (this._rectangle = new Pe);
            let e = this._rectangle;
            return this.minX > this.maxX || this.minY > this.maxY ? (e.x = 0,
            e.y = 0,
            e.width = 0,
            e.height = 0) : e.copyFromBounds(this),
            e
        }
        clear() {
            return this.minX = 1 / 0,
            this.minY = 1 / 0,
            this.maxX = -1 / 0,
            this.maxY = -1 / 0,
            this.matrix = $f,
            this
        }
        set(e, t, i, r) {
            this.minX = e,
            this.minY = t,
            this.maxX = i,
            this.maxY = r
        }
        addFrame(e, t, i, r, s) {
            s || (s = this.matrix);
            let o = s.a
              , d = s.b
              , h = s.c
              , l = s.d
              , u = s.tx
              , p = s.ty
              , y = this.minX
              , _ = this.minY
              , v = this.maxX
              , T = this.maxY
              , A = o * e + h * t + u
              , P = d * e + l * t + p;
            A < y && (y = A),
            P < _ && (_ = P),
            A > v && (v = A),
            P > T && (T = P),
            A = o * i + h * t + u,
            P = d * i + l * t + p,
            A < y && (y = A),
            P < _ && (_ = P),
            A > v && (v = A),
            P > T && (T = P),
            A = o * e + h * r + u,
            P = d * e + l * r + p,
            A < y && (y = A),
            P < _ && (_ = P),
            A > v && (v = A),
            P > T && (T = P),
            A = o * i + h * r + u,
            P = d * i + l * r + p,
            A < y && (y = A),
            P < _ && (_ = P),
            A > v && (v = A),
            P > T && (T = P),
            this.minX = y,
            this.minY = _,
            this.maxX = v,
            this.maxY = T
        }
        addRect(e, t) {
            this.addFrame(e.x, e.y, e.x + e.width, e.y + e.height, t)
        }
        addBounds(e, t) {
            this.addFrame(e.minX, e.minY, e.maxX, e.maxY, t)
        }
        addBoundsMask(e) {
            this.minX = this.minX > e.minX ? this.minX : e.minX,
            this.minY = this.minY > e.minY ? this.minY : e.minY,
            this.maxX = this.maxX < e.maxX ? this.maxX : e.maxX,
            this.maxY = this.maxY < e.maxY ? this.maxY : e.maxY
        }
        applyMatrix(e) {
            let t = this.minX
              , i = this.minY
              , r = this.maxX
              , s = this.maxY
              , {a: o, b: d, c: h, d: l, tx: u, ty: p} = e
              , y = o * t + h * i + u
              , _ = d * t + l * i + p;
            this.minX = y,
            this.minY = _,
            this.maxX = y,
            this.maxY = _,
            y = o * r + h * i + u,
            _ = d * r + l * i + p,
            this.minX = y < this.minX ? y : this.minX,
            this.minY = _ < this.minY ? _ : this.minY,
            this.maxX = y > this.maxX ? y : this.maxX,
            this.maxY = _ > this.maxY ? _ : this.maxY,
            y = o * t + h * s + u,
            _ = d * t + l * s + p,
            this.minX = y < this.minX ? y : this.minX,
            this.minY = _ < this.minY ? _ : this.minY,
            this.maxX = y > this.maxX ? y : this.maxX,
            this.maxY = _ > this.maxY ? _ : this.maxY,
            y = o * r + h * s + u,
            _ = d * r + l * s + p,
            this.minX = y < this.minX ? y : this.minX,
            this.minY = _ < this.minY ? _ : this.minY,
            this.maxX = y > this.maxX ? y : this.maxX,
            this.maxY = _ > this.maxY ? _ : this.maxY
        }
        fit(e) {
            return this.minX < e.left && (this.minX = e.left),
            this.maxX > e.right && (this.maxX = e.right),
            this.minY < e.top && (this.minY = e.top),
            this.maxY > e.bottom && (this.maxY = e.bottom),
            this
        }
        fitBounds(e, t, i, r) {
            return this.minX < e && (this.minX = e),
            this.maxX > t && (this.maxX = t),
            this.minY < i && (this.minY = i),
            this.maxY > r && (this.maxY = r),
            this
        }
        pad(e, t=e) {
            return this.minX -= e,
            this.maxX += e,
            this.minY -= t,
            this.maxY += t,
            this
        }
        ceil() {
            return this.minX = Math.floor(this.minX),
            this.minY = Math.floor(this.minY),
            this.maxX = Math.ceil(this.maxX),
            this.maxY = Math.ceil(this.maxY),
            this
        }
        clone() {
            return new a(this.minX,this.minY,this.maxX,this.maxY)
        }
        scale(e, t=e) {
            return this.minX *= e,
            this.minY *= t,
            this.maxX *= e,
            this.maxY *= t,
            this
        }
        get x() {
            return this.minX
        }
        set x(e) {
            let t = this.maxX - this.minX;
            this.minX = e,
            this.maxX = e + t
        }
        get y() {
            return this.minY
        }
        set y(e) {
            let t = this.maxY - this.minY;
            this.minY = e,
            this.maxY = e + t
        }
        get width() {
            return this.maxX - this.minX
        }
        set width(e) {
            this.maxX = this.minX + e
        }
        get height() {
            return this.maxY - this.minY
        }
        set height(e) {
            this.maxY = this.minY + e
        }
        get left() {
            return this.minX
        }
        get right() {
            return this.maxX
        }
        get top() {
            return this.minY
        }
        get bottom() {
            return this.maxY
        }
        get isPositive() {
            return this.maxX - this.minX > 0 && this.maxY - this.minY > 0
        }
        get isValid() {
            return this.minX + this.minY !== 1 / 0
        }
        addVertexData(e, t, i, r) {
            let s = this.minX
              , o = this.minY
              , d = this.maxX
              , h = this.maxY;
            r || (r = this.matrix);
            let l = r.a
              , u = r.b
              , p = r.c
              , y = r.d
              , _ = r.tx
              , v = r.ty;
            for (let T = t; T < i; T += 2) {
                let A = e[T]
                  , P = e[T + 1]
                  , I = l * A + p * P + _
                  , F = u * A + y * P + v;
                s = I < s ? I : s,
                o = F < o ? F : o,
                d = I > d ? I : d,
                h = F > h ? F : h
            }
            this.minX = s,
            this.minY = o,
            this.maxX = d,
            this.maxY = h
        }
        containsPoint(e, t) {
            return this.minX <= e && this.minY <= t && this.maxX >= e && this.maxY >= t
        }
        toString() {
            return `[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`
        }
        copyFrom(e) {
            return this.minX = e.minX,
            this.minY = e.minY,
            this.maxX = e.maxX,
            this.maxY = e.maxY,
            this
        }
    }
      , it = new Rr(ie)
      , ca = new Rr(qe)
      , c4 = new ie
      , d4 = {
        getFastGlobalBounds(a, e) {
            e || (e = new qe),
            e.clear(),
            this._getGlobalBoundsRecursive(!!a, e, this.parentRenderLayer),
            e.isValid || e.set(0, 0, 0, 0);
            let t = this.renderGroup || this.parentRenderGroup;
            return e.applyMatrix(t.worldTransform),
            e
        },
        _getGlobalBoundsRecursive(a, e, t) {
            let i = e;
            if (a && this.parentRenderLayer !== t || this.localDisplayStatus !== 7 || !this.measurable)
                return;
            let r = !!this.effects.length;
            if ((this.renderGroup || r) && (i = ca.get().clear()),
            this.boundsArea)
                e.addRect(this.boundsArea, this.worldTransform);
            else {
                if (this.renderPipeId) {
                    let o = this.bounds;
                    i.addFrame(o.minX, o.minY, o.maxX, o.maxY, this.groupTransform)
                }
                let s = this.children;
                for (let o = 0; o < s.length; o++)
                    s[o]._getGlobalBoundsRecursive(a, i, t)
            }
            if (r) {
                let s = !1
                  , o = this.renderGroup || this.parentRenderGroup;
                for (let d = 0; d < this.effects.length; d++)
                    this.effects[d].addBounds && (s || (s = !0,
                    i.applyMatrix(o.worldTransform)),
                    this.effects[d].addBounds(i, !0));
                s && (i.applyMatrix(o.worldTransform.copyTo(c4).invert()),
                e.addBounds(i, this.relativeGroupTransform)),
                e.addBounds(i),
                ca.return(i)
            } else
                this.renderGroup && (e.addBounds(i, this.relativeGroupTransform),
                ca.return(i))
        }
    };
    function Bo(a, e, t) {
        t.clear();
        let i, r;
        return a.parent ? e ? i = a.parent.worldTransform : (r = it.get().identity(),
        i = pl(a, r)) : i = ie.IDENTITY,
        h2(a, t, i, e),
        r && it.return(r),
        t.isValid || t.set(0, 0, 0, 0),
        t
    }
    function h2(a, e, t, i) {
        var r, s;
        if (!a.visible || !a.measurable)
            return;
        let o;
        i ? o = a.worldTransform : (a.updateLocalTransform(),
        o = it.get(),
        o.appendFrom(a.localTransform, t));
        let d = e
          , h = !!a.effects.length;
        if (h && (e = ca.get().clear()),
        a.boundsArea)
            e.addRect(a.boundsArea, o);
        else {
            a.bounds && (e.matrix = o,
            e.addBounds(a.bounds));
            for (let l = 0; l < a.children.length; l++)
                h2(a.children[l], e, o, i)
        }
        if (h) {
            for (let l = 0; l < a.effects.length; l++)
                (s = (r = a.effects[l]).addBounds) == null || s.call(r, e);
            d.addBounds(e, ie.IDENTITY),
            ca.return(e)
        }
        i || it.return(o)
    }
    function pl(a, e) {
        let t = a.parent;
        return t && (pl(t, e),
        t.updateLocalTransform(),
        e.append(t.localTransform)),
        e
    }
    function l2(a, e) {
        if (a === 16777215 || !e)
            return e;
        if (e === 16777215 || !a)
            return a;
        let t = a >> 16 & 255
          , i = a >> 8 & 255
          , r = a & 255
          , s = e >> 16 & 255
          , o = e >> 8 & 255
          , d = e & 255
          , h = t * s / 255 | 0
          , l = i * o / 255 | 0
          , u = r * d / 255 | 0;
        return (h << 16) + (l << 8) + u
    }
    var Kf = 16777215;
    function Hs(a, e) {
        return a === Kf ? e : e === Kf ? a : l2(a, e)
    }
    function xr(a) {
        return ((a & 255) << 16) + (a & 65280) + (a >> 16 & 255)
    }
    var h4 = {
        getGlobalAlpha(a) {
            if (a)
                return this.renderGroup ? this.renderGroup.worldAlpha : this.parentRenderGroup ? this.parentRenderGroup.worldAlpha * this.alpha : this.alpha;
            let e = this.alpha
              , t = this.parent;
            for (; t; )
                e *= t.alpha,
                t = t.parent;
            return e
        },
        getGlobalTransform(a, e) {
            if (e)
                return a.copyFrom(this.worldTransform);
            this.updateLocalTransform();
            let t = pl(this, it.get().identity());
            return a.appendFrom(this.localTransform, t),
            it.return(t),
            a
        },
        getGlobalTint(a) {
            if (a)
                return this.renderGroup ? xr(this.renderGroup.worldColor) : this.parentRenderGroup ? xr(Hs(this.localColor, this.parentRenderGroup.worldColor)) : this.tint;
            let e = this.localColor
              , t = this.parent;
            for (; t; )
                e = Hs(e, t.localColor),
                t = t.parent;
            return xr(e)
        }
    };
    function gl(a, e, t) {
        return e.clear(),
        t || (t = ie.IDENTITY),
        f2(a, e, t, a, !0),
        e.isValid || e.set(0, 0, 0, 0),
        e
    }
    function f2(a, e, t, i, r) {
        var s, o;
        let d;
        if (r)
            d = it.get(),
            d = t.copyTo(d);
        else {
            if (!a.visible || !a.measurable)
                return;
            a.updateLocalTransform();
            let u = a.localTransform;
            d = it.get(),
            d.appendFrom(u, t)
        }
        let h = e
          , l = !!a.effects.length;
        if (l && (e = ca.get().clear()),
        a.boundsArea)
            e.addRect(a.boundsArea, d);
        else {
            a.renderPipeId && (e.matrix = d,
            e.addBounds(a.bounds));
            let u = a.children;
            for (let p = 0; p < u.length; p++)
                f2(u[p], e, d, i, !1)
        }
        if (l) {
            for (let u = 0; u < a.effects.length; u++)
                (o = (s = a.effects[u]).addLocalBounds) == null || o.call(s, e, i);
            h.addBounds(e, ie.IDENTITY),
            ca.return(e)
        }
        it.return(d)
    }
    function u2(a, e) {
        let t = a.children;
        for (let i = 0; i < t.length; i++) {
            let r = t[i]
              , s = r.uid
              , o = (r._didViewChangeTick & 65535) << 16 | r._didContainerChangeTick & 65535
              , d = e.index;
            (e.data[d] !== s || e.data[d + 1] !== o) && (e.data[e.index] = s,
            e.data[e.index + 1] = o,
            e.didChange = !0),
            e.index = d + 2,
            r.children.length && u2(r, e)
        }
        return e.didChange
    }
    var l4 = new ie
      , f4 = {
        _localBoundsCacheId: -1,
        _localBoundsCacheData: null,
        _setWidth(a, e) {
            let t = Math.sign(this.scale.x) || 1;
            e !== 0 ? this.scale.x = a / e * t : this.scale.x = t
        },
        _setHeight(a, e) {
            let t = Math.sign(this.scale.y) || 1;
            e !== 0 ? this.scale.y = a / e * t : this.scale.y = t
        },
        getLocalBounds() {
            this._localBoundsCacheData || (this._localBoundsCacheData = {
                data: [],
                index: 1,
                didChange: !1,
                localBounds: new qe
            });
            let a = this._localBoundsCacheData;
            return a.index = 1,
            a.didChange = !1,
            a.data[0] !== this._didViewChangeTick && (a.didChange = !0,
            a.data[0] = this._didViewChangeTick),
            u2(this, a),
            a.didChange && gl(this, a.localBounds, l4),
            a.localBounds
        },
        getBounds(a, e) {
            return Bo(this, a, e || new qe)
        }
    }
      , u4 = {
        _onRender: null,
        set onRender(a) {
            let e = this.renderGroup || this.parentRenderGroup;
            if (!a) {
                this._onRender && e?.removeOnRender(this),
                this._onRender = null;
                return
            }
            this._onRender || e == null || e.addOnRender(this),
            this._onRender = a
        },
        get onRender() {
            return this._onRender
        }
    }
      , b4 = {
        _zIndex: 0,
        sortDirty: !1,
        sortableChildren: !1,
        get zIndex() {
            return this._zIndex
        },
        set zIndex(a) {
            this._zIndex !== a && (this._zIndex = a,
            this.depthOfChildModified())
        },
        depthOfChildModified() {
            this.parent && (this.parent.sortableChildren = !0,
            this.parent.sortDirty = !0),
            this.parentRenderGroup && (this.parentRenderGroup.structureDidChange = !0)
        },
        sortChildren() {
            this.sortDirty && (this.sortDirty = !1,
            this.children.sort(p4))
        }
    };
    function p4(a, e) {
        return a._zIndex - e._zIndex
    }
    var g4 = {
        getGlobalPosition(a=new Ce, e=!1) {
            return this.parent ? this.parent.toGlobal(this._position, a, e) : (a.x = this._position.x,
            a.y = this._position.y),
            a
        },
        toGlobal(a, e, t=!1) {
            let i = this.getGlobalTransform(it.get(), t);
            return e = i.apply(a, e),
            it.return(i),
            e
        },
        toLocal(a, e, t, i) {
            e && (a = e.toGlobal(a, t, i));
            let r = this.getGlobalTransform(it.get(), i);
            return t = r.applyInverse(a, t),
            it.return(r),
            t
        }
    }
      , zs = class {
        constructor() {
            this.uid = Be("instructionSet"),
            this.instructions = [],
            this.instructionSize = 0,
            this.renderables = [],
            this.gcTick = 0
        }
        reset() {
            this.instructionSize = 0
        }
        add(e) {
            this.instructions[this.instructionSize++] = e
        }
        log() {
            this.instructions.length = this.instructionSize
        }
    }
    ;
    function Ei(a) {
        return a += a === 0 ? 1 : 0,
        --a,
        a |= a >>> 1,
        a |= a >>> 2,
        a |= a >>> 4,
        a |= a >>> 8,
        a |= a >>> 16,
        a + 1
    }
    function qf(a) {
        return !(a & a - 1) && !!a
    }
    function Mr(a) {
        let e = {};
        for (let t in a)
            a[t] !== void 0 && (e[t] = a[t]);
        return e
    }
    var m4 = Object.defineProperty
      , Zf = Object.getOwnPropertySymbols
      , _4 = Object.prototype.hasOwnProperty
      , y4 = Object.prototype.propertyIsEnumerable
      , Qf = (a, e, t) => e in a ? m4(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Jf = (a, e) => {
        for (var t in e || (e = {}))
            _4.call(e, t) && Qf(a, t, e[t]);
        if (Zf)
            for (var t of Zf(e))
                y4.call(e, t) && Qf(a, t, e[t]);
        return a
    }
      , eu = Object.create(null);
    function x4(a) {
        let e = eu[a];
        return e === void 0 && (eu[a] = Be("resource")),
        e
    }
    var b2 = class p2 extends xt {
        constructor(e={}) {
            var t, i, r, s, o, d, h;
            super(),
            this._resourceType = "textureSampler",
            this._touched = 0,
            this._maxAnisotropy = 1,
            this.destroyed = !1,
            e = Jf(Jf({}, p2.defaultOptions), e),
            this.addressMode = e.addressMode,
            this.addressModeU = (t = e.addressModeU) != null ? t : this.addressModeU,
            this.addressModeV = (i = e.addressModeV) != null ? i : this.addressModeV,
            this.addressModeW = (r = e.addressModeW) != null ? r : this.addressModeW,
            this.scaleMode = e.scaleMode,
            this.magFilter = (s = e.magFilter) != null ? s : this.magFilter,
            this.minFilter = (o = e.minFilter) != null ? o : this.minFilter,
            this.mipmapFilter = (d = e.mipmapFilter) != null ? d : this.mipmapFilter,
            this.lodMinClamp = e.lodMinClamp,
            this.lodMaxClamp = e.lodMaxClamp,
            this.compare = e.compare,
            this.maxAnisotropy = (h = e.maxAnisotropy) != null ? h : 1
        }
        set addressMode(e) {
            this.addressModeU = e,
            this.addressModeV = e,
            this.addressModeW = e
        }
        get addressMode() {
            return this.addressModeU
        }
        set wrapMode(e) {
            this.addressMode = e
        }
        get wrapMode() {
            return this.addressMode
        }
        set scaleMode(e) {
            this.magFilter = e,
            this.minFilter = e,
            this.mipmapFilter = e
        }
        get scaleMode() {
            return this.magFilter
        }
        set maxAnisotropy(e) {
            this._maxAnisotropy = Math.min(e, 16),
            this._maxAnisotropy > 1 && (this.scaleMode = "linear")
        }
        get maxAnisotropy() {
            return this._maxAnisotropy
        }
        get _resourceId() {
            return this._sharedResourceId || this._generateResourceId()
        }
        update() {
            this.emit("change", this),
            this._sharedResourceId = null
        }
        _generateResourceId() {
            let e = `${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;
            return this._sharedResourceId = x4(e),
            this._resourceId
        }
        destroy() {
            this.destroyed = !0,
            this.emit("destroy", this),
            this.emit("change", this),
            this.removeAllListeners()
        }
    }
    ;
    b2.defaultOptions = {
        addressMode: "clamp-to-edge",
        scaleMode: "linear"
    };
    var g2 = b2
      , v4 = Object.defineProperty
      , tu = Object.getOwnPropertySymbols
      , T4 = Object.prototype.hasOwnProperty
      , S4 = Object.prototype.propertyIsEnumerable
      , au = (a, e, t) => e in a ? v4(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , iu = (a, e) => {
        for (var t in e || (e = {}))
            T4.call(e, t) && au(a, t, e[t]);
        if (tu)
            for (var t of tu(e))
                S4.call(e, t) && au(a, t, e[t]);
        return a
    }
      , m2 = class _2 extends xt {
        constructor(e={}) {
            var t, i, r;
            super(),
            this.options = e,
            this.uid = Be("textureSource"),
            this._resourceType = "textureSource",
            this._resourceId = Be("resource"),
            this.uploadMethodId = "unknown",
            this._resolution = 1,
            this.pixelWidth = 1,
            this.pixelHeight = 1,
            this.width = 1,
            this.height = 1,
            this.sampleCount = 1,
            this.mipLevelCount = 1,
            this.autoGenerateMipmaps = !1,
            this.format = "rgba8unorm",
            this.dimension = "2d",
            this.antialias = !1,
            this._touched = 0,
            this._batchTick = -1,
            this._textureBindLocation = -1,
            e = iu(iu({}, _2.defaultOptions), e),
            this.label = (t = e.label) != null ? t : "",
            this.resource = e.resource,
            this.autoGarbageCollect = e.autoGarbageCollect,
            this._resolution = e.resolution,
            e.width ? this.pixelWidth = e.width * this._resolution : this.pixelWidth = this.resource && (i = this.resourceWidth) != null ? i : 1,
            e.height ? this.pixelHeight = e.height * this._resolution : this.pixelHeight = this.resource && (r = this.resourceHeight) != null ? r : 1,
            this.width = this.pixelWidth / this._resolution,
            this.height = this.pixelHeight / this._resolution,
            this.format = e.format,
            this.dimension = e.dimensions,
            this.mipLevelCount = e.mipLevelCount,
            this.autoGenerateMipmaps = e.autoGenerateMipmaps,
            this.sampleCount = e.sampleCount,
            this.antialias = e.antialias,
            this.alphaMode = e.alphaMode,
            this.style = new g2(Mr(e)),
            this.destroyed = !1,
            this._refreshPOT()
        }
        get source() {
            return this
        }
        get style() {
            return this._style
        }
        set style(e) {
            var t, i;
            this.style !== e && ((t = this._style) == null || t.off("change", this._onStyleChange, this),
            this._style = e,
            (i = this._style) == null || i.on("change", this._onStyleChange, this),
            this._onStyleChange())
        }
        get addressMode() {
            return this._style.addressMode
        }
        set addressMode(e) {
            this._style.addressMode = e
        }
        get repeatMode() {
            return this._style.addressMode
        }
        set repeatMode(e) {
            this._style.addressMode = e
        }
        get magFilter() {
            return this._style.magFilter
        }
        set magFilter(e) {
            this._style.magFilter = e
        }
        get minFilter() {
            return this._style.minFilter
        }
        set minFilter(e) {
            this._style.minFilter = e
        }
        get mipmapFilter() {
            return this._style.mipmapFilter
        }
        set mipmapFilter(e) {
            this._style.mipmapFilter = e
        }
        get lodMinClamp() {
            return this._style.lodMinClamp
        }
        set lodMinClamp(e) {
            this._style.lodMinClamp = e
        }
        get lodMaxClamp() {
            return this._style.lodMaxClamp
        }
        set lodMaxClamp(e) {
            this._style.lodMaxClamp = e
        }
        _onStyleChange() {
            this.emit("styleChange", this)
        }
        update() {
            if (this.resource) {
                let e = this._resolution;
                if (this.resize(this.resourceWidth / e, this.resourceHeight / e))
                    return
            }
            this.emit("update", this)
        }
        destroy() {
            this.destroyed = !0,
            this.emit("destroy", this),
            this.emit("change", this),
            this._style && (this._style.destroy(),
            this._style = null),
            this.uploadMethodId = null,
            this.resource = null,
            this.removeAllListeners()
        }
        unload() {
            this._resourceId = Be("resource"),
            this.emit("change", this),
            this.emit("unload", this)
        }
        get resourceWidth() {
            let {resource: e} = this;
            return e.naturalWidth || e.videoWidth || e.displayWidth || e.width
        }
        get resourceHeight() {
            let {resource: e} = this;
            return e.naturalHeight || e.videoHeight || e.displayHeight || e.height
        }
        get resolution() {
            return this._resolution
        }
        set resolution(e) {
            this._resolution !== e && (this._resolution = e,
            this.width = this.pixelWidth / e,
            this.height = this.pixelHeight / e)
        }
        resize(e, t, i) {
            i || (i = this._resolution),
            e || (e = this.width),
            t || (t = this.height);
            let r = Math.round(e * i)
              , s = Math.round(t * i);
            return this.width = r / i,
            this.height = s / i,
            this._resolution = i,
            this.pixelWidth === r && this.pixelHeight === s ? !1 : (this._refreshPOT(),
            this.pixelWidth = r,
            this.pixelHeight = s,
            this.emit("resize", this),
            this._resourceId = Be("resource"),
            this.emit("change", this),
            !0)
        }
        updateMipmaps() {
            this.autoGenerateMipmaps && this.mipLevelCount > 1 && this.emit("updateMipmaps", this)
        }
        set wrapMode(e) {
            this._style.wrapMode = e
        }
        get wrapMode() {
            return this._style.wrapMode
        }
        set scaleMode(e) {
            this._style.scaleMode = e
        }
        get scaleMode() {
            return this._style.scaleMode
        }
        _refreshPOT() {
            this.isPowerOfTwo = qf(this.pixelWidth) && qf(this.pixelHeight)
        }
        static test(e) {
            throw new Error("Unimplemented")
        }
    }
    ;
    m2.defaultOptions = {
        resolution: 1,
        format: "bgra8unorm",
        alphaMode: "premultiply-alpha-on-upload",
        dimensions: "2d",
        mipLevelCount: 1,
        autoGenerateMipmaps: !1,
        sampleCount: 1,
        antialias: !1,
        autoGarbageCollect: !1
    };
    var Fe = m2
      , Xa = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1]
      , Ha = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1]
      , za = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1]
      , Va = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1]
      , Cd = []
      , y2 = []
      , ps = Math.sign;
    function w4() {
        for (let a = 0; a < 16; a++) {
            let e = [];
            Cd.push(e);
            for (let t = 0; t < 16; t++) {
                let i = ps(Xa[a] * Xa[t] + za[a] * Ha[t])
                  , r = ps(Ha[a] * Xa[t] + Va[a] * Ha[t])
                  , s = ps(Xa[a] * za[t] + za[a] * Va[t])
                  , o = ps(Ha[a] * za[t] + Va[a] * Va[t]);
                for (let d = 0; d < 16; d++)
                    if (Xa[d] === i && Ha[d] === r && za[d] === s && Va[d] === o) {
                        e.push(d);
                        break
                    }
            }
        }
        for (let a = 0; a < 16; a++) {
            let e = new ie;
            e.set(Xa[a], Ha[a], za[a], Va[a], 0, 0),
            y2.push(e)
        }
    }
    w4();
    var ke = {
        E: 0,
        SE: 1,
        S: 2,
        SW: 3,
        W: 4,
        NW: 5,
        N: 6,
        NE: 7,
        MIRROR_VERTICAL: 8,
        MAIN_DIAGONAL: 10,
        MIRROR_HORIZONTAL: 12,
        REVERSE_DIAGONAL: 14,
        uX: a => Xa[a],
        uY: a => Ha[a],
        vX: a => za[a],
        vY: a => Va[a],
        inv: a => a & 8 ? a & 15 : -a & 7,
        add: (a, e) => Cd[a][e],
        sub: (a, e) => Cd[a][ke.inv(e)],
        rotate180: a => a ^ 4,
        isVertical: a => (a & 3) === 2,
        byDirection: (a, e) => Math.abs(a) * 2 <= Math.abs(e) ? e >= 0 ? ke.S : ke.N : Math.abs(e) * 2 <= Math.abs(a) ? a > 0 ? ke.E : ke.W : e > 0 ? a > 0 ? ke.SE : ke.SW : a > 0 ? ke.NE : ke.NW,
        matrixAppendRotationInv: (a, e, t=0, i=0) => {
            let r = y2[ke.inv(e)];
            r.tx = t,
            r.ty = i,
            a.append(r)
        }
    }
      , ru = () => {}
      , A4 = Object.defineProperty
      , E4 = Object.defineProperties
      , P4 = Object.getOwnPropertyDescriptors
      , su = Object.getOwnPropertySymbols
      , R4 = Object.prototype.hasOwnProperty
      , M4 = Object.prototype.propertyIsEnumerable
      , nu = (a, e, t) => e in a ? A4(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , C4 = (a, e) => {
        for (var t in e || (e = {}))
            R4.call(e, t) && nu(a, t, e[t]);
        if (su)
            for (var t of su(e))
                M4.call(e, t) && nu(a, t, e[t]);
        return a
    }
      , O4 = (a, e) => E4(a, P4(e))
      , Cr = class extends Fe {
        constructor(e) {
            let t = e.resource || new Float32Array(e.width * e.height * 4)
              , i = e.format;
            i || (t instanceof Float32Array ? i = "rgba32float" : t instanceof Int32Array || t instanceof Uint32Array ? i = "rgba32uint" : t instanceof Int16Array || t instanceof Uint16Array ? i = "rgba16uint" : (t instanceof Int8Array,
            i = "bgra8unorm")),
            super(O4(C4({}, e), {
                resource: t,
                format: i
            })),
            this.uploadMethodId = "buffer"
        }
        static test(e) {
            return e instanceof Int8Array || e instanceof Uint8Array || e instanceof Uint8ClampedArray || e instanceof Int16Array || e instanceof Uint16Array || e instanceof Int32Array || e instanceof Uint32Array || e instanceof Float32Array
        }
    }
    ;
    Cr.extension = B.TextureSource;
    var ou = new ie
      , Vs = class {
        constructor(e, t) {
            this.mapCoord = new ie,
            this.uClampFrame = new Float32Array(4),
            this.uClampOffset = new Float32Array(2),
            this._textureID = -1,
            this._updateID = 0,
            this.clampOffset = 0,
            typeof t > "u" ? this.clampMargin = e.width < 10 ? 0 : .5 : this.clampMargin = t,
            this.isSimple = !1,
            this.texture = e
        }
        get texture() {
            return this._texture
        }
        set texture(e) {
            var t;
            this.texture !== e && ((t = this._texture) == null || t.removeListener("update", this.update, this),
            this._texture = e,
            this._texture.addListener("update", this.update, this),
            this.update())
        }
        multiplyUvs(e, t) {
            t === void 0 && (t = e);
            let i = this.mapCoord;
            for (let r = 0; r < e.length; r += 2) {
                let s = e[r]
                  , o = e[r + 1];
                t[r] = s * i.a + o * i.c + i.tx,
                t[r + 1] = s * i.b + o * i.d + i.ty
            }
            return t
        }
        update() {
            let e = this._texture;
            this._updateID++;
            let t = e.uvs;
            this.mapCoord.set(t.x1 - t.x0, t.y1 - t.y0, t.x3 - t.x0, t.y3 - t.y0, t.x0, t.y0);
            let i = e.orig
              , r = e.trim;
            r && (ou.set(i.width / r.width, 0, 0, i.height / r.height, -r.x / r.width, -r.y / r.height),
            this.mapCoord.append(ou));
            let s = e.source
              , o = this.uClampFrame
              , d = this.clampMargin / s._resolution
              , h = this.clampOffset / s._resolution;
            return o[0] = (e.frame.x + d + h) / s.width,
            o[1] = (e.frame.y + d + h) / s.height,
            o[2] = (e.frame.x + e.frame.width - d + h) / s.width,
            o[3] = (e.frame.y + e.frame.height - d + h) / s.height,
            this.uClampOffset[0] = this.clampOffset / s.pixelWidth,
            this.uClampOffset[1] = this.clampOffset / s.pixelHeight,
            this.isSimple = e.frame.width === s.width && e.frame.height === s.height && e.rotate === 0,
            !0
        }
    }
      , K = class extends xt {
        constructor({source: e, label: t, frame: i, orig: r, trim: s, defaultAnchor: o, defaultBorders: d, rotate: h, dynamic: l}={}) {
            var u;
            if (super(),
            this.uid = Be("texture"),
            this.uvs = {
                x0: 0,
                y0: 0,
                x1: 0,
                y1: 0,
                x2: 0,
                y2: 0,
                x3: 0,
                y3: 0
            },
            this.frame = new Pe,
            this.noFrame = !1,
            this.dynamic = !1,
            this.isTexture = !0,
            this.label = t,
            this.source = (u = e?.source) != null ? u : new Fe,
            this.noFrame = !i,
            i)
                this.frame.copyFrom(i);
            else {
                let {width: p, height: y} = this._source;
                this.frame.width = p,
                this.frame.height = y
            }
            this.orig = r || this.frame,
            this.trim = s,
            this.rotate = h ?? 0,
            this.defaultAnchor = o,
            this.defaultBorders = d,
            this.destroyed = !1,
            this.dynamic = l || !1,
            this.updateUvs()
        }
        set source(e) {
            this._source && this._source.off("resize", this.update, this),
            this._source = e,
            e.on("resize", this.update, this),
            this.emit("update", this)
        }
        get source() {
            return this._source
        }
        get textureMatrix() {
            return this._textureMatrix || (this._textureMatrix = new Vs(this)),
            this._textureMatrix
        }
        get width() {
            return this.orig.width
        }
        get height() {
            return this.orig.height
        }
        updateUvs() {
            let {uvs: e, frame: t} = this
              , {width: i, height: r} = this._source
              , s = t.x / i
              , o = t.y / r
              , d = t.width / i
              , h = t.height / r
              , l = this.rotate;
            if (l) {
                let u = d / 2
                  , p = h / 2
                  , y = s + u
                  , _ = o + p;
                l = ke.add(l, ke.NW),
                e.x0 = y + u * ke.uX(l),
                e.y0 = _ + p * ke.uY(l),
                l = ke.add(l, 2),
                e.x1 = y + u * ke.uX(l),
                e.y1 = _ + p * ke.uY(l),
                l = ke.add(l, 2),
                e.x2 = y + u * ke.uX(l),
                e.y2 = _ + p * ke.uY(l),
                l = ke.add(l, 2),
                e.x3 = y + u * ke.uX(l),
                e.y3 = _ + p * ke.uY(l)
            } else
                e.x0 = s,
                e.y0 = o,
                e.x1 = s + d,
                e.y1 = o,
                e.x2 = s + d,
                e.y2 = o + h,
                e.x3 = s,
                e.y3 = o + h
        }
        destroy(e=!1) {
            this._source && e && (this._source.destroy(),
            this._source = null),
            this._textureMatrix = null,
            this.destroyed = !0,
            this.emit("destroy", this),
            this.removeAllListeners()
        }
        update() {
            this.noFrame && (this.frame.width = this._source.width,
            this.frame.height = this._source.height),
            this.updateUvs(),
            this.emit("update", this)
        }
        get baseTexture() {
            return this._source
        }
    }
    ;
    K.EMPTY = new K({
        label: "EMPTY",
        source: new Fe({
            label: "EMPTY"
        })
    }),
    K.EMPTY.destroy = ru,
    K.WHITE = new K({
        source: new Cr({
            resource: new Uint8Array([255, 255, 255, 255]),
            width: 1,
            height: 1,
            alphaMode: "premultiply-alpha-on-upload",
            label: "WHITE"
        }),
        label: "WHITE"
    }),
    K.WHITE.destroy = ru;
    var I4 = Object.defineProperty
      , G4 = Object.defineProperties
      , B4 = Object.getOwnPropertyDescriptors
      , cu = Object.getOwnPropertySymbols
      , F4 = Object.prototype.hasOwnProperty
      , D4 = Object.prototype.propertyIsEnumerable
      , du = (a, e, t) => e in a ? I4(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , k4 = (a, e) => {
        for (var t in e || (e = {}))
            F4.call(e, t) && du(a, t, e[t]);
        if (cu)
            for (var t of cu(e))
                D4.call(e, t) && du(a, t, e[t]);
        return a
    }
      , U4 = (a, e) => G4(a, B4(e))
      , L4 = 0
      , Od = class {
        constructor(e) {
            this._poolKeyHash = Object.create(null),
            this._texturePool = {},
            this.textureOptions = e || {},
            this.enableFullScreen = !1
        }
        createTexture(e, t, i) {
            let r = new Fe(U4(k4({}, this.textureOptions), {
                width: e,
                height: t,
                resolution: 1,
                antialias: i,
                autoGarbageCollect: !1
            }));
            return new K({
                source: r,
                label: `texturePool_${L4++}`
            })
        }
        getOptimalTexture(e, t, i=1, r) {
            let s = Math.ceil(e * i - 1e-6)
              , o = Math.ceil(t * i - 1e-6);
            s = Ei(s),
            o = Ei(o);
            let d = (s << 17) + (o << 1) + (r ? 1 : 0);
            this._texturePool[d] || (this._texturePool[d] = []);
            let h = this._texturePool[d].pop();
            return h || (h = this.createTexture(s, o, r)),
            h.source._resolution = i,
            h.source.width = s / i,
            h.source.height = o / i,
            h.source.pixelWidth = s,
            h.source.pixelHeight = o,
            h.frame.x = 0,
            h.frame.y = 0,
            h.frame.width = e,
            h.frame.height = t,
            h.updateUvs(),
            this._poolKeyHash[h.uid] = d,
            h
        }
        getSameSizeTexture(e, t=!1) {
            let i = e.source;
            return this.getOptimalTexture(e.width, e.height, i._resolution, t)
        }
        returnTexture(e) {
            let t = this._poolKeyHash[e.uid];
            this._texturePool[t].push(e)
        }
        clear(e) {
            if (e = e !== !1,
            e)
                for (let t in this._texturePool) {
                    let i = this._texturePool[t];
                    if (i)
                        for (let r = 0; r < i.length; r++)
                            i[r].destroy(!0)
                }
            this._texturePool = {}
        }
    }
      , ze = new Od
      , Id = class {
        constructor() {
            this.renderPipeId = "renderGroup",
            this.root = null,
            this.canBundle = !1,
            this.renderGroupParent = null,
            this.renderGroupChildren = [],
            this.worldTransform = new ie,
            this.worldColorAlpha = 4294967295,
            this.worldColor = 16777215,
            this.worldAlpha = 1,
            this.childrenToUpdate = Object.create(null),
            this.updateTick = 0,
            this.gcTick = 0,
            this.childrenRenderablesToUpdate = {
                list: [],
                index: 0
            },
            this.structureDidChange = !0,
            this.instructionSet = new zs,
            this._onRenderContainers = [],
            this.textureNeedsUpdate = !0,
            this.isCachedAsTexture = !1,
            this._matrixDirty = 7
        }
        init(e) {
            this.root = e,
            e._onRender && this.addOnRender(e),
            e.didChange = !0;
            let t = e.children;
            for (let i = 0; i < t.length; i++) {
                let r = t[i];
                r._updateFlags = 15,
                this.addChild(r)
            }
        }
        enableCacheAsTexture(e={}) {
            this.textureOptions = e,
            this.isCachedAsTexture = !0,
            this.textureNeedsUpdate = !0
        }
        disableCacheAsTexture() {
            this.isCachedAsTexture = !1,
            this.texture && (ze.returnTexture(this.texture),
            this.texture = null)
        }
        updateCacheTexture() {
            this.textureNeedsUpdate = !0
        }
        reset() {
            this.renderGroupChildren.length = 0;
            for (let e in this.childrenToUpdate) {
                let t = this.childrenToUpdate[e];
                t.list.fill(null),
                t.index = 0
            }
            this.childrenRenderablesToUpdate.index = 0,
            this.childrenRenderablesToUpdate.list.fill(null),
            this.root = null,
            this.updateTick = 0,
            this.structureDidChange = !0,
            this._onRenderContainers.length = 0,
            this.renderGroupParent = null,
            this.disableCacheAsTexture()
        }
        get localTransform() {
            return this.root.localTransform
        }
        addRenderGroupChild(e) {
            e.renderGroupParent && e.renderGroupParent._removeRenderGroupChild(e),
            e.renderGroupParent = this,
            this.renderGroupChildren.push(e)
        }
        _removeRenderGroupChild(e) {
            let t = this.renderGroupChildren.indexOf(e);
            t > -1 && this.renderGroupChildren.splice(t, 1),
            e.renderGroupParent = null
        }
        addChild(e) {
            if (this.structureDidChange = !0,
            e.parentRenderGroup = this,
            e.updateTick = -1,
            e.parent === this.root ? e.relativeRenderGroupDepth = 1 : e.relativeRenderGroupDepth = e.parent.relativeRenderGroupDepth + 1,
            e.didChange = !0,
            this.onChildUpdate(e),
            e.renderGroup) {
                this.addRenderGroupChild(e.renderGroup);
                return
            }
            e._onRender && this.addOnRender(e);
            let t = e.children;
            for (let i = 0; i < t.length; i++)
                this.addChild(t[i])
        }
        removeChild(e) {
            if (this.structureDidChange = !0,
            e._onRender && (e.renderGroup || this.removeOnRender(e)),
            e.parentRenderGroup = null,
            e.renderGroup) {
                this._removeRenderGroupChild(e.renderGroup);
                return
            }
            let t = e.children;
            for (let i = 0; i < t.length; i++)
                this.removeChild(t[i])
        }
        removeChildren(e) {
            for (let t = 0; t < e.length; t++)
                this.removeChild(e[t])
        }
        onChildUpdate(e) {
            let t = this.childrenToUpdate[e.relativeRenderGroupDepth];
            t || (t = this.childrenToUpdate[e.relativeRenderGroupDepth] = {
                index: 0,
                list: []
            }),
            t.list[t.index++] = e
        }
        updateRenderable(e) {
            e.globalDisplayStatus < 7 || (this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),
            e.didViewUpdate = !1)
        }
        onChildViewUpdate(e) {
            this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++] = e
        }
        get isRenderable() {
            return this.root.localDisplayStatus === 7 && this.worldAlpha > 0
        }
        addOnRender(e) {
            this._onRenderContainers.push(e)
        }
        removeOnRender(e) {
            this._onRenderContainers.splice(this._onRenderContainers.indexOf(e), 1)
        }
        runOnRender(e) {
            for (let t = 0; t < this._onRenderContainers.length; t++)
                this._onRenderContainers[t]._onRender(e)
        }
        destroy() {
            this.disableCacheAsTexture(),
            this.renderGroupParent = null,
            this.root = null,
            this.childrenRenderablesToUpdate = null,
            this.childrenToUpdate = null,
            this.renderGroupChildren = null,
            this._onRenderContainers = null,
            this.instructionSet = null
        }
        getChildren(e=[]) {
            let t = this.root.children;
            for (let i = 0; i < t.length; i++)
                this._getChildren(t[i], e);
            return e
        }
        _getChildren(e, t=[]) {
            if (t.push(e),
            e.renderGroup)
                return t;
            let i = e.children;
            for (let r = 0; r < i.length; r++)
                this._getChildren(i[r], t);
            return t
        }
        invalidateMatrices() {
            this._matrixDirty = 7
        }
        get inverseWorldTransform() {
            return this._matrixDirty & 1 ? (this._matrixDirty &= -2,
            this._inverseWorldTransform || (this._inverseWorldTransform = new ie),
            this._inverseWorldTransform.copyFrom(this.worldTransform).invert()) : this._inverseWorldTransform
        }
        get textureOffsetInverseTransform() {
            return this._matrixDirty & 2 ? (this._matrixDirty &= -3,
            this._textureOffsetInverseTransform || (this._textureOffsetInverseTransform = new ie),
            this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x, -this._textureBounds.y)) : this._textureOffsetInverseTransform
        }
        get inverseParentTextureTransform() {
            if (!(this._matrixDirty & 4))
                return this._inverseParentTextureTransform;
            this._matrixDirty &= -5;
            let e = this._parentCacheAsTextureRenderGroup;
            return e ? (this._inverseParentTextureTransform || (this._inverseParentTextureTransform = new ie),
            this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x, -e._textureBounds.y)) : this.worldTransform
        }
        get cacheToLocalTransform() {
            return this._parentCacheAsTextureRenderGroup ? this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform : null
        }
    }
    ;
    function Gd(a, e, t={}) {
        for (let i in e)
            !t[i] && e[i] !== void 0 && (a[i] = e[i])
    }
    var Mc = new Ve(null)
      , Cc = new Ve(null)
      , Oc = new Ve(null,1,1)
      , Ws = 1
      , ml = 2
      , vr = 4;
    var le = class a extends xt {
        constructor(e={}) {
            var t, i;
            super(),
            this.uid = Be("renderable"),
            this._updateFlags = 15,
            this.renderGroup = null,
            this.parentRenderGroup = null,
            this.parentRenderGroupIndex = 0,
            this.didChange = !1,
            this.didViewUpdate = !1,
            this.relativeRenderGroupDepth = 0,
            this.children = [],
            this.parent = null,
            this.includeInBuild = !0,
            this.measurable = !0,
            this.isSimple = !0,
            this.updateTick = -1,
            this.localTransform = new ie,
            this.relativeGroupTransform = new ie,
            this.groupTransform = this.relativeGroupTransform,
            this.destroyed = !1,
            this._position = new Ve(this,0,0),
            this._scale = Oc,
            this._pivot = Cc,
            this._skew = Mc,
            this._cx = 1,
            this._sx = 0,
            this._cy = 0,
            this._sy = 1,
            this._rotation = 0,
            this.localColor = 16777215,
            this.localAlpha = 1,
            this.groupAlpha = 1,
            this.groupColor = 16777215,
            this.groupColorAlpha = 4294967295,
            this.localBlendMode = "inherit",
            this.groupBlendMode = "normal",
            this.localDisplayStatus = 7,
            this.globalDisplayStatus = 7,
            this._didContainerChangeTick = 0,
            this._didViewChangeTick = 0,
            this._didLocalTransformChangeId = -1,
            this.effects = [],
            Gd(this, e, {
                children: !0,
                parent: !0,
                effects: !0
            }),
            (t = e.children) == null || t.forEach(r => this.addChild(r)),
            (i = e.parent) == null || i.addChild(this)
        }
        static mixin(e) {
            Object.defineProperties(a.prototype, Object.getOwnPropertyDescriptors(e))
        }
        set _didChangeId(e) {
            this._didViewChangeTick = e >> 12 & 4095,
            this._didContainerChangeTick = e & 4095
        }
        get _didChangeId() {
            return this._didContainerChangeTick & 4095 | (this._didViewChangeTick & 4095) << 12
        }
        addChild(...e) {
            if (e.length > 1) {
                for (let r = 0; r < e.length; r++)
                    this.addChild(e[r]);
                return e[0]
            }
            let t = e[0]
              , i = this.renderGroup || this.parentRenderGroup;
            return t.parent === this ? (this.children.splice(this.children.indexOf(t), 1),
            this.children.push(t),
            i && (i.structureDidChange = !0),
            t) : (t.parent && t.parent.removeChild(t),
            this.children.push(t),
            this.sortableChildren && (this.sortDirty = !0),
            t.parent = this,
            t.didChange = !0,
            t._updateFlags = 15,
            i && i.addChild(t),
            this.emit("childAdded", t, this, this.children.length - 1),
            t.emit("added", this),
            this._didViewChangeTick++,
            t._zIndex !== 0 && t.depthOfChildModified(),
            t)
        }
        removeChild(...e) {
            if (e.length > 1) {
                for (let r = 0; r < e.length; r++)
                    this.removeChild(e[r]);
                return e[0]
            }
            let t = e[0]
              , i = this.children.indexOf(t);
            return i > -1 && (this._didViewChangeTick++,
            this.children.splice(i, 1),
            this.renderGroup ? this.renderGroup.removeChild(t) : this.parentRenderGroup && this.parentRenderGroup.removeChild(t),
            t.parentRenderLayer && t.parentRenderLayer.detach(t),
            t.parent = null,
            this.emit("childRemoved", t, this, i),
            t.emit("removed", this)),
            t
        }
        _onUpdate(e) {
            e && e === this._skew && this._updateSkew(),
            this._didContainerChangeTick++,
            !this.didChange && (this.didChange = !0,
            this.parentRenderGroup && this.parentRenderGroup.onChildUpdate(this))
        }
        set isRenderGroup(e) {
            !!this.renderGroup !== e && (e ? this.enableRenderGroup() : this.disableRenderGroup())
        }
        get isRenderGroup() {
            return !!this.renderGroup
        }
        enableRenderGroup() {
            if (this.renderGroup)
                return;
            let e = this.parentRenderGroup;
            e?.removeChild(this),
            this.renderGroup = ye.get(Id, this),
            this.groupTransform = ie.IDENTITY,
            e?.addChild(this),
            this._updateIsSimple()
        }
        disableRenderGroup() {
            if (!this.renderGroup)
                return;
            let e = this.parentRenderGroup;
            e?.removeChild(this),
            ye.return(this.renderGroup),
            this.renderGroup = null,
            this.groupTransform = this.relativeGroupTransform,
            e?.addChild(this),
            this._updateIsSimple()
        }
        _updateIsSimple() {
            this.isSimple = !this.renderGroup && this.effects.length === 0
        }
        get worldTransform() {
            return this._worldTransform || (this._worldTransform = new ie),
            this.renderGroup ? this._worldTransform.copyFrom(this.renderGroup.worldTransform) : this.parentRenderGroup && this._worldTransform.appendFrom(this.relativeGroupTransform, this.parentRenderGroup.worldTransform),
            this._worldTransform
        }
        get x() {
            return this._position.x
        }
        set x(e) {
            this._position.x = e
        }
        get y() {
            return this._position.y
        }
        set y(e) {
            this._position.y = e
        }
        get position() {
            return this._position
        }
        set position(e) {
            this._position.copyFrom(e)
        }
        get rotation() {
            return this._rotation
        }
        set rotation(e) {
            this._rotation !== e && (this._rotation = e,
            this._onUpdate(this._skew))
        }
        get angle() {
            return this.rotation * q5
        }
        set angle(e) {
            this.rotation = e * Z5
        }
        get pivot() {
            return this._pivot === Cc && (this._pivot = new Ve(this,0,0)),
            this._pivot
        }
        set pivot(e) {
            this._pivot === Cc && (this._pivot = new Ve(this,0,0)),
            typeof e == "number" ? this._pivot.set(e) : this._pivot.copyFrom(e)
        }
        get skew() {
            return this._skew === Mc && (this._skew = new Ve(this,0,0)),
            this._skew
        }
        set skew(e) {
            this._skew === Mc && (this._skew = new Ve(this,0,0)),
            this._skew.copyFrom(e)
        }
        get scale() {
            return this._scale === Oc && (this._scale = new Ve(this,1,1)),
            this._scale
        }
        set scale(e) {
            this._scale === Oc && (this._scale = new Ve(this,0,0)),
            typeof e == "number" ? this._scale.set(e) : this._scale.copyFrom(e)
        }
        get width() {
            return Math.abs(this.scale.x * this.getLocalBounds().width)
        }
        set width(e) {
            let t = this.getLocalBounds().width;
            this._setWidth(e, t)
        }
        get height() {
            return Math.abs(this.scale.y * this.getLocalBounds().height)
        }
        set height(e) {
            let t = this.getLocalBounds().height;
            this._setHeight(e, t)
        }
        getSize(e) {
            e || (e = {});
            let t = this.getLocalBounds();
            return e.width = Math.abs(this.scale.x * t.width),
            e.height = Math.abs(this.scale.y * t.height),
            e
        }
        setSize(e, t) {
            var i;
            let r = this.getLocalBounds();
            typeof e == "object" ? (t = (i = e.height) != null ? i : e.width,
            e = e.width) : t != null || (t = e),
            e !== void 0 && this._setWidth(e, r.width),
            t !== void 0 && this._setHeight(t, r.height)
        }
        _updateSkew() {
            let e = this._rotation
              , t = this._skew;
            this._cx = Math.cos(e + t._y),
            this._sx = Math.sin(e + t._y),
            this._cy = -Math.sin(e - t._x),
            this._sy = Math.cos(e - t._x)
        }
        updateTransform(e) {
            return this.position.set(typeof e.x == "number" ? e.x : this.position.x, typeof e.y == "number" ? e.y : this.position.y),
            this.scale.set(typeof e.scaleX == "number" ? e.scaleX || 1 : this.scale.x, typeof e.scaleY == "number" ? e.scaleY || 1 : this.scale.y),
            this.rotation = typeof e.rotation == "number" ? e.rotation : this.rotation,
            this.skew.set(typeof e.skewX == "number" ? e.skewX : this.skew.x, typeof e.skewY == "number" ? e.skewY : this.skew.y),
            this.pivot.set(typeof e.pivotX == "number" ? e.pivotX : this.pivot.x, typeof e.pivotY == "number" ? e.pivotY : this.pivot.y),
            this
        }
        setFromMatrix(e) {
            e.decompose(this)
        }
        updateLocalTransform() {
            let e = this._didContainerChangeTick;
            if (this._didLocalTransformChangeId === e)
                return;
            this._didLocalTransformChangeId = e;
            let t = this.localTransform
              , i = this._scale
              , r = this._pivot
              , s = this._position
              , o = i._x
              , d = i._y
              , h = r._x
              , l = r._y;
            t.a = this._cx * o,
            t.b = this._sx * o,
            t.c = this._cy * d,
            t.d = this._sy * d,
            t.tx = s._x - (h * t.a + l * t.c),
            t.ty = s._y - (h * t.b + l * t.d)
        }
        set alpha(e) {
            e !== this.localAlpha && (this.localAlpha = e,
            this._updateFlags |= Ws,
            this._onUpdate())
        }
        get alpha() {
            return this.localAlpha
        }
        set tint(e) {
            let t = Ee.shared.setValue(e ?? 16777215).toBgrNumber();
            t !== this.localColor && (this.localColor = t,
            this._updateFlags |= Ws,
            this._onUpdate())
        }
        get tint() {
            return xr(this.localColor)
        }
        set blendMode(e) {
            this.localBlendMode !== e && (this.parentRenderGroup && (this.parentRenderGroup.structureDidChange = !0),
            this._updateFlags |= ml,
            this.localBlendMode = e,
            this._onUpdate())
        }
        get blendMode() {
            return this.localBlendMode
        }
        get visible() {
            return !!(this.localDisplayStatus & 2)
        }
        set visible(e) {
            let t = e ? 2 : 0;
            (this.localDisplayStatus & 2) !== t && (this.parentRenderGroup && (this.parentRenderGroup.structureDidChange = !0),
            this._updateFlags |= vr,
            this.localDisplayStatus ^= 2,
            this._onUpdate())
        }
        get culled() {
            return !(this.localDisplayStatus & 4)
        }
        set culled(e) {
            let t = e ? 0 : 4;
            (this.localDisplayStatus & 4) !== t && (this.parentRenderGroup && (this.parentRenderGroup.structureDidChange = !0),
            this._updateFlags |= vr,
            this.localDisplayStatus ^= 4,
            this._onUpdate())
        }
        get renderable() {
            return !!(this.localDisplayStatus & 1)
        }
        set renderable(e) {
            let t = e ? 1 : 0;
            (this.localDisplayStatus & 1) !== t && (this._updateFlags |= vr,
            this.localDisplayStatus ^= 1,
            this.parentRenderGroup && (this.parentRenderGroup.structureDidChange = !0),
            this._onUpdate())
        }
        get isRenderable() {
            return this.localDisplayStatus === 7 && this.groupAlpha > 0
        }
        destroy(e=!1) {
            var t;
            if (this.destroyed)
                return;
            this.destroyed = !0;
            let i;
            if (this.children.length && (i = this.removeChildren(0, this.children.length)),
            this.removeFromParent(),
            this.parent = null,
            this._maskEffect = null,
            this._filterEffect = null,
            this.effects = null,
            this._position = null,
            this._scale = null,
            this._pivot = null,
            this._skew = null,
            this.emit("destroyed", this),
            this.removeAllListeners(),
            (typeof e == "boolean" ? e : e?.children) && i)
                for (let r = 0; r < i.length; ++r)
                    i[r].destroy(e);
            (t = this.renderGroup) == null || t.destroy(),
            this.renderGroup = null
        }
    }
    ;
    le.mixin(t4),
    le.mixin(d4),
    le.mixin(g4),
    le.mixin(u4),
    le.mixin(f4),
    le.mixin(n4),
    le.mixin(o4),
    le.mixin(b4),
    le.mixin($5),
    le.mixin(e4),
    le.mixin(h4),
    le.mixin(a4);
    var Or = class a {
        constructor(e) {
            this.bubbles = !0,
            this.cancelBubble = !0,
            this.cancelable = !1,
            this.composed = !1,
            this.defaultPrevented = !1,
            this.eventPhase = a.prototype.NONE,
            this.propagationStopped = !1,
            this.propagationImmediatelyStopped = !1,
            this.layer = new Ce,
            this.page = new Ce,
            this.NONE = 0,
            this.CAPTURING_PHASE = 1,
            this.AT_TARGET = 2,
            this.BUBBLING_PHASE = 3,
            this.manager = e
        }
        get layerX() {
            return this.layer.x
        }
        get layerY() {
            return this.layer.y
        }
        get pageX() {
            return this.page.x
        }
        get pageY() {
            return this.page.y
        }
        get data() {
            return this
        }
        composedPath() {
            return this.manager && (!this.path || this.path[this.path.length - 1] !== this.target) && (this.path = this.target ? this.manager.propagationPath(this.target) : []),
            this.path
        }
        initEvent(e, t, i) {
            throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")
        }
        initUIEvent(e, t, i, r, s) {
            throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")
        }
        preventDefault() {
            this.nativeEvent instanceof Event && this.nativeEvent.cancelable && this.nativeEvent.preventDefault(),
            this.defaultPrevented = !0
        }
        stopImmediatePropagation() {
            this.propagationImmediatelyStopped = !0
        }
        stopPropagation() {
            this.propagationStopped = !0
        }
    }
      , Ic = /iPhone/i
      , hu = /iPod/i
      , lu = /iPad/i
      , fu = /\biOS-universal(?:.+)Mac\b/i
      , Gc = /\bAndroid(?:.+)Mobile\b/i
      , uu = /Android/i
      , li = /(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i
      , gs = /Silk/i
      , na = /Windows Phone/i
      , bu = /\bWindows(?:.+)ARM\b/i
      , pu = /BlackBerry/i
      , gu = /BB10/i
      , mu = /Opera Mini/i
      , _u = /\b(CriOS|Chrome)(?:.+)Mobile/i
      , yu = /Mobile(?:.+)Firefox\b/i
      , xu = function(a) {
        return typeof a < "u" && a.platform === "MacIntel" && typeof a.maxTouchPoints == "number" && a.maxTouchPoints > 1 && typeof MSStream > "u"
    };
    function N4(a) {
        return function(e) {
            return e.test(a)
        }
    }
    function vu(a) {
        var e = {
            userAgent: "",
            platform: "",
            maxTouchPoints: 0
        };
        !a && typeof navigator < "u" ? e = {
            userAgent: navigator.userAgent,
            platform: navigator.platform,
            maxTouchPoints: navigator.maxTouchPoints || 0
        } : typeof a == "string" ? e.userAgent = a : a && a.userAgent && (e = {
            userAgent: a.userAgent,
            platform: a.platform,
            maxTouchPoints: a.maxTouchPoints || 0
        });
        var t = e.userAgent
          , i = t.split("[FBAN");
        typeof i[1] < "u" && (t = i[0]),
        i = t.split("Twitter"),
        typeof i[1] < "u" && (t = i[0]);
        var r = N4(t)
          , s = {
            apple: {
                phone: r(Ic) && !r(na),
                ipod: r(hu),
                tablet: !r(Ic) && (r(lu) || xu(e)) && !r(na),
                universal: r(fu),
                device: (r(Ic) || r(hu) || r(lu) || r(fu) || xu(e)) && !r(na)
            },
            amazon: {
                phone: r(li),
                tablet: !r(li) && r(gs),
                device: r(li) || r(gs)
            },
            android: {
                phone: !r(na) && r(li) || !r(na) && r(Gc),
                tablet: !r(na) && !r(li) && !r(Gc) && (r(gs) || r(uu)),
                device: !r(na) && (r(li) || r(gs) || r(Gc) || r(uu)) || r(/\bokhttp\b/i)
            },
            windows: {
                phone: r(na),
                tablet: r(bu),
                device: r(na) || r(bu)
            },
            other: {
                blackberry: r(pu),
                blackberry10: r(gu),
                opera: r(mu),
                firefox: r(yu),
                chrome: r(_u),
                device: r(pu) || r(gu) || r(mu) || r(yu) || r(_u)
            },
            any: !1,
            phone: !1,
            tablet: !1
        };
        return s.any = s.apple.device || s.android.device || s.windows.device || s.other.device,
        s.phone = s.apple.phone || s.android.phone || s.windows.phone,
        s.tablet = s.apple.tablet || s.android.tablet || s.windows.tablet,
        s
    }
    var Tu, j4 = (Tu = vu.default) != null ? Tu : vu, Qa = j4(globalThis.navigator), X4 = Object.defineProperty, Su = Object.getOwnPropertySymbols, H4 = Object.prototype.hasOwnProperty, z4 = Object.prototype.propertyIsEnumerable, wu = (a, e, t) => e in a ? X4(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t, Au = (a, e) => {
        for (var t in e || (e = {}))
            H4.call(e, t) && wu(a, t, e[t]);
        if (Su)
            for (var t of Su(e))
                z4.call(e, t) && wu(a, t, e[t]);
        return a
    }
    , V4 = 9, ms = 100, W4 = 0, Y4 = 0, Eu = 2, Pu = 1, $4 = -1e3, K4 = -1e3, q4 = 2, Bd = class x2 {
        constructor(e, t=Qa) {
            this._mobileInfo = t,
            this.debug = !1,
            this._activateOnTab = !0,
            this._deactivateOnMouseMove = !0,
            this._isActive = !1,
            this._isMobileAccessibility = !1,
            this._div = null,
            this._pool = [],
            this._renderId = 0,
            this._children = [],
            this._androidUpdateCount = 0,
            this._androidUpdateFrequency = 500,
            this._hookDiv = null,
            (t.tablet || t.phone) && this._createTouchHook(),
            this._renderer = e
        }
        get isActive() {
            return this._isActive
        }
        get isMobileAccessibility() {
            return this._isMobileAccessibility
        }
        get hookDiv() {
            return this._hookDiv
        }
        _createTouchHook() {
            let e = document.createElement("button");
            e.style.width = `${Pu}px`,
            e.style.height = `${Pu}px`,
            e.style.position = "absolute",
            e.style.top = `${$4}px`,
            e.style.left = `${K4}px`,
            e.style.zIndex = q4.toString(),
            e.style.backgroundColor = "#FF0000",
            e.title = "select to enable accessibility for this content",
            e.addEventListener("focus", () => {
                this._isMobileAccessibility = !0,
                this._activate(),
                this._destroyTouchHook()
            }
            ),
            document.body.appendChild(e),
            this._hookDiv = e
        }
        _destroyTouchHook() {
            this._hookDiv && (document.body.removeChild(this._hookDiv),
            this._hookDiv = null)
        }
        _activate() {
            if (this._isActive)
                return;
            this._isActive = !0,
            this._div || (this._div = document.createElement("div"),
            this._div.style.width = `${ms}px`,
            this._div.style.height = `${ms}px`,
            this._div.style.position = "absolute",
            this._div.style.top = `${W4}px`,
            this._div.style.left = `${Y4}px`,
            this._div.style.zIndex = Eu.toString(),
            this._div.style.pointerEvents = "none"),
            this._activateOnTab && (this._onKeyDown = this._onKeyDown.bind(this),
            globalThis.addEventListener("keydown", this._onKeyDown, !1)),
            this._deactivateOnMouseMove && (this._onMouseMove = this._onMouseMove.bind(this),
            globalThis.document.addEventListener("mousemove", this._onMouseMove, !0));
            let e = this._renderer.view.canvas;
            if (e.parentNode)
                e.parentNode.appendChild(this._div),
                this._initAccessibilitySetup();
            else {
                let t = new MutationObserver( () => {
                    e.parentNode && (e.parentNode.appendChild(this._div),
                    t.disconnect(),
                    this._initAccessibilitySetup())
                }
                );
                t.observe(document.body, {
                    childList: !0,
                    subtree: !0
                })
            }
        }
        _initAccessibilitySetup() {
            this._renderer.runners.postrender.add(this),
            this._renderer.lastObjectRendered && this._updateAccessibleObjects(this._renderer.lastObjectRendered)
        }
        _deactivate() {
            if (!(!this._isActive || this._isMobileAccessibility)) {
                this._isActive = !1,
                globalThis.document.removeEventListener("mousemove", this._onMouseMove, !0),
                this._activateOnTab && globalThis.addEventListener("keydown", this._onKeyDown, !1),
                this._renderer.runners.postrender.remove(this);
                for (let e of this._children)
                    e._accessibleDiv && e._accessibleDiv.parentNode && (e._accessibleDiv.parentNode.removeChild(e._accessibleDiv),
                    e._accessibleDiv = null),
                    e._accessibleActive = !1;
                this._pool.forEach(e => {
                    e.parentNode && e.parentNode.removeChild(e)
                }
                ),
                this._div && this._div.parentNode && this._div.parentNode.removeChild(this._div),
                this._pool = [],
                this._children = []
            }
        }
        _updateAccessibleObjects(e) {
            if (!e.visible || !e.accessibleChildren)
                return;
            e.accessible && (e._accessibleActive || this._addChild(e),
            e._renderId = this._renderId);
            let t = e.children;
            if (t)
                for (let i = 0; i < t.length; i++)
                    this._updateAccessibleObjects(t[i])
        }
        init(e) {
            let t = x2.defaultOptions
              , i = {
                accessibilityOptions: Au(Au({}, t), e?.accessibilityOptions || {})
            };
            this.debug = i.accessibilityOptions.debug,
            this._activateOnTab = i.accessibilityOptions.activateOnTab,
            this._deactivateOnMouseMove = i.accessibilityOptions.deactivateOnMouseMove,
            i.accessibilityOptions.enabledByDefault ? this._activate() : this._activateOnTab && (this._onKeyDown = this._onKeyDown.bind(this),
            globalThis.addEventListener("keydown", this._onKeyDown, !1)),
            this._renderer.runners.postrender.remove(this)
        }
        postrender() {
            let e = performance.now();
            if (this._mobileInfo.android.device && e < this._androidUpdateCount || (this._androidUpdateCount = e + this._androidUpdateFrequency,
            !this._renderer.renderingToScreen || !this._renderer.view.canvas))
                return;
            let t = new Set;
            if (this._renderer.lastObjectRendered) {
                this._updateAccessibleObjects(this._renderer.lastObjectRendered);
                for (let i of this._children)
                    i._renderId === this._renderId && t.add(this._children.indexOf(i))
            }
            for (let i = this._children.length - 1; i >= 0; i--) {
                let r = this._children[i];
                t.has(i) || (r._accessibleDiv && r._accessibleDiv.parentNode && (r._accessibleDiv.parentNode.removeChild(r._accessibleDiv),
                this._pool.push(r._accessibleDiv),
                r._accessibleDiv = null),
                r._accessibleActive = !1,
                d2(this._children, i, 1))
            }
            if (this._renderer.renderingToScreen) {
                let {x: i, y: r, width: s, height: o} = this._renderer.screen
                  , d = this._div;
                d.style.left = `${i}px`,
                d.style.top = `${r}px`,
                d.style.width = `${s}px`,
                d.style.height = `${o}px`
            }
            for (let i = 0; i < this._children.length; i++) {
                let r = this._children[i];
                if (!r._accessibleActive || !r._accessibleDiv)
                    continue;
                let s = r._accessibleDiv
                  , o = r.hitArea || r.getBounds().rectangle;
                if (r.hitArea) {
                    let d = r.worldTransform
                      , h = this._renderer.resolution
                      , l = this._renderer.resolution;
                    s.style.left = `${(d.tx + o.x * d.a) * h}px`,
                    s.style.top = `${(d.ty + o.y * d.d) * l}px`,
                    s.style.width = `${o.width * d.a * h}px`,
                    s.style.height = `${o.height * d.d * l}px`
                } else {
                    this._capHitArea(o);
                    let d = this._renderer.resolution
                      , h = this._renderer.resolution;
                    s.style.left = `${o.x * d}px`,
                    s.style.top = `${o.y * h}px`,
                    s.style.width = `${o.width * d}px`,
                    s.style.height = `${o.height * h}px`
                }
            }
            this._renderId++
        }
        _updateDebugHTML(e) {
            e.innerHTML = `type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`
        }
        _capHitArea(e) {
            e.x < 0 && (e.width += e.x,
            e.x = 0),
            e.y < 0 && (e.height += e.y,
            e.y = 0);
            let {width: t, height: i} = this._renderer;
            e.x + e.width > t && (e.width = t - e.x),
            e.y + e.height > i && (e.height = i - e.y)
        }
        _addChild(e) {
            let t = this._pool.pop();
            t || (e.accessibleType === "button" ? t = document.createElement("button") : (t = document.createElement(e.accessibleType),
            t.style.cssText = `
    color: transparent;
    pointer-events: none;
    padding: 0;
    margin: 0;
    border: 0;
    outline: 0;
    background: transparent;
    box-sizing: border-box;
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
`,
            e.accessibleText && (t.innerText = e.accessibleText)),
            t.style.width = `${ms}px`,
            t.style.height = `${ms}px`,
            t.style.backgroundColor = this.debug ? "rgba(255,255,255,0.5)" : "transparent",
            t.style.position = "absolute",
            t.style.zIndex = Eu.toString(),
            t.style.borderStyle = "none",
            navigator.userAgent.toLowerCase().includes("chrome") ? t.setAttribute("aria-live", "off") : t.setAttribute("aria-live", "polite"),
            navigator.userAgent.match(/rv:.*Gecko\//) ? t.setAttribute("aria-relevant", "additions") : t.setAttribute("aria-relevant", "text"),
            t.addEventListener("click", this._onClick.bind(this)),
            t.addEventListener("focus", this._onFocus.bind(this)),
            t.addEventListener("focusout", this._onFocusOut.bind(this))),
            t.style.pointerEvents = e.accessiblePointerEvents,
            t.type = e.accessibleType,
            e.accessibleTitle && e.accessibleTitle !== null ? t.title = e.accessibleTitle : (!e.accessibleHint || e.accessibleHint === null) && (t.title = `container ${e.tabIndex}`),
            e.accessibleHint && e.accessibleHint !== null && t.setAttribute("aria-label", e.accessibleHint),
            this.debug && this._updateDebugHTML(t),
            e._accessibleActive = !0,
            e._accessibleDiv = t,
            t.container = e,
            this._children.push(e),
            this._div.appendChild(e._accessibleDiv),
            e.interactive && (e._accessibleDiv.tabIndex = e.tabIndex)
        }
        _dispatchEvent(e, t) {
            let {container: i} = e.target
              , r = this._renderer.events.rootBoundary
              , s = Object.assign(new Or(r), {
                target: i
            });
            r.rootTarget = this._renderer.lastObjectRendered,
            t.forEach(o => r.dispatchEvent(s, o))
        }
        _onClick(e) {
            this._dispatchEvent(e, ["click", "pointertap", "tap"])
        }
        _onFocus(e) {
            e.target.getAttribute("aria-live") || e.target.setAttribute("aria-live", "assertive"),
            this._dispatchEvent(e, ["mouseover"])
        }
        _onFocusOut(e) {
            e.target.getAttribute("aria-live") || e.target.setAttribute("aria-live", "polite"),
            this._dispatchEvent(e, ["mouseout"])
        }
        _onKeyDown(e) {
            e.keyCode !== V4 || !this._activateOnTab || this._activate()
        }
        _onMouseMove(e) {
            e.movementX === 0 && e.movementY === 0 || this._deactivate()
        }
        destroy() {
            this._deactivate(),
            this._destroyTouchHook(),
            this._div = null,
            this._pool = null,
            this._children = null,
            this._renderer = null,
            this._activateOnTab && globalThis.removeEventListener("keydown", this._onKeyDown)
        }
        setAccessibilityEnabled(e) {
            e ? this._activate() : this._deactivate()
        }
    }
    ;
    Bd.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem],
        name: "accessibility"
    },
    Bd.defaultOptions = {
        enabledByDefault: !1,
        debug: !1,
        activateOnTab: !0,
        deactivateOnMouseMove: !0
    };
    var Z4 = Bd
      , Q4 = {
        accessible: !1,
        accessibleTitle: null,
        accessibleHint: null,
        tabIndex: 0,
        _accessibleActive: !1,
        _accessibleDiv: null,
        accessibleType: "button",
        accessibleText: null,
        accessiblePointerEvents: "auto",
        accessibleChildren: !0,
        _renderId: -1
    };
    pe.add(Z4),
    le.mixin(Q4);
    var Ys = class {
        static init(e) {
            Object.defineProperty(this, "resizeTo", {
                set(t) {
                    globalThis.removeEventListener("resize", this.queueResize),
                    this._resizeTo = t,
                    t && (globalThis.addEventListener("resize", this.queueResize),
                    this.resize())
                },
                get() {
                    return this._resizeTo
                }
            }),
            this.queueResize = () => {
                this._resizeTo && (this._cancelResize(),
                this._resizeId = requestAnimationFrame( () => this.resize()))
            }
            ,
            this._cancelResize = () => {
                this._resizeId && (cancelAnimationFrame(this._resizeId),
                this._resizeId = null)
            }
            ,
            this.resize = () => {
                if (!this._resizeTo)
                    return;
                this._cancelResize();
                let t, i;
                if (this._resizeTo === globalThis.window)
                    t = globalThis.innerWidth,
                    i = globalThis.innerHeight;
                else {
                    let {clientWidth: r, clientHeight: s} = this._resizeTo;
                    t = r,
                    i = s
                }
                this.renderer.resize(t, i),
                this.render()
            }
            ,
            this._resizeId = null,
            this._resizeTo = null,
            this.resizeTo = e.resizeTo || null
        }
        static destroy() {
            globalThis.removeEventListener("resize", this.queueResize),
            this._cancelResize(),
            this._cancelResize = null,
            this.queueResize = null,
            this.resizeTo = null,
            this.resize = null
        }
    }
    ;
    Ys.extension = B.Application;
    var Ma = (a => (a[a.INTERACTION = 50] = "INTERACTION",
    a[a.HIGH = 25] = "HIGH",
    a[a.NORMAL = 0] = "NORMAL",
    a[a.LOW = -25] = "LOW",
    a[a.UTILITY = -50] = "UTILITY",
    a))(Ma || {})
      , Tr = class {
        constructor(e, t=null, i=0, r=!1) {
            this.next = null,
            this.previous = null,
            this._destroyed = !1,
            this._fn = e,
            this._context = t,
            this.priority = i,
            this._once = r
        }
        match(e, t=null) {
            return this._fn === e && this._context === t
        }
        emit(e) {
            this._fn && (this._context ? this._fn.call(this._context, e) : this._fn(e));
            let t = this.next;
            return this._once && this.destroy(!0),
            this._destroyed && (this.next = null),
            t
        }
        connect(e) {
            this.previous = e,
            e.next && (e.next.previous = this),
            this.next = e.next,
            e.next = this
        }
        destroy(e=!1) {
            this._destroyed = !0,
            this._fn = null,
            this._context = null,
            this.previous && (this.previous.next = this.next),
            this.next && (this.next.previous = this.previous);
            let t = this.next;
            return this.next = e ? null : t,
            this.previous = null,
            t
        }
    }
      , v2 = class ft {
        constructor() {
            this.autoStart = !1,
            this.deltaTime = 1,
            this.lastTime = -1,
            this.speed = 1,
            this.started = !1,
            this._requestId = null,
            this._maxElapsedMS = 100,
            this._minElapsedMS = 0,
            this._protected = !1,
            this._lastFrame = -1,
            this._head = new Tr(null,null,1 / 0),
            this.deltaMS = 1 / ft.targetFPMS,
            this.elapsedMS = 1 / ft.targetFPMS,
            this._tick = e => {
                this._requestId = null,
                this.started && (this.update(e),
                this.started && this._requestId === null && this._head.next && (this._requestId = requestAnimationFrame(this._tick)))
            }
        }
        _requestIfNeeded() {
            this._requestId === null && this._head.next && (this.lastTime = performance.now(),
            this._lastFrame = this.lastTime,
            this._requestId = requestAnimationFrame(this._tick))
        }
        _cancelIfNeeded() {
            this._requestId !== null && (cancelAnimationFrame(this._requestId),
            this._requestId = null)
        }
        _startIfPossible() {
            this.started ? this._requestIfNeeded() : this.autoStart && this.start()
        }
        add(e, t, i=Ma.NORMAL) {
            return this._addListener(new Tr(e,t,i))
        }
        addOnce(e, t, i=Ma.NORMAL) {
            return this._addListener(new Tr(e,t,i,!0))
        }
        _addListener(e) {
            let t = this._head.next
              , i = this._head;
            if (!t)
                e.connect(i);
            else {
                for (; t; ) {
                    if (e.priority > t.priority) {
                        e.connect(i);
                        break
                    }
                    i = t,
                    t = t.next
                }
                e.previous || e.connect(i)
            }
            return this._startIfPossible(),
            this
        }
        remove(e, t) {
            let i = this._head.next;
            for (; i; )
                i.match(e, t) ? i = i.destroy() : i = i.next;
            return this._head.next || this._cancelIfNeeded(),
            this
        }
        get count() {
            if (!this._head)
                return 0;
            let e = 0
              , t = this._head;
            for (; t = t.next; )
                e++;
            return e
        }
        start() {
            this.started || (this.started = !0,
            this._requestIfNeeded())
        }
        stop() {
            this.started && (this.started = !1,
            this._cancelIfNeeded())
        }
        destroy() {
            if (!this._protected) {
                this.stop();
                let e = this._head.next;
                for (; e; )
                    e = e.destroy(!0);
                this._head.destroy(),
                this._head = null
            }
        }
        update(e=performance.now()) {
            let t;
            if (e > this.lastTime) {
                if (t = this.elapsedMS = e - this.lastTime,
                t > this._maxElapsedMS && (t = this._maxElapsedMS),
                t *= this.speed,
                this._minElapsedMS) {
                    let s = e - this._lastFrame | 0;
                    if (s < this._minElapsedMS)
                        return;
                    this._lastFrame = e - s % this._minElapsedMS
                }
                this.deltaMS = t,
                this.deltaTime = this.deltaMS * ft.targetFPMS;
                let i = this._head
                  , r = i.next;
                for (; r; )
                    r = r.emit(this);
                i.next || this._cancelIfNeeded()
            } else
                this.deltaTime = this.deltaMS = this.elapsedMS = 0;
            this.lastTime = e
        }
        get FPS() {
            return 1e3 / this.elapsedMS
        }
        get minFPS() {
            return 1e3 / this._maxElapsedMS
        }
        set minFPS(e) {
            let t = Math.min(this.maxFPS, e)
              , i = Math.min(Math.max(0, t) / 1e3, ft.targetFPMS);
            this._maxElapsedMS = 1 / i
        }
        get maxFPS() {
            return this._minElapsedMS ? Math.round(1e3 / this._minElapsedMS) : 0
        }
        set maxFPS(e) {
            if (e === 0)
                this._minElapsedMS = 0;
            else {
                let t = Math.max(this.minFPS, e);
                this._minElapsedMS = 1 / (t / 1e3)
            }
        }
        static get shared() {
            if (!ft._shared) {
                let e = ft._shared = new ft;
                e.autoStart = !0,
                e._protected = !0
            }
            return ft._shared
        }
        static get system() {
            if (!ft._system) {
                let e = ft._system = new ft;
                e.autoStart = !0,
                e._protected = !0
            }
            return ft._system
        }
    }
    ;
    v2.targetFPMS = .06;
    var tt = v2
      , $s = class {
        static init(e) {
            e = Object.assign({
                autoStart: !0,
                sharedTicker: !1
            }, e),
            Object.defineProperty(this, "ticker", {
                set(t) {
                    this._ticker && this._ticker.remove(this.render, this),
                    this._ticker = t,
                    t && t.add(this.render, this, Ma.LOW)
                },
                get() {
                    return this._ticker
                }
            }),
            this.stop = () => {
                this._ticker.stop()
            }
            ,
            this.start = () => {
                this._ticker.start()
            }
            ,
            this._ticker = null,
            this.ticker = e.sharedTicker ? tt.shared : new tt,
            e.autoStart && this.start()
        }
        static destroy() {
            if (this._ticker) {
                let e = this._ticker;
                this.ticker = null,
                e.destroy()
            }
        }
    }
    ;
    $s.extension = B.Application,
    pe.add(Ys),
    pe.add($s);
    var J4 = class {
        constructor() {
            this.interactionFrequency = 10,
            this._deltaTime = 0,
            this._didMove = !1,
            this._tickerAdded = !1,
            this._pauseUpdate = !0
        }
        init(a) {
            this.removeTickerListener(),
            this.events = a,
            this.interactionFrequency = 10,
            this._deltaTime = 0,
            this._didMove = !1,
            this._tickerAdded = !1,
            this._pauseUpdate = !0
        }
        get pauseUpdate() {
            return this._pauseUpdate
        }
        set pauseUpdate(a) {
            this._pauseUpdate = a
        }
        addTickerListener() {
            this._tickerAdded || !this.domElement || (tt.system.add(this._tickerUpdate, this, Ma.INTERACTION),
            this._tickerAdded = !0)
        }
        removeTickerListener() {
            this._tickerAdded && (tt.system.remove(this._tickerUpdate, this),
            this._tickerAdded = !1)
        }
        pointerMoved() {
            this._didMove = !0
        }
        _update() {
            if (!this.domElement || this._pauseUpdate)
                return;
            if (this._didMove) {
                this._didMove = !1;
                return
            }
            let a = this.events._rootPointerEvent;
            this.events.supportsTouchEvents && a.pointerType === "touch" || globalThis.document.dispatchEvent(new PointerEvent("pointermove",{
                clientX: a.clientX,
                clientY: a.clientY,
                pointerType: a.pointerType,
                pointerId: a.pointerId
            }))
        }
        _tickerUpdate(a) {
            this._deltaTime += a.deltaTime,
            !(this._deltaTime < this.interactionFrequency) && (this._deltaTime = 0,
            this._update())
        }
    }
      , Ea = new J4
      , Pi = class extends Or {
        constructor() {
            super(...arguments),
            this.client = new Ce,
            this.movement = new Ce,
            this.offset = new Ce,
            this.global = new Ce,
            this.screen = new Ce
        }
        get clientX() {
            return this.client.x
        }
        get clientY() {
            return this.client.y
        }
        get x() {
            return this.clientX
        }
        get y() {
            return this.clientY
        }
        get movementX() {
            return this.movement.x
        }
        get movementY() {
            return this.movement.y
        }
        get offsetX() {
            return this.offset.x
        }
        get offsetY() {
            return this.offset.y
        }
        get globalX() {
            return this.global.x
        }
        get globalY() {
            return this.global.y
        }
        get screenX() {
            return this.screen.x
        }
        get screenY() {
            return this.screen.y
        }
        getLocalPosition(e, t, i) {
            return e.worldTransform.applyInverse(i || this.global, t)
        }
        getModifierState(e) {
            return "getModifierState"in this.nativeEvent && this.nativeEvent.getModifierState(e)
        }
        initMouseEvent(e, t, i, r, s, o, d, h, l, u, p, y, _, v, T) {
            throw new Error("Method not implemented.")
        }
    }
      , gt = class extends Pi {
        constructor() {
            super(...arguments),
            this.width = 0,
            this.height = 0,
            this.isPrimary = !1
        }
        getCoalescedEvents() {
            return this.type === "pointermove" || this.type === "mousemove" || this.type === "touchmove" ? [this] : []
        }
        getPredictedEvents() {
            throw new Error("getPredictedEvents is not supported!")
        }
    }
      , Ra = class extends Pi {
        constructor() {
            super(...arguments),
            this.DOM_DELTA_PIXEL = 0,
            this.DOM_DELTA_LINE = 1,
            this.DOM_DELTA_PAGE = 2
        }
    }
    ;
    Ra.DOM_DELTA_PIXEL = 0,
    Ra.DOM_DELTA_LINE = 1,
    Ra.DOM_DELTA_PAGE = 2;
    var e8 = 2048
      , t8 = new Ce
      , rr = new Ce
      , Fd = class {
        constructor(e) {
            this.dispatch = new xt,
            this.moveOnAll = !1,
            this.enableGlobalMoveEvents = !0,
            this.mappingState = {
                trackingData: {}
            },
            this.eventPool = new Map,
            this._allInteractiveElements = [],
            this._hitElements = [],
            this._isPointerMoveEvent = !1,
            this.rootTarget = e,
            this.hitPruneFn = this.hitPruneFn.bind(this),
            this.hitTestFn = this.hitTestFn.bind(this),
            this.mapPointerDown = this.mapPointerDown.bind(this),
            this.mapPointerMove = this.mapPointerMove.bind(this),
            this.mapPointerOut = this.mapPointerOut.bind(this),
            this.mapPointerOver = this.mapPointerOver.bind(this),
            this.mapPointerUp = this.mapPointerUp.bind(this),
            this.mapPointerUpOutside = this.mapPointerUpOutside.bind(this),
            this.mapWheel = this.mapWheel.bind(this),
            this.mappingTable = {},
            this.addEventMapping("pointerdown", this.mapPointerDown),
            this.addEventMapping("pointermove", this.mapPointerMove),
            this.addEventMapping("pointerout", this.mapPointerOut),
            this.addEventMapping("pointerleave", this.mapPointerOut),
            this.addEventMapping("pointerover", this.mapPointerOver),
            this.addEventMapping("pointerup", this.mapPointerUp),
            this.addEventMapping("pointerupoutside", this.mapPointerUpOutside),
            this.addEventMapping("wheel", this.mapWheel)
        }
        addEventMapping(e, t) {
            this.mappingTable[e] || (this.mappingTable[e] = []),
            this.mappingTable[e].push({
                fn: t,
                priority: 0
            }),
            this.mappingTable[e].sort( (i, r) => i.priority - r.priority)
        }
        dispatchEvent(e, t) {
            e.propagationStopped = !1,
            e.propagationImmediatelyStopped = !1,
            this.propagate(e, t),
            this.dispatch.emit(t || e.type, e)
        }
        mapEvent(e) {
            if (!this.rootTarget)
                return;
            let t = this.mappingTable[e.type];
            if (t)
                for (let i = 0, r = t.length; i < r; i++)
                    t[i].fn(e)
        }
        hitTest(e, t) {
            Ea.pauseUpdate = !0;
            let i = this._isPointerMoveEvent && this.enableGlobalMoveEvents ? "hitTestMoveRecursive" : "hitTestRecursive"
              , r = this[i](this.rootTarget, this.rootTarget.eventMode, t8.set(e, t), this.hitTestFn, this.hitPruneFn);
            return r && r[0]
        }
        propagate(e, t) {
            if (!e.target)
                return;
            let i = e.composedPath();
            e.eventPhase = e.CAPTURING_PHASE;
            for (let r = 0, s = i.length - 1; r < s; r++)
                if (e.currentTarget = i[r],
                this.notifyTarget(e, t),
                e.propagationStopped || e.propagationImmediatelyStopped)
                    return;
            if (e.eventPhase = e.AT_TARGET,
            e.currentTarget = e.target,
            this.notifyTarget(e, t),
            !(e.propagationStopped || e.propagationImmediatelyStopped)) {
                e.eventPhase = e.BUBBLING_PHASE;
                for (let r = i.length - 2; r >= 0; r--)
                    if (e.currentTarget = i[r],
                    this.notifyTarget(e, t),
                    e.propagationStopped || e.propagationImmediatelyStopped)
                        return
            }
        }
        all(e, t, i=this._allInteractiveElements) {
            if (i.length === 0)
                return;
            e.eventPhase = e.BUBBLING_PHASE;
            let r = Array.isArray(t) ? t : [t];
            for (let s = i.length - 1; s >= 0; s--)
                r.forEach(o => {
                    e.currentTarget = i[s],
                    this.notifyTarget(e, o)
                }
                )
        }
        propagationPath(e) {
            let t = [e];
            for (let i = 0; i < e8 && e !== this.rootTarget && e.parent; i++) {
                if (!e.parent)
                    throw new Error("Cannot find propagation path to disconnected target");
                t.push(e.parent),
                e = e.parent
            }
            return t.reverse(),
            t
        }
        hitTestMoveRecursive(e, t, i, r, s, o=!1) {
            let d = !1;
            if (this._interactivePrune(e))
                return null;
            if ((e.eventMode === "dynamic" || t === "dynamic") && (Ea.pauseUpdate = !1),
            e.interactiveChildren && e.children) {
                let u = e.children;
                for (let p = u.length - 1; p >= 0; p--) {
                    let y = u[p]
                      , _ = this.hitTestMoveRecursive(y, this._isInteractive(t) ? t : y.eventMode, i, r, s, o || s(e, i));
                    if (_) {
                        if (_.length > 0 && !_[_.length - 1].parent)
                            continue;
                        let v = e.isInteractive();
                        (_.length > 0 || v) && (v && this._allInteractiveElements.push(e),
                        _.push(e)),
                        this._hitElements.length === 0 && (this._hitElements = _),
                        d = !0
                    }
                }
            }
            let h = this._isInteractive(t)
              , l = e.isInteractive();
            return l && l && this._allInteractiveElements.push(e),
            o || this._hitElements.length > 0 ? null : d ? this._hitElements : h && !s(e, i) && r(e, i) ? l ? [e] : [] : null
        }
        hitTestRecursive(e, t, i, r, s) {
            if (this._interactivePrune(e) || s(e, i))
                return null;
            if ((e.eventMode === "dynamic" || t === "dynamic") && (Ea.pauseUpdate = !1),
            e.interactiveChildren && e.children) {
                let h = e.children
                  , l = i;
                for (let u = h.length - 1; u >= 0; u--) {
                    let p = h[u]
                      , y = this.hitTestRecursive(p, this._isInteractive(t) ? t : p.eventMode, l, r, s);
                    if (y) {
                        if (y.length > 0 && !y[y.length - 1].parent)
                            continue;
                        let _ = e.isInteractive();
                        return (y.length > 0 || _) && y.push(e),
                        y
                    }
                }
            }
            let o = this._isInteractive(t)
              , d = e.isInteractive();
            return o && r(e, i) ? d ? [e] : [] : null
        }
        _isInteractive(e) {
            return e === "static" || e === "dynamic"
        }
        _interactivePrune(e) {
            return !e || !e.visible || !e.renderable || !e.measurable || e.eventMode === "none" || e.eventMode === "passive" && !e.interactiveChildren
        }
        hitPruneFn(e, t) {
            if (e.hitArea && (e.worldTransform.applyInverse(t, rr),
            !e.hitArea.contains(rr.x, rr.y)))
                return !0;
            if (e.effects && e.effects.length)
                for (let i = 0; i < e.effects.length; i++) {
                    let r = e.effects[i];
                    if (r.containsPoint && !r.containsPoint(t, this.hitTestFn))
                        return !0
                }
            return !1
        }
        hitTestFn(e, t) {
            return e.hitArea ? !0 : e != null && e.containsPoint ? (e.worldTransform.applyInverse(t, rr),
            e.containsPoint(rr)) : !1
        }
        notifyTarget(e, t) {
            var i, r;
            if (!e.currentTarget.isInteractive())
                return;
            t != null || (t = e.type);
            let s = `on${t}`;
            (r = (i = e.currentTarget)[s]) == null || r.call(i, e);
            let o = e.eventPhase === e.CAPTURING_PHASE || e.eventPhase === e.AT_TARGET ? `${t}capture` : t;
            this._notifyListeners(e, o),
            e.eventPhase === e.AT_TARGET && this._notifyListeners(e, t)
        }
        mapPointerDown(e) {
            if (!(e instanceof gt))
                return;
            let t = this.createPointerEvent(e);
            if (this.dispatchEvent(t, "pointerdown"),
            t.pointerType === "touch")
                this.dispatchEvent(t, "touchstart");
            else if (t.pointerType === "mouse" || t.pointerType === "pen") {
                let r = t.button === 2;
                this.dispatchEvent(t, r ? "rightdown" : "mousedown")
            }
            let i = this.trackingData(e.pointerId);
            i.pressTargetsByButton[e.button] = t.composedPath(),
            this.freeEvent(t)
        }
        mapPointerMove(e) {
            var t, i, r;
            if (!(e instanceof gt))
                return;
            this._allInteractiveElements.length = 0,
            this._hitElements.length = 0,
            this._isPointerMoveEvent = !0;
            let s = this.createPointerEvent(e);
            this._isPointerMoveEvent = !1;
            let o = s.pointerType === "mouse" || s.pointerType === "pen"
              , d = this.trackingData(e.pointerId)
              , h = this.findMountedTarget(d.overTargets);
            if (((t = d.overTargets) == null ? void 0 : t.length) > 0 && h !== s.target) {
                let p = e.type === "mousemove" ? "mouseout" : "pointerout"
                  , y = this.createPointerEvent(e, p, h);
                if (this.dispatchEvent(y, "pointerout"),
                o && this.dispatchEvent(y, "mouseout"),
                !s.composedPath().includes(h)) {
                    let _ = this.createPointerEvent(e, "pointerleave", h);
                    for (_.eventPhase = _.AT_TARGET; _.target && !s.composedPath().includes(_.target); )
                        _.currentTarget = _.target,
                        this.notifyTarget(_),
                        o && this.notifyTarget(_, "mouseleave"),
                        _.target = _.target.parent;
                    this.freeEvent(_)
                }
                this.freeEvent(y)
            }
            if (h !== s.target) {
                let p = e.type === "mousemove" ? "mouseover" : "pointerover"
                  , y = this.clonePointerEvent(s, p);
                this.dispatchEvent(y, "pointerover"),
                o && this.dispatchEvent(y, "mouseover");
                let _ = h?.parent;
                for (; _ && _ !== this.rootTarget.parent && _ !== s.target; )
                    _ = _.parent;
                if (!_ || _ === this.rootTarget.parent) {
                    let v = this.clonePointerEvent(s, "pointerenter");
                    for (v.eventPhase = v.AT_TARGET; v.target && v.target !== h && v.target !== this.rootTarget.parent; )
                        v.currentTarget = v.target,
                        this.notifyTarget(v),
                        o && this.notifyTarget(v, "mouseenter"),
                        v.target = v.target.parent;
                    this.freeEvent(v)
                }
                this.freeEvent(y)
            }
            let l = []
              , u = (i = this.enableGlobalMoveEvents) != null ? i : !0;
            this.moveOnAll ? l.push("pointermove") : this.dispatchEvent(s, "pointermove"),
            u && l.push("globalpointermove"),
            s.pointerType === "touch" && (this.moveOnAll ? l.splice(1, 0, "touchmove") : this.dispatchEvent(s, "touchmove"),
            u && l.push("globaltouchmove")),
            o && (this.moveOnAll ? l.splice(1, 0, "mousemove") : this.dispatchEvent(s, "mousemove"),
            u && l.push("globalmousemove"),
            this.cursor = (r = s.target) == null ? void 0 : r.cursor),
            l.length > 0 && this.all(s, l),
            this._allInteractiveElements.length = 0,
            this._hitElements.length = 0,
            d.overTargets = s.composedPath(),
            this.freeEvent(s)
        }
        mapPointerOver(e) {
            var t;
            if (!(e instanceof gt))
                return;
            let i = this.trackingData(e.pointerId)
              , r = this.createPointerEvent(e)
              , s = r.pointerType === "mouse" || r.pointerType === "pen";
            this.dispatchEvent(r, "pointerover"),
            s && this.dispatchEvent(r, "mouseover"),
            r.pointerType === "mouse" && (this.cursor = (t = r.target) == null ? void 0 : t.cursor);
            let o = this.clonePointerEvent(r, "pointerenter");
            for (o.eventPhase = o.AT_TARGET; o.target && o.target !== this.rootTarget.parent; )
                o.currentTarget = o.target,
                this.notifyTarget(o),
                s && this.notifyTarget(o, "mouseenter"),
                o.target = o.target.parent;
            i.overTargets = r.composedPath(),
            this.freeEvent(r),
            this.freeEvent(o)
        }
        mapPointerOut(e) {
            if (!(e instanceof gt))
                return;
            let t = this.trackingData(e.pointerId);
            if (t.overTargets) {
                let i = e.pointerType === "mouse" || e.pointerType === "pen"
                  , r = this.findMountedTarget(t.overTargets)
                  , s = this.createPointerEvent(e, "pointerout", r);
                this.dispatchEvent(s),
                i && this.dispatchEvent(s, "mouseout");
                let o = this.createPointerEvent(e, "pointerleave", r);
                for (o.eventPhase = o.AT_TARGET; o.target && o.target !== this.rootTarget.parent; )
                    o.currentTarget = o.target,
                    this.notifyTarget(o),
                    i && this.notifyTarget(o, "mouseleave"),
                    o.target = o.target.parent;
                t.overTargets = null,
                this.freeEvent(s),
                this.freeEvent(o)
            }
            this.cursor = null
        }
        mapPointerUp(e) {
            if (!(e instanceof gt))
                return;
            let t = performance.now()
              , i = this.createPointerEvent(e);
            if (this.dispatchEvent(i, "pointerup"),
            i.pointerType === "touch")
                this.dispatchEvent(i, "touchend");
            else if (i.pointerType === "mouse" || i.pointerType === "pen") {
                let d = i.button === 2;
                this.dispatchEvent(i, d ? "rightup" : "mouseup")
            }
            let r = this.trackingData(e.pointerId)
              , s = this.findMountedTarget(r.pressTargetsByButton[e.button])
              , o = s;
            if (s && !i.composedPath().includes(s)) {
                let d = s;
                for (; d && !i.composedPath().includes(d); ) {
                    if (i.currentTarget = d,
                    this.notifyTarget(i, "pointerupoutside"),
                    i.pointerType === "touch")
                        this.notifyTarget(i, "touchendoutside");
                    else if (i.pointerType === "mouse" || i.pointerType === "pen") {
                        let h = i.button === 2;
                        this.notifyTarget(i, h ? "rightupoutside" : "mouseupoutside")
                    }
                    d = d.parent
                }
                delete r.pressTargetsByButton[e.button],
                o = d
            }
            if (o) {
                let d = this.clonePointerEvent(i, "click");
                d.target = o,
                d.path = null,
                r.clicksByButton[e.button] || (r.clicksByButton[e.button] = {
                    clickCount: 0,
                    target: d.target,
                    timeStamp: t
                });
                let h = r.clicksByButton[e.button];
                if (h.target === d.target && t - h.timeStamp < 200 ? ++h.clickCount : h.clickCount = 1,
                h.target = d.target,
                h.timeStamp = t,
                d.detail = h.clickCount,
                d.pointerType === "mouse") {
                    let l = d.button === 2;
                    this.dispatchEvent(d, l ? "rightclick" : "click")
                } else
                    d.pointerType === "touch" && this.dispatchEvent(d, "tap");
                this.dispatchEvent(d, "pointertap"),
                this.freeEvent(d)
            }
            this.freeEvent(i)
        }
        mapPointerUpOutside(e) {
            if (!(e instanceof gt))
                return;
            let t = this.trackingData(e.pointerId)
              , i = this.findMountedTarget(t.pressTargetsByButton[e.button])
              , r = this.createPointerEvent(e);
            if (i) {
                let s = i;
                for (; s; )
                    r.currentTarget = s,
                    this.notifyTarget(r, "pointerupoutside"),
                    r.pointerType === "touch" ? this.notifyTarget(r, "touchendoutside") : (r.pointerType === "mouse" || r.pointerType === "pen") && this.notifyTarget(r, r.button === 2 ? "rightupoutside" : "mouseupoutside"),
                    s = s.parent;
                delete t.pressTargetsByButton[e.button]
            }
            this.freeEvent(r)
        }
        mapWheel(e) {
            if (!(e instanceof Ra))
                return;
            let t = this.createWheelEvent(e);
            this.dispatchEvent(t),
            this.freeEvent(t)
        }
        findMountedTarget(e) {
            if (!e)
                return null;
            let t = e[0];
            for (let i = 1; i < e.length && e[i].parent === t; i++)
                t = e[i];
            return t
        }
        createPointerEvent(e, t, i) {
            var r;
            let s = this.allocateEvent(gt);
            return this.copyPointerData(e, s),
            this.copyMouseData(e, s),
            this.copyData(e, s),
            s.nativeEvent = e.nativeEvent,
            s.originalEvent = e,
            s.target = (r = i ?? this.hitTest(s.global.x, s.global.y)) != null ? r : this._hitElements[0],
            typeof t == "string" && (s.type = t),
            s
        }
        createWheelEvent(e) {
            let t = this.allocateEvent(Ra);
            return this.copyWheelData(e, t),
            this.copyMouseData(e, t),
            this.copyData(e, t),
            t.nativeEvent = e.nativeEvent,
            t.originalEvent = e,
            t.target = this.hitTest(t.global.x, t.global.y),
            t
        }
        clonePointerEvent(e, t) {
            let i = this.allocateEvent(gt);
            return i.nativeEvent = e.nativeEvent,
            i.originalEvent = e.originalEvent,
            this.copyPointerData(e, i),
            this.copyMouseData(e, i),
            this.copyData(e, i),
            i.target = e.target,
            i.path = e.composedPath().slice(),
            i.type = t ?? i.type,
            i
        }
        copyWheelData(e, t) {
            t.deltaMode = e.deltaMode,
            t.deltaX = e.deltaX,
            t.deltaY = e.deltaY,
            t.deltaZ = e.deltaZ
        }
        copyPointerData(e, t) {
            e instanceof gt && t instanceof gt && (t.pointerId = e.pointerId,
            t.width = e.width,
            t.height = e.height,
            t.isPrimary = e.isPrimary,
            t.pointerType = e.pointerType,
            t.pressure = e.pressure,
            t.tangentialPressure = e.tangentialPressure,
            t.tiltX = e.tiltX,
            t.tiltY = e.tiltY,
            t.twist = e.twist)
        }
        copyMouseData(e, t) {
            e instanceof Pi && t instanceof Pi && (t.altKey = e.altKey,
            t.button = e.button,
            t.buttons = e.buttons,
            t.client.copyFrom(e.client),
            t.ctrlKey = e.ctrlKey,
            t.metaKey = e.metaKey,
            t.movement.copyFrom(e.movement),
            t.screen.copyFrom(e.screen),
            t.shiftKey = e.shiftKey,
            t.global.copyFrom(e.global))
        }
        copyData(e, t) {
            t.isTrusted = e.isTrusted,
            t.srcElement = e.srcElement,
            t.timeStamp = performance.now(),
            t.type = e.type,
            t.detail = e.detail,
            t.view = e.view,
            t.which = e.which,
            t.layer.copyFrom(e.layer),
            t.page.copyFrom(e.page)
        }
        trackingData(e) {
            return this.mappingState.trackingData[e] || (this.mappingState.trackingData[e] = {
                pressTargetsByButton: {},
                clicksByButton: {},
                overTarget: null
            }),
            this.mappingState.trackingData[e]
        }
        allocateEvent(e) {
            this.eventPool.has(e) || this.eventPool.set(e, []);
            let t = this.eventPool.get(e).pop() || new e(this);
            return t.eventPhase = t.NONE,
            t.currentTarget = null,
            t.defaultPrevented = !1,
            t.path = null,
            t.target = null,
            t
        }
        freeEvent(e) {
            if (e.manager !== this)
                throw new Error("It is illegal to free an event not managed by this EventBoundary!");
            let t = e.constructor;
            this.eventPool.has(t) || this.eventPool.set(t, []),
            this.eventPool.get(t).push(e)
        }
        _notifyListeners(e, t) {
            let i = e.currentTarget._events[t];
            if (i)
                if ("fn"in i)
                    i.once && e.currentTarget.removeListener(t, i.fn, void 0, !0),
                    i.fn.call(i.context, e);
                else
                    for (let r = 0, s = i.length; r < s && !e.propagationImmediatelyStopped; r++)
                        i[r].once && e.currentTarget.removeListener(t, i[r].fn, void 0, !0),
                        i[r].fn.call(i[r].context, e)
        }
    }
      , a8 = Object.defineProperty
      , Ru = Object.getOwnPropertySymbols
      , i8 = Object.prototype.hasOwnProperty
      , r8 = Object.prototype.propertyIsEnumerable
      , Mu = (a, e, t) => e in a ? a8(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , s8 = (a, e) => {
        for (var t in e || (e = {}))
            i8.call(e, t) && Mu(a, t, e[t]);
        if (Ru)
            for (var t of Ru(e))
                r8.call(e, t) && Mu(a, t, e[t]);
        return a
    }
      , n8 = 1
      , o8 = {
        touchstart: "pointerdown",
        touchend: "pointerup",
        touchendoutside: "pointerupoutside",
        touchmove: "pointermove",
        touchcancel: "pointercancel"
    }
      , Dd = class kd {
        constructor(e) {
            this.supportsTouchEvents = "ontouchstart"in globalThis,
            this.supportsPointerEvents = !!globalThis.PointerEvent,
            this.domElement = null,
            this.resolution = 1,
            this.renderer = e,
            this.rootBoundary = new Fd(null),
            Ea.init(this),
            this.autoPreventDefault = !0,
            this._eventsAdded = !1,
            this._rootPointerEvent = new gt(null),
            this._rootWheelEvent = new Ra(null),
            this.cursorStyles = {
                default: "inherit",
                pointer: "pointer"
            },
            this.features = new Proxy(s8({}, kd.defaultEventFeatures),{
                set: (t, i, r) => (i === "globalMove" && (this.rootBoundary.enableGlobalMoveEvents = r),
                t[i] = r,
                !0)
            }),
            this._onPointerDown = this._onPointerDown.bind(this),
            this._onPointerMove = this._onPointerMove.bind(this),
            this._onPointerUp = this._onPointerUp.bind(this),
            this._onPointerOverOut = this._onPointerOverOut.bind(this),
            this.onWheel = this.onWheel.bind(this)
        }
        static get defaultEventMode() {
            return this._defaultEventMode
        }
        init(e) {
            var t, i;
            let {canvas: r, resolution: s} = this.renderer;
            this.setTargetElement(r),
            this.resolution = s,
            kd._defaultEventMode = (t = e.eventMode) != null ? t : "passive",
            Object.assign(this.features, (i = e.eventFeatures) != null ? i : {}),
            this.rootBoundary.enableGlobalMoveEvents = this.features.globalMove
        }
        resolutionChange(e) {
            this.resolution = e
        }
        destroy() {
            this.setTargetElement(null),
            this.renderer = null,
            this._currentCursor = null
        }
        setCursor(e) {
            e || (e = "default");
            let t = !0;
            if (globalThis.OffscreenCanvas && this.domElement instanceof OffscreenCanvas && (t = !1),
            this._currentCursor === e)
                return;
            this._currentCursor = e;
            let i = this.cursorStyles[e];
            if (i)
                switch (typeof i) {
                case "string":
                    t && (this.domElement.style.cursor = i);
                    break;
                case "function":
                    i(e);
                    break;
                case "object":
                    t && Object.assign(this.domElement.style, i);
                    break
                }
            else
                t && typeof e == "string" && !Object.prototype.hasOwnProperty.call(this.cursorStyles, e) && (this.domElement.style.cursor = e)
        }
        get pointer() {
            return this._rootPointerEvent
        }
        _onPointerDown(e) {
            if (!this.features.click)
                return;
            this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
            let t = this._normalizeToPointerData(e);
            this.autoPreventDefault && t[0].isNormalized && (e.cancelable || !("cancelable"in e)) && e.preventDefault();
            for (let i = 0, r = t.length; i < r; i++) {
                let s = t[i]
                  , o = this._bootstrapEvent(this._rootPointerEvent, s);
                this.rootBoundary.mapEvent(o)
            }
            this.setCursor(this.rootBoundary.cursor)
        }
        _onPointerMove(e) {
            if (!this.features.move)
                return;
            this.rootBoundary.rootTarget = this.renderer.lastObjectRendered,
            Ea.pointerMoved();
            let t = this._normalizeToPointerData(e);
            for (let i = 0, r = t.length; i < r; i++) {
                let s = this._bootstrapEvent(this._rootPointerEvent, t[i]);
                this.rootBoundary.mapEvent(s)
            }
            this.setCursor(this.rootBoundary.cursor)
        }
        _onPointerUp(e) {
            if (!this.features.click)
                return;
            this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
            let t = e.target;
            e.composedPath && e.composedPath().length > 0 && (t = e.composedPath()[0]);
            let i = t !== this.domElement ? "outside" : ""
              , r = this._normalizeToPointerData(e);
            for (let s = 0, o = r.length; s < o; s++) {
                let d = this._bootstrapEvent(this._rootPointerEvent, r[s]);
                d.type += i,
                this.rootBoundary.mapEvent(d)
            }
            this.setCursor(this.rootBoundary.cursor)
        }
        _onPointerOverOut(e) {
            if (!this.features.click)
                return;
            this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;
            let t = this._normalizeToPointerData(e);
            for (let i = 0, r = t.length; i < r; i++) {
                let s = this._bootstrapEvent(this._rootPointerEvent, t[i]);
                this.rootBoundary.mapEvent(s)
            }
            this.setCursor(this.rootBoundary.cursor)
        }
        onWheel(e) {
            if (!this.features.wheel)
                return;
            let t = this.normalizeWheelEvent(e);
            this.rootBoundary.rootTarget = this.renderer.lastObjectRendered,
            this.rootBoundary.mapEvent(t)
        }
        setTargetElement(e) {
            this._removeEvents(),
            this.domElement = e,
            Ea.domElement = e,
            this._addEvents()
        }
        _addEvents() {
            if (this._eventsAdded || !this.domElement)
                return;
            Ea.addTickerListener();
            let e = this.domElement.style;
            e && (globalThis.navigator.msPointerEnabled ? (e.msContentZooming = "none",
            e.msTouchAction = "none") : this.supportsPointerEvents && (e.touchAction = "none")),
            this.supportsPointerEvents ? (globalThis.document.addEventListener("pointermove", this._onPointerMove, !0),
            this.domElement.addEventListener("pointerdown", this._onPointerDown, !0),
            this.domElement.addEventListener("pointerleave", this._onPointerOverOut, !0),
            this.domElement.addEventListener("pointerover", this._onPointerOverOut, !0),
            globalThis.addEventListener("pointerup", this._onPointerUp, !0)) : (globalThis.document.addEventListener("mousemove", this._onPointerMove, !0),
            this.domElement.addEventListener("mousedown", this._onPointerDown, !0),
            this.domElement.addEventListener("mouseout", this._onPointerOverOut, !0),
            this.domElement.addEventListener("mouseover", this._onPointerOverOut, !0),
            globalThis.addEventListener("mouseup", this._onPointerUp, !0),
            this.supportsTouchEvents && (this.domElement.addEventListener("touchstart", this._onPointerDown, !0),
            this.domElement.addEventListener("touchend", this._onPointerUp, !0),
            this.domElement.addEventListener("touchmove", this._onPointerMove, !0))),
            this.domElement.addEventListener("wheel", this.onWheel, {
                passive: !0,
                capture: !0
            }),
            this._eventsAdded = !0
        }
        _removeEvents() {
            if (!this._eventsAdded || !this.domElement)
                return;
            Ea.removeTickerListener();
            let e = this.domElement.style;
            e && (globalThis.navigator.msPointerEnabled ? (e.msContentZooming = "",
            e.msTouchAction = "") : this.supportsPointerEvents && (e.touchAction = "")),
            this.supportsPointerEvents ? (globalThis.document.removeEventListener("pointermove", this._onPointerMove, !0),
            this.domElement.removeEventListener("pointerdown", this._onPointerDown, !0),
            this.domElement.removeEventListener("pointerleave", this._onPointerOverOut, !0),
            this.domElement.removeEventListener("pointerover", this._onPointerOverOut, !0),
            globalThis.removeEventListener("pointerup", this._onPointerUp, !0)) : (globalThis.document.removeEventListener("mousemove", this._onPointerMove, !0),
            this.domElement.removeEventListener("mousedown", this._onPointerDown, !0),
            this.domElement.removeEventListener("mouseout", this._onPointerOverOut, !0),
            this.domElement.removeEventListener("mouseover", this._onPointerOverOut, !0),
            globalThis.removeEventListener("mouseup", this._onPointerUp, !0),
            this.supportsTouchEvents && (this.domElement.removeEventListener("touchstart", this._onPointerDown, !0),
            this.domElement.removeEventListener("touchend", this._onPointerUp, !0),
            this.domElement.removeEventListener("touchmove", this._onPointerMove, !0))),
            this.domElement.removeEventListener("wheel", this.onWheel, !0),
            this.domElement = null,
            this._eventsAdded = !1
        }
        mapPositionToPoint(e, t, i) {
            let r = this.domElement.isConnected ? this.domElement.getBoundingClientRect() : {
                x: 0,
                y: 0,
                width: this.domElement.width,
                height: this.domElement.height,
                left: 0,
                top: 0
            }
              , s = 1 / this.resolution;
            e.x = (t - r.left) * (this.domElement.width / r.width) * s,
            e.y = (i - r.top) * (this.domElement.height / r.height) * s
        }
        _normalizeToPointerData(e) {
            let t = [];
            if (this.supportsTouchEvents && e instanceof TouchEvent)
                for (let i = 0, r = e.changedTouches.length; i < r; i++) {
                    let s = e.changedTouches[i];
                    typeof s.button > "u" && (s.button = 0),
                    typeof s.buttons > "u" && (s.buttons = 1),
                    typeof s.isPrimary > "u" && (s.isPrimary = e.touches.length === 1 && e.type === "touchstart"),
                    typeof s.width > "u" && (s.width = s.radiusX || 1),
                    typeof s.height > "u" && (s.height = s.radiusY || 1),
                    typeof s.tiltX > "u" && (s.tiltX = 0),
                    typeof s.tiltY > "u" && (s.tiltY = 0),
                    typeof s.pointerType > "u" && (s.pointerType = "touch"),
                    typeof s.pointerId > "u" && (s.pointerId = s.identifier || 0),
                    typeof s.pressure > "u" && (s.pressure = s.force || .5),
                    typeof s.twist > "u" && (s.twist = 0),
                    typeof s.tangentialPressure > "u" && (s.tangentialPressure = 0),
                    typeof s.layerX > "u" && (s.layerX = s.offsetX = s.clientX),
                    typeof s.layerY > "u" && (s.layerY = s.offsetY = s.clientY),
                    s.isNormalized = !0,
                    s.type = e.type,
                    t.push(s)
                }
            else if (!globalThis.MouseEvent || e instanceof MouseEvent && (!this.supportsPointerEvents || !(e instanceof globalThis.PointerEvent))) {
                let i = e;
                typeof i.isPrimary > "u" && (i.isPrimary = !0),
                typeof i.width > "u" && (i.width = 1),
                typeof i.height > "u" && (i.height = 1),
                typeof i.tiltX > "u" && (i.tiltX = 0),
                typeof i.tiltY > "u" && (i.tiltY = 0),
                typeof i.pointerType > "u" && (i.pointerType = "mouse"),
                typeof i.pointerId > "u" && (i.pointerId = n8),
                typeof i.pressure > "u" && (i.pressure = .5),
                typeof i.twist > "u" && (i.twist = 0),
                typeof i.tangentialPressure > "u" && (i.tangentialPressure = 0),
                i.isNormalized = !0,
                t.push(i)
            } else
                t.push(e);
            return t
        }
        normalizeWheelEvent(e) {
            let t = this._rootWheelEvent;
            return this._transferMouseData(t, e),
            t.deltaX = e.deltaX,
            t.deltaY = e.deltaY,
            t.deltaZ = e.deltaZ,
            t.deltaMode = e.deltaMode,
            this.mapPositionToPoint(t.screen, e.clientX, e.clientY),
            t.global.copyFrom(t.screen),
            t.offset.copyFrom(t.screen),
            t.nativeEvent = e,
            t.type = e.type,
            t
        }
        _bootstrapEvent(e, t) {
            return e.originalEvent = null,
            e.nativeEvent = t,
            e.pointerId = t.pointerId,
            e.width = t.width,
            e.height = t.height,
            e.isPrimary = t.isPrimary,
            e.pointerType = t.pointerType,
            e.pressure = t.pressure,
            e.tangentialPressure = t.tangentialPressure,
            e.tiltX = t.tiltX,
            e.tiltY = t.tiltY,
            e.twist = t.twist,
            this._transferMouseData(e, t),
            this.mapPositionToPoint(e.screen, t.clientX, t.clientY),
            e.global.copyFrom(e.screen),
            e.offset.copyFrom(e.screen),
            e.isTrusted = t.isTrusted,
            e.type === "pointerleave" && (e.type = "pointerout"),
            e.type.startsWith("mouse") && (e.type = e.type.replace("mouse", "pointer")),
            e.type.startsWith("touch") && (e.type = o8[e.type] || e.type),
            e
        }
        _transferMouseData(e, t) {
            e.isTrusted = t.isTrusted,
            e.srcElement = t.srcElement,
            e.timeStamp = performance.now(),
            e.type = t.type,
            e.altKey = t.altKey,
            e.button = t.button,
            e.buttons = t.buttons,
            e.client.x = t.clientX,
            e.client.y = t.clientY,
            e.ctrlKey = t.ctrlKey,
            e.metaKey = t.metaKey,
            e.movement.x = t.movementX,
            e.movement.y = t.movementY,
            e.page.x = t.pageX,
            e.page.y = t.pageY,
            e.relatedTarget = null,
            e.shiftKey = t.shiftKey
        }
    }
    ;
    Dd.extension = {
        name: "events",
        type: [B.WebGLSystem, B.CanvasSystem, B.WebGPUSystem],
        priority: -1
    },
    Dd.defaultEventFeatures = {
        move: !0,
        globalMove: !0,
        click: !0,
        wheel: !0
    };
    var T2 = Dd
      , c8 = {
        onclick: null,
        onmousedown: null,
        onmouseenter: null,
        onmouseleave: null,
        onmousemove: null,
        onglobalmousemove: null,
        onmouseout: null,
        onmouseover: null,
        onmouseup: null,
        onmouseupoutside: null,
        onpointercancel: null,
        onpointerdown: null,
        onpointerenter: null,
        onpointerleave: null,
        onpointermove: null,
        onglobalpointermove: null,
        onpointerout: null,
        onpointerover: null,
        onpointertap: null,
        onpointerup: null,
        onpointerupoutside: null,
        onrightclick: null,
        onrightdown: null,
        onrightup: null,
        onrightupoutside: null,
        ontap: null,
        ontouchcancel: null,
        ontouchend: null,
        ontouchendoutside: null,
        ontouchmove: null,
        onglobaltouchmove: null,
        ontouchstart: null,
        onwheel: null,
        get interactive() {
            return this.eventMode === "dynamic" || this.eventMode === "static"
        },
        set interactive(a) {
            this.eventMode = a ? "static" : "passive"
        },
        _internalEventMode: void 0,
        get eventMode() {
            var a;
            return (a = this._internalEventMode) != null ? a : T2.defaultEventMode
        },
        set eventMode(a) {
            this._internalEventMode = a
        },
        isInteractive() {
            return this.eventMode === "static" || this.eventMode === "dynamic"
        },
        interactiveChildren: !0,
        hitArea: null,
        addEventListener(a, e, t) {
            let i = typeof t == "boolean" && t || typeof t == "object" && t.capture
              , r = typeof t == "object" ? t.signal : void 0
              , s = typeof t == "object" ? t.once === !0 : !1
              , o = typeof e == "function" ? void 0 : e;
            a = i ? `${a}capture` : a;
            let d = typeof e == "function" ? e : e.handleEvent
              , h = this;
            r && r.addEventListener("abort", () => {
                h.off(a, d, o)
            }
            ),
            s ? h.once(a, d, o) : h.on(a, d, o)
        },
        removeEventListener(a, e, t) {
            let i = typeof t == "boolean" && t || typeof t == "object" && t.capture
              , r = typeof e == "function" ? void 0 : e;
            a = i ? `${a}capture` : a,
            e = typeof e == "function" ? e : e.handleEvent,
            this.off(a, e, r)
        },
        dispatchEvent(a) {
            if (!(a instanceof Or))
                throw new Error("Container cannot propagate events outside of the Federated Events API");
            return a.defaultPrevented = !1,
            a.path = null,
            a.target = this,
            a.manager.dispatchEvent(a),
            !a.defaultPrevented
        }
    };
    pe.add(T2),
    le.mixin(c8);
    var Rt = (a => (a[a.Low = 0] = "Low",
    a[a.Normal = 1] = "Normal",
    a[a.High = 2] = "High",
    a))(Rt || {})
      , d8 = {
        createCanvas: (a, e) => {
            let t = document.createElement("canvas");
            return t.width = a,
            t.height = e,
            t
        }
        ,
        getCanvasRenderingContext2D: () => CanvasRenderingContext2D,
        getWebGLRenderingContext: () => WebGLRenderingContext,
        getNavigator: () => navigator,
        getBaseUrl: () => {
            var a;
            return (a = document.baseURI) != null ? a : window.location.href
        }
        ,
        getFontFaceSet: () => document.fonts,
        fetch: (a, e) => fetch(a, e),
        parseXML: a => new DOMParser().parseFromString(a, "text/xml")
    }
      , Cu = d8
      , xe = {
        get() {
            return Cu
        },
        set(a) {
            Cu = a
        }
    };
    function Nt(a) {
        if (typeof a != "string")
            throw new TypeError(`Path must be a string. Received ${JSON.stringify(a)}`)
    }
    function sr(a) {
        return a.split("?")[0].split("#")[0]
    }
    function h8(a) {
        return a.replace(/[.*+?^${}()|[\]\\]/g, "\\$&")
    }
    function l8(a, e, t) {
        return a.replace(new RegExp(h8(e),"g"), t)
    }
    function f8(a, e) {
        let t = ""
          , i = 0
          , r = -1
          , s = 0
          , o = -1;
        for (let d = 0; d <= a.length; ++d) {
            if (d < a.length)
                o = a.charCodeAt(d);
            else {
                if (o === 47)
                    break;
                o = 47
            }
            if (o === 47) {
                if (!(r === d - 1 || s === 1))
                    if (r !== d - 1 && s === 2) {
                        if (t.length < 2 || i !== 2 || t.charCodeAt(t.length - 1) !== 46 || t.charCodeAt(t.length - 2) !== 46) {
                            if (t.length > 2) {
                                let h = t.lastIndexOf("/");
                                if (h !== t.length - 1) {
                                    h === -1 ? (t = "",
                                    i = 0) : (t = t.slice(0, h),
                                    i = t.length - 1 - t.lastIndexOf("/")),
                                    r = d,
                                    s = 0;
                                    continue
                                }
                            } else if (t.length === 2 || t.length === 1) {
                                t = "",
                                i = 0,
                                r = d,
                                s = 0;
                                continue
                            }
                        }
                        e && (t.length > 0 ? t += "/.." : t = "..",
                        i = 2)
                    } else
                        t.length > 0 ? t += `/${a.slice(r + 1, d)}` : t = a.slice(r + 1, d),
                        i = d - r - 1;
                r = d,
                s = 0
            } else
                o === 46 && s !== -1 ? ++s : s = -1
        }
        return t
    }
    var _t = {
        toPosix(a) {
            return l8(a, "\\", "/")
        },
        isUrl(a) {
            return /^https?:/.test(this.toPosix(a))
        },
        isDataUrl(a) {
            return /^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(a)
        },
        isBlobUrl(a) {
            return a.startsWith("blob:")
        },
        hasProtocol(a) {
            return /^[^/:]+:/.test(this.toPosix(a))
        },
        getProtocol(a) {
            Nt(a),
            a = this.toPosix(a);
            let e = /^file:\/\/\//.exec(a);
            if (e)
                return e[0];
            let t = /^[^/:]+:\/{0,2}/.exec(a);
            return t ? t[0] : ""
        },
        toAbsolute(a, e, t) {
            if (Nt(a),
            this.isDataUrl(a) || this.isBlobUrl(a))
                return a;
            let i = sr(this.toPosix(e ?? xe.get().getBaseUrl()))
              , r = sr(this.toPosix(t ?? this.rootname(i)));
            return a = this.toPosix(a),
            a.startsWith("/") ? _t.join(r, a.slice(1)) : this.isAbsolute(a) ? a : this.join(i, a)
        },
        normalize(a) {
            if (Nt(a),
            a.length === 0)
                return ".";
            if (this.isDataUrl(a) || this.isBlobUrl(a))
                return a;
            a = this.toPosix(a);
            let e = ""
              , t = a.startsWith("/");
            this.hasProtocol(a) && (e = this.rootname(a),
            a = a.slice(e.length));
            let i = a.endsWith("/");
            return a = f8(a, !1),
            a.length > 0 && i && (a += "/"),
            t ? `/${a}` : e + a
        },
        isAbsolute(a) {
            return Nt(a),
            a = this.toPosix(a),
            this.hasProtocol(a) ? !0 : a.startsWith("/")
        },
        join(...a) {
            var e;
            if (a.length === 0)
                return ".";
            let t;
            for (let i = 0; i < a.length; ++i) {
                let r = a[i];
                if (Nt(r),
                r.length > 0)
                    if (t === void 0)
                        t = r;
                    else {
                        let s = (e = a[i - 1]) != null ? e : "";
                        this.joinExtensions.includes(this.extname(s).toLowerCase()) ? t += `/../${r}` : t += `/${r}`
                    }
            }
            return t === void 0 ? "." : this.normalize(t)
        },
        dirname(a) {
            if (Nt(a),
            a.length === 0)
                return ".";
            a = this.toPosix(a);
            let e = a.charCodeAt(0)
              , t = e === 47
              , i = -1
              , r = !0
              , s = this.getProtocol(a)
              , o = a;
            a = a.slice(s.length);
            for (let d = a.length - 1; d >= 1; --d)
                if (e = a.charCodeAt(d),
                e === 47) {
                    if (!r) {
                        i = d;
                        break
                    }
                } else
                    r = !1;
            return i === -1 ? t ? "/" : this.isUrl(o) ? s + a : s : t && i === 1 ? "//" : s + a.slice(0, i)
        },
        rootname(a) {
            Nt(a),
            a = this.toPosix(a);
            let e = "";
            if (a.startsWith("/") ? e = "/" : e = this.getProtocol(a),
            this.isUrl(a)) {
                let t = a.indexOf("/", e.length);
                t !== -1 ? e = a.slice(0, t) : e = a,
                e.endsWith("/") || (e += "/")
            }
            return e
        },
        basename(a, e) {
            Nt(a),
            e && Nt(e),
            a = sr(this.toPosix(a));
            let t = 0, i = -1, r = !0, s;
            if (e !== void 0 && e.length > 0 && e.length <= a.length) {
                if (e.length === a.length && e === a)
                    return "";
                let o = e.length - 1
                  , d = -1;
                for (s = a.length - 1; s >= 0; --s) {
                    let h = a.charCodeAt(s);
                    if (h === 47) {
                        if (!r) {
                            t = s + 1;
                            break
                        }
                    } else
                        d === -1 && (r = !1,
                        d = s + 1),
                        o >= 0 && (h === e.charCodeAt(o) ? --o === -1 && (i = s) : (o = -1,
                        i = d))
                }
                return t === i ? i = d : i === -1 && (i = a.length),
                a.slice(t, i)
            }
            for (s = a.length - 1; s >= 0; --s)
                if (a.charCodeAt(s) === 47) {
                    if (!r) {
                        t = s + 1;
                        break
                    }
                } else
                    i === -1 && (r = !1,
                    i = s + 1);
            return i === -1 ? "" : a.slice(t, i)
        },
        extname(a) {
            Nt(a),
            a = sr(this.toPosix(a));
            let e = -1
              , t = 0
              , i = -1
              , r = !0
              , s = 0;
            for (let o = a.length - 1; o >= 0; --o) {
                let d = a.charCodeAt(o);
                if (d === 47) {
                    if (!r) {
                        t = o + 1;
                        break
                    }
                    continue
                }
                i === -1 && (r = !1,
                i = o + 1),
                d === 46 ? e === -1 ? e = o : s !== 1 && (s = 1) : e !== -1 && (s = -1)
            }
            return e === -1 || i === -1 || s === 0 || s === 1 && e === i - 1 && e === t + 1 ? "" : a.slice(e, i)
        },
        parse(a) {
            Nt(a);
            let e = {
                root: "",
                dir: "",
                base: "",
                ext: "",
                name: ""
            };
            if (a.length === 0)
                return e;
            a = sr(this.toPosix(a));
            let t = a.charCodeAt(0), i = this.isAbsolute(a), r, s = "";
            e.root = this.rootname(a),
            i || this.hasProtocol(a) ? r = 1 : r = 0;
            let o = -1
              , d = 0
              , h = -1
              , l = !0
              , u = a.length - 1
              , p = 0;
            for (; u >= r; --u) {
                if (t = a.charCodeAt(u),
                t === 47) {
                    if (!l) {
                        d = u + 1;
                        break
                    }
                    continue
                }
                h === -1 && (l = !1,
                h = u + 1),
                t === 46 ? o === -1 ? o = u : p !== 1 && (p = 1) : o !== -1 && (p = -1)
            }
            return o === -1 || h === -1 || p === 0 || p === 1 && o === h - 1 && o === d + 1 ? h !== -1 && (d === 0 && i ? e.base = e.name = a.slice(1, h) : e.base = e.name = a.slice(d, h)) : (d === 0 && i ? (e.name = a.slice(1, o),
            e.base = a.slice(1, h)) : (e.name = a.slice(d, o),
            e.base = a.slice(d, h)),
            e.ext = a.slice(o, h)),
            e.dir = this.dirname(a),
            s && (e.dir = s + e.dir),
            e
        },
        sep: "/",
        delimiter: ":",
        joinExtensions: [".html"]
    }
      , Xt = (a, e, t=!1) => (Array.isArray(a) || (a = [a]),
    e ? a.map(i => typeof i == "string" || t ? e(i) : i) : a);
    function S2(a, e, t, i, r) {
        let s = e[t];
        for (let o = 0; o < s.length; o++) {
            let d = s[o];
            t < e.length - 1 ? S2(a.replace(i[t], d), e, t + 1, i, r) : r.push(a.replace(i[t], d))
        }
    }
    function u8(a) {
        let e = /\{(.*?)\}/g
          , t = a.match(e)
          , i = [];
        if (t) {
            let r = [];
            t.forEach(s => {
                let o = s.substring(1, s.length - 1).split(",");
                r.push(o)
            }
            ),
            S2(a, r, 0, t, i)
        } else
            i.push(a);
        return i
    }
    var Ks = a => !Array.isArray(a)
      , b8 = Object.defineProperty
      , p8 = Object.defineProperties
      , g8 = Object.getOwnPropertyDescriptors
      , Ou = Object.getOwnPropertySymbols
      , m8 = Object.prototype.hasOwnProperty
      , _8 = Object.prototype.propertyIsEnumerable
      , Iu = (a, e, t) => e in a ? b8(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , fi = (a, e) => {
        for (var t in e || (e = {}))
            m8.call(e, t) && Iu(a, t, e[t]);
        if (Ou)
            for (var t of Ou(e))
                _8.call(e, t) && Iu(a, t, e[t]);
        return a
    }
      , y8 = (a, e) => p8(a, g8(e))
      , ha = class {
        constructor() {
            this._defaultBundleIdentifierOptions = {
                connector: "-",
                createBundleAssetId: (e, t) => `${e}${this._bundleIdConnector}${t}`,
                extractAssetIdFromBundle: (e, t) => t.replace(`${e}${this._bundleIdConnector}`, "")
            },
            this._bundleIdConnector = this._defaultBundleIdentifierOptions.connector,
            this._createBundleAssetId = this._defaultBundleIdentifierOptions.createBundleAssetId,
            this._extractAssetIdFromBundle = this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,
            this._assetMap = {},
            this._preferredOrder = [],
            this._parsers = [],
            this._resolverHash = {},
            this._bundles = {}
        }
        setBundleIdentifier(e) {
            var t, i, r;
            if (this._bundleIdConnector = (t = e.connector) != null ? t : this._bundleIdConnector,
            this._createBundleAssetId = (i = e.createBundleAssetId) != null ? i : this._createBundleAssetId,
            this._extractAssetIdFromBundle = (r = e.extractAssetIdFromBundle) != null ? r : this._extractAssetIdFromBundle,
            this._extractAssetIdFromBundle("foo", this._createBundleAssetId("foo", "bar")) !== "bar")
                throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")
        }
        prefer(...e) {
            e.forEach(t => {
                this._preferredOrder.push(t),
                t.priority || (t.priority = Object.keys(t.params))
            }
            ),
            this._resolverHash = {}
        }
        set basePath(e) {
            this._basePath = e
        }
        get basePath() {
            return this._basePath
        }
        set rootPath(e) {
            this._rootPath = e
        }
        get rootPath() {
            return this._rootPath
        }
        get parsers() {
            return this._parsers
        }
        reset() {
            this.setBundleIdentifier(this._defaultBundleIdentifierOptions),
            this._assetMap = {},
            this._preferredOrder = [],
            this._resolverHash = {},
            this._rootPath = null,
            this._basePath = null,
            this._manifest = null,
            this._bundles = {},
            this._defaultSearchParams = null
        }
        setDefaultSearchParams(e) {
            if (typeof e == "string")
                this._defaultSearchParams = e;
            else {
                let t = e;
                this._defaultSearchParams = Object.keys(t).map(i => `${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`).join("&")
            }
        }
        getAlias(e) {
            let {alias: t, src: i} = e;
            return Xt(t || i, r => typeof r == "string" ? r : Array.isArray(r) ? r.map(s => {
                var o;
                return (o = s?.src) != null ? o : s
            }
            ) : r != null && r.src ? r.src : r, !0)
        }
        addManifest(e) {
            this._manifest,
            this._manifest = e,
            e.bundles.forEach(t => {
                this.addBundle(t.name, t.assets)
            }
            )
        }
        addBundle(e, t) {
            let i = []
              , r = t;
            Array.isArray(t) || (r = Object.entries(t).map( ([s,o]) => typeof o == "string" || Array.isArray(o) ? {
                alias: s,
                src: o
            } : fi({
                alias: s
            }, o))),
            r.forEach(s => {
                let o = s.src, d = s.alias, h;
                if (typeof d == "string") {
                    let l = this._createBundleAssetId(e, d);
                    i.push(l),
                    h = [d, l]
                } else {
                    let l = d.map(u => this._createBundleAssetId(e, u));
                    i.push(...l),
                    h = [...d, ...l]
                }
                this.add(y8(fi({}, s), {
                    alias: h,
                    src: o
                }))
            }
            ),
            this._bundles[e] = i
        }
        add(e) {
            let t = [];
            Array.isArray(e) ? t.push(...e) : t.push(e);
            let i;
            Xt(t).forEach(r => {
                let {src: s} = r
                  , {data: o, format: d, loadParser: h} = r
                  , l = Xt(s).map(y => typeof y == "string" ? u8(y) : Array.isArray(y) ? y : [y])
                  , u = this.getAlias(r)
                  , p = [];
                l.forEach(y => {
                    y.forEach(_ => {
                        var v, T, A;
                        let P = {};
                        if (typeof _ != "object") {
                            P.src = _;
                            for (let I = 0; I < this._parsers.length; I++) {
                                let F = this._parsers[I];
                                if (F.test(_)) {
                                    P = F.parse(_);
                                    break
                                }
                            }
                        } else
                            o = (v = _.data) != null ? v : o,
                            d = (T = _.format) != null ? T : d,
                            h = (A = _.loadParser) != null ? A : h,
                            P = fi(fi({}, P), _);
                        if (!u)
                            throw new Error(`[Resolver] alias is undefined for this asset: ${P.src}`);
                        P = this._buildResolvedAsset(P, {
                            aliases: u,
                            data: o,
                            format: d,
                            loadParser: h
                        }),
                        p.push(P)
                    }
                    )
                }
                ),
                u.forEach(y => {
                    this._assetMap[y] = p
                }
                )
            }
            )
        }
        resolveBundle(e) {
            let t = Ks(e);
            e = Xt(e);
            let i = {};
            return e.forEach(r => {
                let s = this._bundles[r];
                if (s) {
                    let o = this.resolve(s)
                      , d = {};
                    for (let h in o) {
                        let l = o[h];
                        d[this._extractAssetIdFromBundle(r, h)] = l
                    }
                    i[r] = d
                }
            }
            ),
            t ? i[e[0]] : i
        }
        resolveUrl(e) {
            let t = this.resolve(e);
            if (typeof e != "string") {
                let i = {};
                for (let r in t)
                    i[r] = t[r].src;
                return i
            }
            return t.src
        }
        resolve(e) {
            let t = Ks(e);
            e = Xt(e);
            let i = {};
            return e.forEach(r => {
                if (!this._resolverHash[r])
                    if (this._assetMap[r]) {
                        let s = this._assetMap[r]
                          , o = this._getPreferredOrder(s);
                        o?.priority.forEach(d => {
                            o.params[d].forEach(h => {
                                let l = s.filter(u => u[d] ? u[d] === h : !1);
                                l.length && (s = l)
                            }
                            )
                        }
                        ),
                        this._resolverHash[r] = s[0]
                    } else
                        this._resolverHash[r] = this._buildResolvedAsset({
                            alias: [r],
                            src: r
                        }, {});
                i[r] = this._resolverHash[r]
            }
            ),
            t ? i[e[0]] : i
        }
        hasKey(e) {
            return !!this._assetMap[e]
        }
        hasBundle(e) {
            return !!this._bundles[e]
        }
        _getPreferredOrder(e) {
            for (let t = 0; t < e.length; t++) {
                let i = e[t]
                  , r = this._preferredOrder.find(s => s.params.format.includes(i.format));
                if (r)
                    return r
            }
            return this._preferredOrder[0]
        }
        _appendDefaultSearchParams(e) {
            if (!this._defaultSearchParams)
                return e;
            let t = /\?/.test(e) ? "&" : "?";
            return `${e}${t}${this._defaultSearchParams}`
        }
        _buildResolvedAsset(e, t) {
            var i, r;
            let {aliases: s, data: o, loadParser: d, format: h} = t;
            return (this._basePath || this._rootPath) && (e.src = _t.toAbsolute(e.src, this._basePath, this._rootPath)),
            e.alias = (i = s ?? e.alias) != null ? i : [e.src],
            e.src = this._appendDefaultSearchParams(e.src),
            e.data = fi(fi({}, o || {}), e.data),
            e.loadParser = d ?? e.loadParser,
            e.format = (r = h ?? e.format) != null ? r : x8(e.src),
            e
        }
    }
    ;
    ha.RETINA_PREFIX = /@([0-9\.]+)x/;
    function x8(a) {
        return a.split(".").pop().split("?").shift().split("#").shift()
    }
    var Ud = (a, e) => {
        let t = e.split("?")[1];
        return t && (a += `?${t}`),
        a
    }
      , w2 = class mr {
        constructor(e, t) {
            this.linkedSheets = [],
            this._texture = e instanceof K ? e : null,
            this.textureSource = e.source,
            this.textures = {},
            this.animations = {},
            this.data = t;
            let i = parseFloat(t.meta.scale);
            i ? (this.resolution = i,
            e.source.resolution = this.resolution) : this.resolution = e.source._resolution,
            this._frames = this.data.frames,
            this._frameKeys = Object.keys(this._frames),
            this._batchIndex = 0,
            this._callback = null
        }
        parse() {
            return new Promise(e => {
                this._callback = e,
                this._batchIndex = 0,
                this._frameKeys.length <= mr.BATCH_SIZE ? (this._processFrames(0),
                this._processAnimations(),
                this._parseComplete()) : this._nextBatch()
            }
            )
        }
        _processFrames(e) {
            let t = e
              , i = mr.BATCH_SIZE;
            for (; t - e < i && t < this._frameKeys.length; ) {
                let r = this._frameKeys[t]
                  , s = this._frames[r]
                  , o = s.frame;
                if (o) {
                    let d = null
                      , h = null
                      , l = s.trimmed !== !1 && s.sourceSize ? s.sourceSize : s.frame
                      , u = new Pe(0,0,Math.floor(l.w) / this.resolution,Math.floor(l.h) / this.resolution);
                    s.rotated ? d = new Pe(Math.floor(o.x) / this.resolution,Math.floor(o.y) / this.resolution,Math.floor(o.h) / this.resolution,Math.floor(o.w) / this.resolution) : d = new Pe(Math.floor(o.x) / this.resolution,Math.floor(o.y) / this.resolution,Math.floor(o.w) / this.resolution,Math.floor(o.h) / this.resolution),
                    s.trimmed !== !1 && s.spriteSourceSize && (h = new Pe(Math.floor(s.spriteSourceSize.x) / this.resolution,Math.floor(s.spriteSourceSize.y) / this.resolution,Math.floor(o.w) / this.resolution,Math.floor(o.h) / this.resolution)),
                    this.textures[r] = new K({
                        source: this.textureSource,
                        frame: d,
                        orig: u,
                        trim: h,
                        rotate: s.rotated ? 2 : 0,
                        defaultAnchor: s.anchor,
                        defaultBorders: s.borders,
                        label: r.toString()
                    })
                }
                t++
            }
        }
        _processAnimations() {
            let e = this.data.animations || {};
            for (let t in e) {
                this.animations[t] = [];
                for (let i = 0; i < e[t].length; i++) {
                    let r = e[t][i];
                    this.animations[t].push(this.textures[r])
                }
            }
        }
        _parseComplete() {
            let e = this._callback;
            this._callback = null,
            this._batchIndex = 0,
            e.call(this, this.textures)
        }
        _nextBatch() {
            this._processFrames(this._batchIndex * mr.BATCH_SIZE),
            this._batchIndex++,
            setTimeout( () => {
                this._batchIndex * mr.BATCH_SIZE < this._frameKeys.length ? this._nextBatch() : (this._processAnimations(),
                this._parseComplete())
            }
            , 0)
        }
        destroy(e=!1) {
            var t;
            for (let i in this.textures)
                this.textures[i].destroy();
            this._frames = null,
            this._frameKeys = null,
            this.data = null,
            this.textures = null,
            e && ((t = this._texture) == null || t.destroy(),
            this.textureSource.destroy()),
            this._texture = null,
            this.textureSource = null,
            this.linkedSheets = []
        }
    }
    ;
    w2.BATCH_SIZE = 1e3;
    var Gu = w2
      , v8 = ["jpg", "png", "jpeg", "avif", "webp", "basis", "etc2", "bc7", "bc6h", "bc5", "bc4", "bc3", "bc2", "bc1", "eac", "astc"];
    function A2(a, e, t) {
        let i = {};
        if (a.forEach(r => {
            i[r] = e
        }
        ),
        Object.keys(e.textures).forEach(r => {
            i[r] = e.textures[r]
        }
        ),
        !t) {
            let r = _t.dirname(a[0]);
            e.linkedSheets.forEach( (s, o) => {
                let d = A2([`${r}/${e.data.meta.related_multi_packs[o]}`], s, !0);
                Object.assign(i, d)
            }
            )
        }
        return i
    }
    var T8 = {
        extension: B.Asset,
        cache: {
            test: a => a instanceof Gu,
            getCacheableAssets: (a, e) => A2(a, e, !1)
        },
        resolver: {
            extension: {
                type: B.ResolveParser,
                name: "resolveSpritesheet"
            },
            test: a => {
                let e = a.split("?")[0].split(".")
                  , t = e.pop()
                  , i = e.pop();
                return t === "json" && v8.includes(i)
            }
            ,
            parse: a => {
                var e, t;
                let i = a.split(".");
                return {
                    resolution: parseFloat((t = (e = ha.RETINA_PREFIX.exec(a)) == null ? void 0 : e[1]) != null ? t : "1"),
                    format: i[i.length - 2],
                    src: a
                }
            }
        },
        loader: {
            name: "spritesheetLoader",
            extension: {
                type: B.LoadParser,
                priority: Rt.Normal,
                name: "spritesheetLoader"
            },
            async testParse(a, e) {
                return _t.extname(e.src).toLowerCase() === ".json" && !!a.frames
            },
            async parse(a, e, t) {
                var i, r, s;
                let {texture: o, imageFilename: d, textureOptions: h} = (i = e?.data) != null ? i : {}
                  , l = _t.dirname(e.src);
                l && l.lastIndexOf("/") !== l.length - 1 && (l += "/");
                let u;
                if (o instanceof K)
                    u = o;
                else {
                    let _ = Ud(l + (d ?? a.meta.image), e.src);
                    u = (await t.load([{
                        src: _,
                        data: h
                    }]))[_]
                }
                let p = new Gu(u.source,a);
                await p.parse();
                let y = (r = a?.meta) == null ? void 0 : r.related_multi_packs;
                if (Array.isArray(y)) {
                    let _ = [];
                    for (let T of y) {
                        if (typeof T != "string")
                            continue;
                        let A = l + T;
                        (s = e.data) != null && s.ignoreMultiPack || (A = Ud(A, e.src),
                        _.push(t.load({
                            src: A,
                            data: {
                                ignoreMultiPack: !0
                            }
                        })))
                    }
                    let v = await Promise.all(_);
                    p.linkedSheets = v,
                    v.forEach(T => {
                        T.linkedSheets = [p].concat(p.linkedSheets.filter(A => A !== T))
                    }
                    )
                }
                return p
            },
            async unload(a, e, t) {
                await t.unload(a.textureSource._sourceOrigin),
                a.destroy(!1)
            }
        }
    };
    pe.add(T8);
    function E2(a, e, t) {
        let {width: i, height: r} = t.orig
          , s = t.trim;
        if (s) {
            let o = s.width
              , d = s.height;
            a.minX = s.x - e._x * i,
            a.maxX = a.minX + o,
            a.minY = s.y - e._y * r,
            a.maxY = a.minY + d
        } else
            a.minX = -e._x * i,
            a.maxX = a.minX + i,
            a.minY = -e._y * r,
            a.maxY = a.minY + r
    }
    var la = class extends le {
        constructor() {
            super(...arguments),
            this.canBundle = !0,
            this.allowChildren = !1,
            this._roundPixels = 0,
            this._lastUsed = -1,
            this._bounds = new qe(0,1,0,0),
            this._boundsDirty = !0
        }
        get bounds() {
            return this._boundsDirty ? (this.updateBounds(),
            this._boundsDirty = !1,
            this._bounds) : this._bounds
        }
        get roundPixels() {
            return !!this._roundPixels
        }
        set roundPixels(e) {
            this._roundPixels = e ? 1 : 0
        }
        containsPoint(e) {
            let t = this.bounds
              , {x: i, y: r} = e;
            return i >= t.minX && i <= t.maxX && r >= t.minY && r <= t.maxY
        }
        onViewUpdate() {
            if (this._didViewChangeTick++,
            this._boundsDirty = !0,
            this.didViewUpdate)
                return;
            this.didViewUpdate = !0;
            let e = this.renderGroup || this.parentRenderGroup;
            e && e.onChildViewUpdate(this)
        }
        destroy(e) {
            super.destroy(e),
            this._bounds = null
        }
        collectRenderablesSimple(e, t, i) {
            let {renderPipes: r, renderableGC: s} = t;
            r.blendMode.setBlendMode(this, this.groupBlendMode, e),
            r[this.renderPipeId].addRenderable(this, e),
            s.addRenderable(this),
            this.didViewUpdate = !1;
            let o = this.children
              , d = o.length;
            for (let h = 0; h < d; h++)
                o[h].collectRenderables(e, t, i)
        }
    }
      , S8 = Object.defineProperty
      , qs = Object.getOwnPropertySymbols
      , P2 = Object.prototype.hasOwnProperty
      , R2 = Object.prototype.propertyIsEnumerable
      , Bu = (a, e, t) => e in a ? S8(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , w8 = (a, e) => {
        for (var t in e || (e = {}))
            P2.call(e, t) && Bu(a, t, e[t]);
        if (qs)
            for (var t of qs(e))
                R2.call(e, t) && Bu(a, t, e[t]);
        return a
    }
      , A8 = (a, e) => {
        var t = {};
        for (var i in a)
            P2.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && qs)
            for (var i of qs(a))
                e.indexOf(i) < 0 && R2.call(a, i) && (t[i] = a[i]);
        return t
    }
      , we = class a extends la {
        constructor(e=K.EMPTY) {
            e instanceof K && (e = {
                texture: e
            });
            let t = e
              , {texture: i=K.EMPTY, anchor: r, roundPixels: s, width: o, height: d} = t
              , h = A8(t, ["texture", "anchor", "roundPixels", "width", "height"]);
            super(w8({
                label: "Sprite"
            }, h)),
            this.renderPipeId = "sprite",
            this.batched = !0,
            this._visualBounds = {
                minX: 0,
                maxX: 1,
                minY: 0,
                maxY: 0
            },
            this._anchor = new Ve({
                _onUpdate: () => {
                    this.onViewUpdate()
                }
            }),
            r ? this.anchor = r : i.defaultAnchor && (this.anchor = i.defaultAnchor),
            this.texture = i,
            this.allowChildren = !1,
            this.roundPixels = s ?? !1,
            o !== void 0 && (this.width = o),
            d !== void 0 && (this.height = d)
        }
        static from(e, t=!1) {
            return e instanceof K ? new a(e) : new a(K.from(e, t))
        }
        set texture(e) {
            e || (e = K.EMPTY);
            let t = this._texture;
            t !== e && (t && t.dynamic && t.off("update", this.onViewUpdate, this),
            e.dynamic && e.on("update", this.onViewUpdate, this),
            this._texture = e,
            this._width && this._setWidth(this._width, this._texture.orig.width),
            this._height && this._setHeight(this._height, this._texture.orig.height),
            this.onViewUpdate())
        }
        get texture() {
            return this._texture
        }
        get visualBounds() {
            return E2(this._visualBounds, this._anchor, this._texture),
            this._visualBounds
        }
        get sourceBounds() {
            return this.visualBounds
        }
        updateBounds() {
            let e = this._anchor
              , t = this._texture
              , i = this._bounds
              , {width: r, height: s} = t.orig;
            i.minX = -e._x * r,
            i.maxX = i.minX + r,
            i.minY = -e._y * s,
            i.maxY = i.minY + s
        }
        destroy(e=!1) {
            if (super.destroy(e),
            typeof e == "boolean" ? e : e?.texture) {
                let t = typeof e == "boolean" ? e : e?.textureSource;
                this._texture.destroy(t)
            }
            this._texture = null,
            this._visualBounds = null,
            this._bounds = null,
            this._anchor = null
        }
        get anchor() {
            return this._anchor
        }
        set anchor(e) {
            typeof e == "number" ? this._anchor.set(e) : this._anchor.copyFrom(e)
        }
        get width() {
            return Math.abs(this.scale.x) * this._texture.orig.width
        }
        set width(e) {
            this._setWidth(e, this._texture.orig.width),
            this._width = e
        }
        get height() {
            return Math.abs(this.scale.y) * this._texture.orig.height
        }
        set height(e) {
            this._setHeight(e, this._texture.orig.height),
            this._height = e
        }
        getSize(e) {
            return e || (e = {}),
            e.width = Math.abs(this.scale.x) * this._texture.orig.width,
            e.height = Math.abs(this.scale.y) * this._texture.orig.height,
            e
        }
        setSize(e, t) {
            var i;
            typeof e == "object" ? (t = (i = e.height) != null ? i : e.width,
            e = e.width) : t != null || (t = e),
            e !== void 0 && this._setWidth(e, this._texture.orig.width),
            t !== void 0 && this._setHeight(t, this._texture.orig.height)
        }
    }
      , E8 = new qe;
    function M2(a, e, t) {
        let i = E8;
        a.measurable = !0,
        Bo(a, t, i),
        e.addBoundsMask(i),
        a.measurable = !1
    }
    function C2(a, e, t) {
        let i = ca.get();
        a.measurable = !0;
        let r = it.get().identity()
          , s = O2(a, t, r);
        gl(a, i, s),
        a.measurable = !1,
        e.addBoundsMask(i),
        it.return(r),
        ca.return(i)
    }
    function O2(a, e, t) {
        return a && a !== e && (O2(a.parent, e, t),
        a.updateLocalTransform(),
        t.append(a.localTransform)),
        t
    }
    var Zs = class {
        constructor(e) {
            this.priority = 0,
            this.inverse = !1,
            this.pipe = "alphaMask",
            e != null && e.mask && this.init(e.mask)
        }
        init(e) {
            this.mask = e,
            this.renderMaskToTexture = !(e instanceof we),
            this.mask.renderable = this.renderMaskToTexture,
            this.mask.includeInBuild = !this.renderMaskToTexture,
            this.mask.measurable = !1
        }
        reset() {
            this.mask.measurable = !0,
            this.mask = null
        }
        addBounds(e, t) {
            this.inverse || M2(this.mask, e, t)
        }
        addLocalBounds(e, t) {
            C2(this.mask, e, t)
        }
        containsPoint(e, t) {
            let i = this.mask;
            return t(i, e)
        }
        destroy() {
            this.reset()
        }
        static test(e) {
            return e instanceof we
        }
    }
    ;
    Zs.extension = B.MaskEffect;
    var Qs = class {
        constructor(e) {
            this.priority = 0,
            this.pipe = "colorMask",
            e != null && e.mask && this.init(e.mask)
        }
        init(e) {
            this.mask = e
        }
        destroy() {}
        static test(e) {
            return typeof e == "number"
        }
    }
    ;
    Qs.extension = B.MaskEffect;
    var Js = class {
        constructor(e) {
            this.priority = 0,
            this.pipe = "stencilMask",
            e != null && e.mask && this.init(e.mask)
        }
        init(e) {
            this.mask = e,
            this.mask.includeInBuild = !1,
            this.mask.measurable = !1
        }
        reset() {
            this.mask.measurable = !0,
            this.mask.includeInBuild = !0,
            this.mask = null
        }
        addBounds(e, t) {
            M2(this.mask, e, t)
        }
        addLocalBounds(e, t) {
            C2(this.mask, e, t)
        }
        containsPoint(e, t) {
            let i = this.mask;
            return t(i, e)
        }
        destroy() {
            this.reset()
        }
        static test(e) {
            return e instanceof le
        }
    }
    ;
    Js.extension = B.MaskEffect;
    var qt = class extends Fe {
        constructor(e) {
            e.resource || (e.resource = xe.get().createCanvas()),
            e.width || (e.width = e.resource.width,
            e.autoDensity || (e.width /= e.resolution)),
            e.height || (e.height = e.resource.height,
            e.autoDensity || (e.height /= e.resolution)),
            super(e),
            this.uploadMethodId = "image",
            this.autoDensity = e.autoDensity,
            this.resizeCanvas(),
            this.transparent = !!e.transparent
        }
        resizeCanvas() {
            this.autoDensity && (this.resource.style.width = `${this.width}px`,
            this.resource.style.height = `${this.height}px`),
            (this.resource.width !== this.pixelWidth || this.resource.height !== this.pixelHeight) && (this.resource.width = this.pixelWidth,
            this.resource.height = this.pixelHeight)
        }
        resize(e=this.width, t=this.height, i=this._resolution) {
            let r = super.resize(e, t, i);
            return r && this.resizeCanvas(),
            r
        }
        static test(e) {
            return globalThis.HTMLCanvasElement && e instanceof HTMLCanvasElement || globalThis.OffscreenCanvas && e instanceof OffscreenCanvas
        }
        get context2D() {
            return this._context2D || (this._context2D = this.resource.getContext("2d"))
        }
    }
    ;
    qt.extension = B.TextureSource;
    var Ca = class extends Fe {
        constructor(e) {
            if (e.resource && globalThis.HTMLImageElement && e.resource instanceof HTMLImageElement) {
                let t = xe.get().createCanvas(e.resource.width, e.resource.height);
                t.getContext("2d").drawImage(e.resource, 0, 0, e.resource.width, e.resource.height),
                e.resource = t
            }
            super(e),
            this.uploadMethodId = "image",
            this.autoGarbageCollect = !0
        }
        static test(e) {
            return globalThis.HTMLImageElement && e instanceof HTMLImageElement || typeof ImageBitmap < "u" && e instanceof ImageBitmap || globalThis.VideoFrame && e instanceof VideoFrame
        }
    }
    ;
    Ca.extension = B.TextureSource;
    var Bc;
    async function I2() {
        return Bc != null || (Bc = (async () => {
            var a;
            let e = document.createElement("canvas").getContext("webgl");
            if (!e)
                return "premultiply-alpha-on-upload";
            let t = await new Promise(o => {
                let d = document.createElement("video");
                d.onloadeddata = () => o(d),
                d.onerror = () => o(null),
                d.autoplay = !1,
                d.crossOrigin = "anonymous",
                d.preload = "auto",
                d.src = "data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",
                d.load()
            }
            );
            if (!t)
                return "premultiply-alpha-on-upload";
            let i = e.createTexture();
            e.bindTexture(e.TEXTURE_2D, i);
            let r = e.createFramebuffer();
            e.bindFramebuffer(e.FRAMEBUFFER, r),
            e.framebufferTexture2D(e.FRAMEBUFFER, e.COLOR_ATTACHMENT0, e.TEXTURE_2D, i, 0),
            e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !1),
            e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL, e.NONE),
            e.texImage2D(e.TEXTURE_2D, 0, e.RGBA, e.RGBA, e.UNSIGNED_BYTE, t);
            let s = new Uint8Array(4);
            return e.readPixels(0, 0, 1, 1, e.RGBA, e.UNSIGNED_BYTE, s),
            e.deleteFramebuffer(r),
            e.deleteTexture(i),
            (a = e.getExtension("WEBGL_lose_context")) == null || a.loseContext(),
            s[0] <= s[3] ? "premultiplied-alpha" : "premultiply-alpha-on-upload"
        }
        )()),
        Bc
    }
    var P8 = Object.defineProperty
      , R8 = Object.defineProperties
      , M8 = Object.getOwnPropertyDescriptors
      , Fu = Object.getOwnPropertySymbols
      , C8 = Object.prototype.hasOwnProperty
      , O8 = Object.prototype.propertyIsEnumerable
      , Du = (a, e, t) => e in a ? P8(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Ld = (a, e) => {
        for (var t in e || (e = {}))
            C8.call(e, t) && Du(a, t, e[t]);
        if (Fu)
            for (var t of Fu(e))
                O8.call(e, t) && Du(a, t, e[t]);
        return a
    }
      , I8 = (a, e) => R8(a, M8(e))
      , ks = class G2 extends Fe {
        constructor(e) {
            var t;
            super(e),
            this.isReady = !1,
            this.uploadMethodId = "video",
            e = Ld(Ld({}, G2.defaultOptions), e),
            this._autoUpdate = !0,
            this._isConnectedToTicker = !1,
            this._updateFPS = e.updateFPS || 0,
            this._msToNextUpdate = 0,
            this.autoPlay = e.autoPlay !== !1,
            this.alphaMode = (t = e.alphaMode) != null ? t : "premultiply-alpha-on-upload",
            this._videoFrameRequestCallback = this._videoFrameRequestCallback.bind(this),
            this._videoFrameRequestCallbackHandle = null,
            this._load = null,
            this._resolve = null,
            this._reject = null,
            this._onCanPlay = this._onCanPlay.bind(this),
            this._onCanPlayThrough = this._onCanPlayThrough.bind(this),
            this._onError = this._onError.bind(this),
            this._onPlayStart = this._onPlayStart.bind(this),
            this._onPlayStop = this._onPlayStop.bind(this),
            this._onSeeked = this._onSeeked.bind(this),
            e.autoLoad !== !1 && this.load()
        }
        updateFrame() {
            if (!this.destroyed) {
                if (this._updateFPS) {
                    let e = tt.shared.elapsedMS * this.resource.playbackRate;
                    this._msToNextUpdate = Math.floor(this._msToNextUpdate - e)
                }
                (!this._updateFPS || this._msToNextUpdate <= 0) && (this._msToNextUpdate = this._updateFPS ? Math.floor(1e3 / this._updateFPS) : 0),
                this.isValid && this.update()
            }
        }
        _videoFrameRequestCallback() {
            this.updateFrame(),
            this.destroyed ? this._videoFrameRequestCallbackHandle = null : this._videoFrameRequestCallbackHandle = this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)
        }
        get isValid() {
            return !!this.resource.videoWidth && !!this.resource.videoHeight
        }
        async load() {
            if (this._load)
                return this._load;
            let e = this.resource
              , t = this.options;
            return (e.readyState === e.HAVE_ENOUGH_DATA || e.readyState === e.HAVE_FUTURE_DATA) && e.width && e.height && (e.complete = !0),
            e.addEventListener("play", this._onPlayStart),
            e.addEventListener("pause", this._onPlayStop),
            e.addEventListener("seeked", this._onSeeked),
            this._isSourceReady() ? this._mediaReady() : (t.preload || e.addEventListener("canplay", this._onCanPlay),
            e.addEventListener("canplaythrough", this._onCanPlayThrough),
            e.addEventListener("error", this._onError, !0)),
            this.alphaMode = await I2(),
            this._load = new Promise( (i, r) => {
                this.isValid ? i(this) : (this._resolve = i,
                this._reject = r,
                t.preloadTimeoutMs !== void 0 && (this._preloadTimeout = setTimeout( () => {
                    this._onError(new ErrorEvent(`Preload exceeded timeout of ${t.preloadTimeoutMs}ms`))
                }
                )),
                e.load())
            }
            ),
            this._load
        }
        _onError(e) {
            this.resource.removeEventListener("error", this._onError, !0),
            this.emit("error", e),
            this._reject && (this._reject(e),
            this._reject = null,
            this._resolve = null)
        }
        _isSourcePlaying() {
            let e = this.resource;
            return !e.paused && !e.ended
        }
        _isSourceReady() {
            return this.resource.readyState > 2
        }
        _onPlayStart() {
            this.isValid || this._mediaReady(),
            this._configureAutoUpdate()
        }
        _onPlayStop() {
            this._configureAutoUpdate()
        }
        _onSeeked() {
            this._autoUpdate && !this._isSourcePlaying() && (this._msToNextUpdate = 0,
            this.updateFrame(),
            this._msToNextUpdate = 0)
        }
        _onCanPlay() {
            this.resource.removeEventListener("canplay", this._onCanPlay),
            this._mediaReady()
        }
        _onCanPlayThrough() {
            this.resource.removeEventListener("canplaythrough", this._onCanPlay),
            this._preloadTimeout && (clearTimeout(this._preloadTimeout),
            this._preloadTimeout = void 0),
            this._mediaReady()
        }
        _mediaReady() {
            let e = this.resource;
            this.isValid && (this.isReady = !0,
            this.resize(e.videoWidth, e.videoHeight)),
            this._msToNextUpdate = 0,
            this.updateFrame(),
            this._msToNextUpdate = 0,
            this._resolve && (this._resolve(this),
            this._resolve = null,
            this._reject = null),
            this._isSourcePlaying() ? this._onPlayStart() : this.autoPlay && this.resource.play()
        }
        destroy() {
            this._configureAutoUpdate();
            let e = this.resource;
            e && (e.removeEventListener("play", this._onPlayStart),
            e.removeEventListener("pause", this._onPlayStop),
            e.removeEventListener("seeked", this._onSeeked),
            e.removeEventListener("canplay", this._onCanPlay),
            e.removeEventListener("canplaythrough", this._onCanPlayThrough),
            e.removeEventListener("error", this._onError, !0),
            e.pause(),
            e.src = "",
            e.load()),
            super.destroy()
        }
        get autoUpdate() {
            return this._autoUpdate
        }
        set autoUpdate(e) {
            e !== this._autoUpdate && (this._autoUpdate = e,
            this._configureAutoUpdate())
        }
        get updateFPS() {
            return this._updateFPS
        }
        set updateFPS(e) {
            e !== this._updateFPS && (this._updateFPS = e,
            this._configureAutoUpdate())
        }
        _configureAutoUpdate() {
            this._autoUpdate && this._isSourcePlaying() ? !this._updateFPS && this.resource.requestVideoFrameCallback ? (this._isConnectedToTicker && (tt.shared.remove(this.updateFrame, this),
            this._isConnectedToTicker = !1,
            this._msToNextUpdate = 0),
            this._videoFrameRequestCallbackHandle === null && (this._videoFrameRequestCallbackHandle = this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))) : (this._videoFrameRequestCallbackHandle !== null && (this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),
            this._videoFrameRequestCallbackHandle = null),
            this._isConnectedToTicker || (tt.shared.add(this.updateFrame, this),
            this._isConnectedToTicker = !0,
            this._msToNextUpdate = 0)) : (this._videoFrameRequestCallbackHandle !== null && (this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),
            this._videoFrameRequestCallbackHandle = null),
            this._isConnectedToTicker && (tt.shared.remove(this.updateFrame, this),
            this._isConnectedToTicker = !1,
            this._msToNextUpdate = 0))
        }
        static test(e) {
            return globalThis.HTMLVideoElement && e instanceof HTMLVideoElement
        }
    }
    ;
    ks.extension = B.TextureSource,
    ks.defaultOptions = I8(Ld({}, Fe.defaultOptions), {
        autoLoad: !0,
        autoPlay: !0,
        updateFPS: 0,
        crossorigin: !0,
        loop: !1,
        muted: !0,
        playsinline: !0,
        preload: !1
    }),
    ks.MIME_TYPES = {
        ogv: "video/ogg",
        mov: "video/quicktime",
        m4v: "video/mp4"
    };
    var Us = ks
      , G8 = class {
        constructor() {
            this._parsers = [],
            this._cache = new Map,
            this._cacheMap = new Map
        }
        reset() {
            this._cacheMap.clear(),
            this._cache.clear()
        }
        has(a) {
            return this._cache.has(a)
        }
        get(a) {
            return this._cache.get(a)
        }
        set(a, e) {
            let t = Xt(a), i;
            for (let d = 0; d < this.parsers.length; d++) {
                let h = this.parsers[d];
                if (h.test(e)) {
                    i = h.getCacheableAssets(t, e);
                    break
                }
            }
            let r = new Map(Object.entries(i || {}));
            i || t.forEach(d => {
                r.set(d, e)
            }
            );
            let s = [...r.keys()]
              , o = {
                cacheKeys: s,
                keys: t
            };
            t.forEach(d => {
                this._cacheMap.set(d, o)
            }
            ),
            s.forEach(d => {
                let h = i ? i[d] : e;
                this._cache.has(d) && this._cache.get(d),
                this._cache.set(d, r.get(d))
            }
            )
        }
        remove(a) {
            if (!this._cacheMap.has(a))
                return;
            let e = this._cacheMap.get(a);
            e.cacheKeys.forEach(t => {
                this._cache.delete(t)
            }
            ),
            e.keys.forEach(t => {
                this._cacheMap.delete(t)
            }
            )
        }
        get parsers() {
            return this._parsers
        }
    }
      , Oe = new G8
      , Nd = [];
    pe.handleByList(B.TextureSource, Nd);
    function B2(a={}) {
        let e = a && a.resource
          , t = e ? a.resource : a
          , i = e ? a : {
            resource: a
        };
        for (let r = 0; r < Nd.length; r++) {
            let s = Nd[r];
            if (s.test(t))
                return new s(i)
        }
        throw new Error(`Could not find a source type for resource: ${i.resource}`)
    }
    function B8(a={}, e=!1) {
        let t = a && a.resource
          , i = t ? a.resource : a
          , r = t ? a : {
            resource: a
        };
        if (!e && Oe.has(i))
            return Oe.get(i);
        let s = new K({
            source: B2(r)
        });
        return s.on("destroy", () => {
            Oe.has(i) && Oe.remove(i)
        }
        ),
        e || Oe.set(i, s),
        s
    }
    function F8(a, e=!1) {
        return typeof a == "string" ? Oe.get(a) : a instanceof Fe ? new K({
            source: a
        }) : B8(a, e)
    }
    K.from = F8,
    Fe.from = B2,
    pe.add(Zs, Qs, Js, Us, Ca, qt, Cr);
    var Ht = class {
        constructor(e) {
            this.resources = Object.create(null),
            this._dirty = !0;
            let t = 0;
            for (let i in e) {
                let r = e[i];
                this.setResource(r, t++)
            }
            this._updateKey()
        }
        _updateKey() {
            if (!this._dirty)
                return;
            this._dirty = !1;
            let e = []
              , t = 0;
            for (let i in this.resources)
                e[t++] = this.resources[i]._resourceId;
            this._key = e.join("|")
        }
        setResource(e, t) {
            var i, r;
            let s = this.resources[t];
            e !== s && (s && ((i = e.off) == null || i.call(e, "change", this.onResourceChange, this)),
            (r = e.on) == null || r.call(e, "change", this.onResourceChange, this),
            this.resources[t] = e,
            this._dirty = !0)
        }
        getResource(e) {
            return this.resources[e]
        }
        _touch(e) {
            let t = this.resources;
            for (let i in t)
                t[i]._touched = e
        }
        destroy() {
            var e;
            let t = this.resources;
            for (let i in t) {
                let r = t[i];
                (e = r.off) == null || e.call(r, "change", this.onResourceChange, this)
            }
            this.resources = null
        }
        onResourceChange(e) {
            if (this._dirty = !0,
            e.destroyed) {
                let t = this.resources;
                for (let i in t)
                    t[i] === e && (t[i] = null)
            } else
                this._updateKey()
        }
    }
    , nr;
    function F2() {
        return (!nr || nr != null && nr.isContextLost()) && (nr = xe.get().createCanvas().getContext("webgl", {})),
        nr
    }
    var D8 = ["precision mediump float;", "void main(void){", "float test = 0.1;", "%forloop%", "gl_FragColor = vec4(0.0);", "}"].join(`
`);
    function k8(a) {
        let e = "";
        for (let t = 0; t < a; ++t)
            t > 0 && (e += `
else `),
            t < a - 1 && (e += `if(test == ${t}.0){}`);
        return e
    }
    function U8(a, e) {
        if (a === 0)
            throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");
        let t = e.createShader(e.FRAGMENT_SHADER);
        try {
            for (; ; ) {
                let i = D8.replace(/%forloop%/gi, k8(a));
                if (e.shaderSource(t, i),
                e.compileShader(t),
                !e.getShaderParameter(t, e.COMPILE_STATUS))
                    a = a / 2 | 0;
                else
                    break
            }
        } finally {
            e.deleteShader(t)
        }
        return a
    }
    var ui = null;
    function Ii() {
        var a;
        if (ui)
            return ui;
        let e = F2();
        return ui = e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),
        ui = U8(ui, e),
        (a = e.getExtension("WEBGL_lose_context")) == null || a.loseContext(),
        ui
    }
    var D2 = {};
    function _l(a, e) {
        let t = 2166136261;
        for (let i = 0; i < e; i++)
            t ^= a[i].uid,
            t = Math.imul(t, 16777619),
            t >>>= 0;
        return D2[t] || L8(a, e, t)
    }
    var Fc = 0;
    function L8(a, e, t) {
        let i = {}
          , r = 0;
        Fc || (Fc = Ii());
        for (let o = 0; o < Fc; o++) {
            let d = o < e ? a[o] : K.EMPTY.source;
            i[r++] = d.source,
            i[r++] = d.style
        }
        let s = new Ht(i);
        return D2[t] = s,
        s
    }
    var Pa = class {
        constructor(e) {
            typeof e == "number" ? this.rawBinaryData = new ArrayBuffer(e) : e instanceof Uint8Array ? this.rawBinaryData = e.buffer : this.rawBinaryData = e,
            this.uint32View = new Uint32Array(this.rawBinaryData),
            this.float32View = new Float32Array(this.rawBinaryData),
            this.size = this.rawBinaryData.byteLength
        }
        get int8View() {
            return this._int8View || (this._int8View = new Int8Array(this.rawBinaryData)),
            this._int8View
        }
        get uint8View() {
            return this._uint8View || (this._uint8View = new Uint8Array(this.rawBinaryData)),
            this._uint8View
        }
        get int16View() {
            return this._int16View || (this._int16View = new Int16Array(this.rawBinaryData)),
            this._int16View
        }
        get int32View() {
            return this._int32View || (this._int32View = new Int32Array(this.rawBinaryData)),
            this._int32View
        }
        get float64View() {
            return this._float64Array || (this._float64Array = new Float64Array(this.rawBinaryData)),
            this._float64Array
        }
        get bigUint64View() {
            return this._bigUint64Array || (this._bigUint64Array = new BigUint64Array(this.rawBinaryData)),
            this._bigUint64Array
        }
        view(e) {
            return this[`${e}View`]
        }
        destroy() {
            this.rawBinaryData = null,
            this._int8View = null,
            this._uint8View = null,
            this._int16View = null,
            this.uint16View = null,
            this._int32View = null,
            this.uint32View = null,
            this.float32View = null
        }
        static sizeOf(e) {
            switch (e) {
            case "int8":
            case "uint8":
                return 1;
            case "int16":
            case "uint16":
                return 2;
            case "int32":
            case "uint32":
            case "float32":
                return 4;
            default:
                throw new Error(`${e} isn't a valid view type`)
            }
        }
    }
    ;
    function jd(a, e) {
        let t = a.byteLength / 8 | 0
          , i = new Float64Array(a,0,t);
        new Float64Array(e,0,t).set(i);
        let r = a.byteLength - t * 8;
        if (r > 0) {
            let s = new Uint8Array(a,t * 8,r);
            new Uint8Array(e,t * 8,r).set(s)
        }
    }
    var N8 = {
        normal: "normal-npm",
        add: "add-npm",
        screen: "screen-npm"
    }
      , Ne = (a => (a[a.DISABLED = 0] = "DISABLED",
    a[a.RENDERING_MASK_ADD = 1] = "RENDERING_MASK_ADD",
    a[a.MASK_ACTIVE = 2] = "MASK_ACTIVE",
    a[a.INVERSE_MASK_ACTIVE = 3] = "INVERSE_MASK_ACTIVE",
    a[a.RENDERING_MASK_REMOVE = 4] = "RENDERING_MASK_REMOVE",
    a[a.NONE = 5] = "NONE",
    a))(Ne || {});
    function Ir(a, e) {
        return e.alphaMode === "no-premultiply-alpha" && N8[a] || a
    }
    var Xd = class {
        constructor() {
            this.ids = Object.create(null),
            this.textures = [],
            this.count = 0
        }
        clear() {
            for (let e = 0; e < this.count; e++) {
                let t = this.textures[e];
                this.textures[e] = null,
                this.ids[t.uid] = null
            }
            this.count = 0
        }
    }
      , j8 = Object.defineProperty
      , ku = Object.getOwnPropertySymbols
      , X8 = Object.prototype.hasOwnProperty
      , H8 = Object.prototype.propertyIsEnumerable
      , Uu = (a, e, t) => e in a ? j8(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Lu = (a, e) => {
        for (var t in e || (e = {}))
            X8.call(e, t) && Uu(a, t, e[t]);
        if (ku)
            for (var t of ku(e))
                H8.call(e, t) && Uu(a, t, e[t]);
        return a
    }
      , Hd = class {
        constructor() {
            this.renderPipeId = "batch",
            this.action = "startBatch",
            this.start = 0,
            this.size = 0,
            this.textures = new Xd,
            this.blendMode = "normal",
            this.topology = "triangle-strip",
            this.canBundle = !0
        }
        destroy() {
            this.textures = null,
            this.gpuBindGroup = null,
            this.bindGroup = null,
            this.batcher = null
        }
    }
      , k2 = []
      , zd = 0;
    function Nu() {
        return zd > 0 ? k2[--zd] : new Hd
    }
    function ju(a) {
        k2[zd++] = a
    }
    var or = 0
      , U2 = class Ls {
        constructor(e={}) {
            this.uid = Be("batcher"),
            this.dirty = !0,
            this.batchIndex = 0,
            this.batches = [],
            this._elements = [];
            var t;
            Ls.defaultOptions.maxTextures = (t = Ls.defaultOptions.maxTextures) != null ? t : Ii(),
            e = Lu(Lu({}, Ls.defaultOptions), e);
            let {maxTextures: i, attributesInitialSize: r, indicesInitialSize: s} = e;
            this.attributeBuffer = new Pa(r * 4),
            this.indexBuffer = new Uint16Array(s),
            this.maxTextures = i
        }
        begin() {
            this.elementSize = 0,
            this.elementStart = 0,
            this.indexSize = 0,
            this.attributeSize = 0;
            for (let e = 0; e < this.batchIndex; e++)
                ju(this.batches[e]);
            this.batchIndex = 0,
            this._batchIndexStart = 0,
            this._batchIndexSize = 0,
            this.dirty = !0
        }
        add(e) {
            this._elements[this.elementSize++] = e,
            e._indexStart = this.indexSize,
            e._attributeStart = this.attributeSize,
            e._batcher = this,
            this.indexSize += e.indexSize,
            this.attributeSize += e.attributeSize * this.vertexSize
        }
        checkAndUpdateTexture(e, t) {
            let i = e._batch.textures.ids[t._source.uid];
            return !i && i !== 0 ? !1 : (e._textureId = i,
            e.texture = t,
            !0)
        }
        updateElement(e) {
            this.dirty = !0;
            let t = this.attributeBuffer;
            e.packAsQuad ? this.packQuadAttributes(e, t.float32View, t.uint32View, e._attributeStart, e._textureId) : this.packAttributes(e, t.float32View, t.uint32View, e._attributeStart, e._textureId)
        }
        break(e) {
            let t = this._elements;
            if (!t[this.elementStart])
                return;
            let i = Nu()
              , r = i.textures;
            r.clear();
            let s = t[this.elementStart]
              , o = Ir(s.blendMode, s.texture._source)
              , d = s.topology;
            this.attributeSize * 4 > this.attributeBuffer.size && this._resizeAttributeBuffer(this.attributeSize * 4),
            this.indexSize > this.indexBuffer.length && this._resizeIndexBuffer(this.indexSize);
            let h = this.attributeBuffer.float32View
              , l = this.attributeBuffer.uint32View
              , u = this.indexBuffer
              , p = this._batchIndexSize
              , y = this._batchIndexStart
              , _ = "startBatch"
              , v = this.maxTextures;
            for (let T = this.elementStart; T < this.elementSize; ++T) {
                let A = t[T];
                t[T] = null;
                let P = A.texture._source
                  , I = Ir(A.blendMode, P)
                  , F = o !== I || d !== A.topology;
                if (P._batchTick === or && !F) {
                    A._textureId = P._textureBindLocation,
                    p += A.indexSize,
                    A.packAsQuad ? (this.packQuadAttributes(A, h, l, A._attributeStart, A._textureId),
                    this.packQuadIndex(u, A._indexStart, A._attributeStart / this.vertexSize)) : (this.packAttributes(A, h, l, A._attributeStart, A._textureId),
                    this.packIndex(A, u, A._indexStart, A._attributeStart / this.vertexSize)),
                    A._batch = i;
                    continue
                }
                P._batchTick = or,
                (r.count >= v || F) && (this._finishBatch(i, y, p - y, r, o, d, e, _),
                _ = "renderBatch",
                y = p,
                o = I,
                d = A.topology,
                i = Nu(),
                r = i.textures,
                r.clear(),
                ++or),
                A._textureId = P._textureBindLocation = r.count,
                r.ids[P.uid] = r.count,
                r.textures[r.count++] = P,
                A._batch = i,
                p += A.indexSize,
                A.packAsQuad ? (this.packQuadAttributes(A, h, l, A._attributeStart, A._textureId),
                this.packQuadIndex(u, A._indexStart, A._attributeStart / this.vertexSize)) : (this.packAttributes(A, h, l, A._attributeStart, A._textureId),
                this.packIndex(A, u, A._indexStart, A._attributeStart / this.vertexSize))
            }
            r.count > 0 && (this._finishBatch(i, y, p - y, r, o, d, e, _),
            y = p,
            ++or),
            this.elementStart = this.elementSize,
            this._batchIndexStart = y,
            this._batchIndexSize = p
        }
        _finishBatch(e, t, i, r, s, o, d, h) {
            e.gpuBindGroup = null,
            e.bindGroup = null,
            e.action = h,
            e.batcher = this,
            e.textures = r,
            e.blendMode = s,
            e.topology = o,
            e.start = t,
            e.size = i,
            ++or,
            this.batches[this.batchIndex++] = e,
            d.add(e)
        }
        finish(e) {
            this.break(e)
        }
        ensureAttributeBuffer(e) {
            e * 4 <= this.attributeBuffer.size || this._resizeAttributeBuffer(e * 4)
        }
        ensureIndexBuffer(e) {
            e <= this.indexBuffer.length || this._resizeIndexBuffer(e)
        }
        _resizeAttributeBuffer(e) {
            let t = Math.max(e, this.attributeBuffer.size * 2)
              , i = new Pa(t);
            jd(this.attributeBuffer.rawBinaryData, i.rawBinaryData),
            this.attributeBuffer = i
        }
        _resizeIndexBuffer(e) {
            let t = this.indexBuffer
              , i = Math.max(e, t.length * 1.5);
            i += i % 2;
            let r = i > 65535 ? new Uint32Array(i) : new Uint16Array(i);
            if (r.BYTES_PER_ELEMENT !== t.BYTES_PER_ELEMENT)
                for (let s = 0; s < t.length; s++)
                    r[s] = t[s];
            else
                jd(t.buffer, r.buffer);
            this.indexBuffer = r
        }
        packQuadIndex(e, t, i) {
            e[t] = i + 0,
            e[t + 1] = i + 1,
            e[t + 2] = i + 2,
            e[t + 3] = i + 0,
            e[t + 4] = i + 2,
            e[t + 5] = i + 3
        }
        packIndex(e, t, i, r) {
            let s = e.indices
              , o = e.indexSize
              , d = e.indexOffset
              , h = e.attributeOffset;
            for (let l = 0; l < o; l++)
                t[i++] = r + s[l + d] - h
        }
        destroy() {
            for (let e = 0; e < this.batches.length; e++)
                ju(this.batches[e]);
            this.batches = null;
            for (let e = 0; e < this._elements.length; e++)
                this._elements[e]._batch = null;
            this._elements = null,
            this.indexBuffer = null,
            this.attributeBuffer.destroy(),
            this.attributeBuffer = null
        }
    }
    ;
    U2.defaultOptions = {
        maxTextures: null,
        attributesInitialSize: 4,
        indicesInitialSize: 6
    };
    var z8 = U2
      , ve = (a => (a[a.MAP_READ = 1] = "MAP_READ",
    a[a.MAP_WRITE = 2] = "MAP_WRITE",
    a[a.COPY_SRC = 4] = "COPY_SRC",
    a[a.COPY_DST = 8] = "COPY_DST",
    a[a.INDEX = 16] = "INDEX",
    a[a.VERTEX = 32] = "VERTEX",
    a[a.UNIFORM = 64] = "UNIFORM",
    a[a.STORAGE = 128] = "STORAGE",
    a[a.INDIRECT = 256] = "INDIRECT",
    a[a.QUERY_RESOLVE = 512] = "QUERY_RESOLVE",
    a[a.STATIC = 1024] = "STATIC",
    a))(ve || {})
      , rt = class extends xt {
        constructor(e) {
            let {data: t, size: i} = e
              , {usage: r, label: s, shrinkToFit: o} = e;
            super(),
            this.uid = Be("buffer"),
            this._resourceType = "buffer",
            this._resourceId = Be("resource"),
            this._touched = 0,
            this._updateID = 1,
            this._dataInt32 = null,
            this.shrinkToFit = !0,
            this.destroyed = !1,
            t instanceof Array && (t = new Float32Array(t)),
            this._data = t,
            i != null || (i = t?.byteLength);
            let d = !!t;
            this.descriptor = {
                size: i,
                usage: r,
                mappedAtCreation: d,
                label: s
            },
            this.shrinkToFit = o ?? !0
        }
        get data() {
            return this._data
        }
        set data(e) {
            this.setDataWithSize(e, e.length, !0)
        }
        get dataInt32() {
            return this._dataInt32 || (this._dataInt32 = new Int32Array(this.data.buffer)),
            this._dataInt32
        }
        get static() {
            return !!(this.descriptor.usage & ve.STATIC)
        }
        set static(e) {
            e ? this.descriptor.usage |= ve.STATIC : this.descriptor.usage &= ~ve.STATIC
        }
        setDataWithSize(e, t, i) {
            if (this._updateID++,
            this._updateSize = t * e.BYTES_PER_ELEMENT,
            this._data === e) {
                i && this.emit("update", this);
                return
            }
            let r = this._data;
            if (this._data = e,
            this._dataInt32 = null,
            !r || r.length !== e.length) {
                !this.shrinkToFit && r && e.byteLength < r.byteLength ? i && this.emit("update", this) : (this.descriptor.size = e.byteLength,
                this._resourceId = Be("resource"),
                this.emit("change", this));
                return
            }
            i && this.emit("update", this)
        }
        update(e) {
            this._updateSize = e ?? this._updateSize,
            this._updateID++,
            this.emit("update", this)
        }
        destroy() {
            this.destroyed = !0,
            this.emit("destroy", this),
            this.emit("change", this),
            this._data = null,
            this.descriptor = null,
            this.removeAllListeners()
        }
    }
    ;
    function L2(a, e) {
        if (!(a instanceof rt)) {
            let t = e ? ve.INDEX : ve.VERTEX;
            a instanceof Array && (e ? (a = new Uint32Array(a),
            t = ve.INDEX | ve.COPY_DST) : (a = new Float32Array(a),
            t = ve.VERTEX | ve.COPY_DST)),
            a = new rt({
                data: a,
                label: e ? "index-mesh-buffer" : "vertex-mesh-buffer",
                usage: t
            })
        }
        return a
    }
    function V8(a, e, t) {
        let i = a.getAttribute(e);
        if (!i)
            return t.minX = 0,
            t.minY = 0,
            t.maxX = 0,
            t.maxY = 0,
            t;
        let r = i.buffer.data
          , s = 1 / 0
          , o = 1 / 0
          , d = -1 / 0
          , h = -1 / 0
          , l = r.BYTES_PER_ELEMENT
          , u = (i.offset || 0) / l
          , p = (i.stride || 2 * 4) / l;
        for (let y = u; y < r.length; y += p) {
            let _ = r[y]
              , v = r[y + 1];
            _ > d && (d = _),
            v > h && (h = v),
            _ < s && (s = _),
            v < o && (o = v)
        }
        return t.minX = s,
        t.minY = o,
        t.maxX = d,
        t.maxY = h,
        t
    }
    function W8(a) {
        return (a instanceof rt || Array.isArray(a) || a.BYTES_PER_ELEMENT) && (a = {
            buffer: a
        }),
        a.buffer = L2(a.buffer, !1),
        a
    }
    var Zt = class extends xt {
        constructor(e={}) {
            var t;
            super(),
            this.uid = Be("geometry"),
            this._layoutKey = 0,
            this.instanceCount = 1,
            this._bounds = new qe,
            this._boundsDirty = !0;
            let {attributes: i, indexBuffer: r, topology: s} = e;
            if (this.buffers = [],
            this.attributes = {},
            i)
                for (let o in i)
                    this.addAttribute(o, i[o]);
            this.instanceCount = (t = e.instanceCount) != null ? t : 1,
            r && this.addIndex(r),
            this.topology = s || "triangle-list"
        }
        onBufferUpdate() {
            this._boundsDirty = !0,
            this.emit("update", this)
        }
        getAttribute(e) {
            return this.attributes[e]
        }
        getIndex() {
            return this.indexBuffer
        }
        getBuffer(e) {
            return this.getAttribute(e).buffer
        }
        getSize() {
            for (let e in this.attributes) {
                let t = this.attributes[e];
                return t.buffer.data.length / (t.stride / 4 || t.size)
            }
            return 0
        }
        addAttribute(e, t) {
            let i = W8(t);
            this.buffers.indexOf(i.buffer) === -1 && (this.buffers.push(i.buffer),
            i.buffer.on("update", this.onBufferUpdate, this),
            i.buffer.on("change", this.onBufferUpdate, this)),
            this.attributes[e] = i
        }
        addIndex(e) {
            this.indexBuffer = L2(e, !0),
            this.buffers.push(this.indexBuffer)
        }
        get bounds() {
            return this._boundsDirty ? (this._boundsDirty = !1,
            V8(this, "aPosition", this._bounds)) : this._bounds
        }
        destroy(e=!1) {
            this.emit("destroy", this),
            this.removeAllListeners(),
            e && this.buffers.forEach(t => t.destroy()),
            this.attributes = null,
            this.buffers = null,
            this.indexBuffer = null,
            this._bounds = null
        }
    }
      , Y8 = new Float32Array(1)
      , $8 = new Uint32Array(1)
      , Vd = class extends Zt {
        constructor() {
            let e = new rt({
                data: Y8,
                label: "attribute-batch-buffer",
                usage: ve.VERTEX | ve.COPY_DST,
                shrinkToFit: !1
            })
              , t = new rt({
                data: $8,
                label: "index-batch-buffer",
                usage: ve.INDEX | ve.COPY_DST,
                shrinkToFit: !1
            })
              , i = 6 * 4;
            super({
                attributes: {
                    aPosition: {
                        buffer: e,
                        format: "float32x2",
                        stride: i,
                        offset: 0
                    },
                    aUV: {
                        buffer: e,
                        format: "float32x2",
                        stride: i,
                        offset: 2 * 4
                    },
                    aColor: {
                        buffer: e,
                        format: "unorm8x4",
                        stride: i,
                        offset: 4 * 4
                    },
                    aTextureIdAndRound: {
                        buffer: e,
                        format: "uint16x2",
                        stride: i,
                        offset: 5 * 4
                    }
                },
                indexBuffer: t
            })
        }
    }
      , Dc = Object.create(null)
      , Xu = Object.create(null);
    function Gr(a, e) {
        let t = Xu[a];
        return t === void 0 && (Dc[e] === void 0 && (Dc[e] = 1),
        Xu[a] = t = Dc[e]++),
        t
    }
    var _s;
    function K8() {
        if (!_s) {
            _s = "mediump";
            let a = F2();
            a && a.getShaderPrecisionFormat && (_s = a.getShaderPrecisionFormat(a.FRAGMENT_SHADER, a.HIGH_FLOAT).precision ? "highp" : "mediump")
        }
        return _s
    }
    function q8(a, e, t) {
        return e ? a : t ? (a = a.replace("out vec4 finalColor;", ""),
        `

#ifdef GL_ES // This checks if it is WebGL1
#define in varying
#define finalColor gl_FragColor
#define texture texture2D
#endif
${a}
`) : `

#ifdef GL_ES // This checks if it is WebGL1
#define in attribute
#define out varying
#endif
${a}
`
    }
    function Z8(a, e, t) {
        let i = t ? e.maxSupportedFragmentPrecision : e.maxSupportedVertexPrecision;
        if (a.substring(0, 9) !== "precision") {
            let r = t ? e.requestedFragmentPrecision : e.requestedVertexPrecision;
            return r === "highp" && i !== "highp" && (r = "mediump"),
            `precision ${r} float;
${a}`
        } else if (i !== "highp" && a.substring(0, 15) === "precision highp")
            return a.replace("precision highp", "precision mediump");
        return a
    }
    function Q8(a, e) {
        return e ? `#version 300 es
${a}` : a
    }
    var J8 = {}
      , e6 = {};
    function t6(a, {name: e="pixi-program"}, t=!0) {
        e = e.replace(/\s+/g, "-"),
        e += t ? "-fragment" : "-vertex";
        let i = t ? J8 : e6;
        return i[e] ? (i[e]++,
        e += `-${i[e]}`) : i[e] = 1,
        a.indexOf("#define SHADER_NAME") !== -1 ? a : `${`#define SHADER_NAME ${e}`}
${a}`
    }
    function a6(a, e) {
        return e ? a.replace("#version 300 es", "") : a
    }
    var i6 = Object.defineProperty
      , Hu = Object.getOwnPropertySymbols
      , r6 = Object.prototype.hasOwnProperty
      , s6 = Object.prototype.propertyIsEnumerable
      , zu = (a, e, t) => e in a ? i6(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Vu = (a, e) => {
        for (var t in e || (e = {}))
            r6.call(e, t) && zu(a, t, e[t]);
        if (Hu)
            for (var t of Hu(e))
                s6.call(e, t) && zu(a, t, e[t]);
        return a
    }
      , kc = {
        stripVersion: a6,
        ensurePrecision: Z8,
        addProgramDefines: q8,
        setProgramName: t6,
        insertVersion: Q8
    }
      , Uc = Object.create(null)
      , N2 = class Wd {
        constructor(e) {
            e = Vu(Vu({}, Wd.defaultOptions), e);
            let t = e.fragment.indexOf("#version 300 es") !== -1
              , i = {
                stripVersion: t,
                ensurePrecision: {
                    requestedFragmentPrecision: e.preferredFragmentPrecision,
                    requestedVertexPrecision: e.preferredVertexPrecision,
                    maxSupportedVertexPrecision: "highp",
                    maxSupportedFragmentPrecision: K8()
                },
                setProgramName: {
                    name: e.name
                },
                addProgramDefines: t,
                insertVersion: t
            }
              , r = e.fragment
              , s = e.vertex;
            Object.keys(kc).forEach(o => {
                let d = i[o];
                r = kc[o](r, d, !0),
                s = kc[o](s, d, !1)
            }
            ),
            this.fragment = r,
            this.vertex = s,
            this.transformFeedbackVaryings = e.transformFeedbackVaryings,
            this._key = Gr(`${this.vertex}:${this.fragment}`, "gl-program")
        }
        destroy() {
            this.fragment = null,
            this.vertex = null,
            this._attributeData = null,
            this._uniformData = null,
            this._uniformBlockData = null,
            this.transformFeedbackVaryings = null
        }
        static from(e) {
            let t = `${e.vertex}:${e.fragment}`;
            return Uc[t] || (Uc[t] = new Wd(e)),
            Uc[t]
        }
    }
    ;
    N2.defaultOptions = {
        preferredVertexPrecision: "highp",
        preferredFragmentPrecision: "mediump"
    };
    var ua = N2
      , Wu = {
        uint8x2: {
            size: 2,
            stride: 2,
            normalised: !1
        },
        uint8x4: {
            size: 4,
            stride: 4,
            normalised: !1
        },
        sint8x2: {
            size: 2,
            stride: 2,
            normalised: !1
        },
        sint8x4: {
            size: 4,
            stride: 4,
            normalised: !1
        },
        unorm8x2: {
            size: 2,
            stride: 2,
            normalised: !0
        },
        unorm8x4: {
            size: 4,
            stride: 4,
            normalised: !0
        },
        snorm8x2: {
            size: 2,
            stride: 2,
            normalised: !0
        },
        snorm8x4: {
            size: 4,
            stride: 4,
            normalised: !0
        },
        uint16x2: {
            size: 2,
            stride: 4,
            normalised: !1
        },
        uint16x4: {
            size: 4,
            stride: 8,
            normalised: !1
        },
        sint16x2: {
            size: 2,
            stride: 4,
            normalised: !1
        },
        sint16x4: {
            size: 4,
            stride: 8,
            normalised: !1
        },
        unorm16x2: {
            size: 2,
            stride: 4,
            normalised: !0
        },
        unorm16x4: {
            size: 4,
            stride: 8,
            normalised: !0
        },
        snorm16x2: {
            size: 2,
            stride: 4,
            normalised: !0
        },
        snorm16x4: {
            size: 4,
            stride: 8,
            normalised: !0
        },
        float16x2: {
            size: 2,
            stride: 4,
            normalised: !1
        },
        float16x4: {
            size: 4,
            stride: 8,
            normalised: !1
        },
        float32: {
            size: 1,
            stride: 4,
            normalised: !1
        },
        float32x2: {
            size: 2,
            stride: 8,
            normalised: !1
        },
        float32x3: {
            size: 3,
            stride: 12,
            normalised: !1
        },
        float32x4: {
            size: 4,
            stride: 16,
            normalised: !1
        },
        uint32: {
            size: 1,
            stride: 4,
            normalised: !1
        },
        uint32x2: {
            size: 2,
            stride: 8,
            normalised: !1
        },
        uint32x3: {
            size: 3,
            stride: 12,
            normalised: !1
        },
        uint32x4: {
            size: 4,
            stride: 16,
            normalised: !1
        },
        sint32: {
            size: 1,
            stride: 4,
            normalised: !1
        },
        sint32x2: {
            size: 2,
            stride: 8,
            normalised: !1
        },
        sint32x3: {
            size: 3,
            stride: 12,
            normalised: !1
        },
        sint32x4: {
            size: 4,
            stride: 16,
            normalised: !1
        }
    };
    function Oa(a) {
        var e;
        return (e = Wu[a]) != null ? e : Wu.float32
    }
    var n6 = {
        f32: "float32",
        "vec2<f32>": "float32x2",
        "vec3<f32>": "float32x3",
        "vec4<f32>": "float32x4",
        vec2f: "float32x2",
        vec3f: "float32x3",
        vec4f: "float32x4",
        i32: "sint32",
        "vec2<i32>": "sint32x2",
        "vec3<i32>": "sint32x3",
        "vec4<i32>": "sint32x4",
        u32: "uint32",
        "vec2<u32>": "uint32x2",
        "vec3<u32>": "uint32x3",
        "vec4<u32>": "uint32x4",
        bool: "uint32",
        "vec2<bool>": "uint32x2",
        "vec3<bool>": "uint32x3",
        "vec4<bool>": "uint32x4"
    };
    function o6({source: a, entryPoint: e}) {
        var t;
        let i = {}
          , r = a.indexOf(`fn ${e}`);
        if (r !== -1) {
            let s = a.indexOf("->", r);
            if (s !== -1) {
                let o = a.substring(r, s), d = /@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g, h;
                for (; (h = d.exec(o)) !== null; ) {
                    let l = (t = n6[h[3]]) != null ? t : "float32";
                    i[h[2]] = {
                        location: parseInt(h[1], 10),
                        format: l,
                        stride: Oa(l).stride,
                        offset: 0,
                        instance: !1,
                        start: 0
                    }
                }
            }
        }
        return i
    }
    function Lc(a) {
        var e, t, i;
        let r = /(^|[^/])@(group|binding)\(\d+\)[^;]+;/g
          , s = /@group\((\d+)\)/
          , o = /@binding\((\d+)\)/
          , d = /var(<[^>]+>)? (\w+)/
          , h = /:\s*(\w+)/
          , l = /struct\s+(\w+)\s*{([^}]+)}/g
          , u = /(\w+)\s*:\s*([\w\<\>]+)/g
          , p = /struct\s+(\w+)/
          , y = (e = a.match(r)) == null ? void 0 : e.map(v => ({
            group: parseInt(v.match(s)[1], 10),
            binding: parseInt(v.match(o)[1], 10),
            name: v.match(d)[2],
            isUniform: v.match(d)[1] === "<uniform>",
            type: v.match(h)[1]
        }));
        if (!y)
            return {
                groups: [],
                structs: []
            };
        let _ = (i = (t = a.match(l)) == null ? void 0 : t.map(v => {
            let T = v.match(p)[1]
              , A = v.match(u).reduce( (P, I) => {
                let[F,D] = I.split(":");
                return P[F.trim()] = D.trim(),
                P
            }
            , {});
            return A ? {
                name: T,
                members: A
            } : null
        }
        ).filter( ({name: v}) => y.some(T => T.type === v))) != null ? i : [];
        return {
            groups: y,
            structs: _
        }
    }
    var _r = (a => (a[a.VERTEX = 1] = "VERTEX",
    a[a.FRAGMENT = 2] = "FRAGMENT",
    a[a.COMPUTE = 4] = "COMPUTE",
    a))(_r || {});
    function c6({groups: a}) {
        let e = [];
        for (let t = 0; t < a.length; t++) {
            let i = a[t];
            e[i.group] || (e[i.group] = []),
            i.isUniform ? e[i.group].push({
                binding: i.binding,
                visibility: _r.VERTEX | _r.FRAGMENT,
                buffer: {
                    type: "uniform"
                }
            }) : i.type === "sampler" ? e[i.group].push({
                binding: i.binding,
                visibility: _r.FRAGMENT,
                sampler: {
                    type: "filtering"
                }
            }) : i.type === "texture_2d" && e[i.group].push({
                binding: i.binding,
                visibility: _r.FRAGMENT,
                texture: {
                    sampleType: "float",
                    viewDimension: "2d",
                    multisampled: !1
                }
            })
        }
        return e
    }
    function d6({groups: a}) {
        let e = [];
        for (let t = 0; t < a.length; t++) {
            let i = a[t];
            e[i.group] || (e[i.group] = {}),
            e[i.group][i.name] = i.binding
        }
        return e
    }
    function h6(a, e) {
        let t = new Set
          , i = new Set
          , r = [...a.structs, ...e.structs].filter(o => t.has(o.name) ? !1 : (t.add(o.name),
        !0))
          , s = [...a.groups, ...e.groups].filter(o => {
            let d = `${o.name}-${o.binding}`;
            return i.has(d) ? !1 : (i.add(d),
            !0)
        }
        );
        return {
            structs: r,
            groups: s
        }
    }
    var Nc = Object.create(null)
      , Qt = class a {
        constructor(e) {
            this._layoutKey = 0,
            this._attributeLocationsKey = 0;
            var t, i;
            let {fragment: r, vertex: s, layout: o, gpuLayout: d, name: h} = e;
            if (this.name = h,
            this.fragment = r,
            this.vertex = s,
            r.source === s.source) {
                let l = Lc(r.source);
                this.structsAndGroups = l
            } else {
                let l = Lc(s.source)
                  , u = Lc(r.source);
                this.structsAndGroups = h6(l, u)
            }
            this.layout = o ?? d6(this.structsAndGroups),
            this.gpuLayout = d ?? c6(this.structsAndGroups),
            this.autoAssignGlobalUniforms = ((t = this.layout[0]) == null ? void 0 : t.globalUniforms) !== void 0,
            this.autoAssignLocalUniforms = ((i = this.layout[1]) == null ? void 0 : i.localUniforms) !== void 0,
            this._generateProgramKey()
        }
        _generateProgramKey() {
            let {vertex: e, fragment: t} = this
              , i = e.source + t.source + e.entryPoint + t.entryPoint;
            this._layoutKey = Gr(i, "program")
        }
        get attributeData() {
            var e;
            return (e = this._attributeData) != null || (this._attributeData = o6(this.vertex)),
            this._attributeData
        }
        destroy() {
            this.gpuLayout = null,
            this.layout = null,
            this.structsAndGroups = null,
            this.fragment = null,
            this.vertex = null
        }
        static from(e) {
            let t = `${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;
            return Nc[t] || (Nc[t] = new a(e)),
            Nc[t]
        }
    }
    ;
    function Yu(a, e, t) {
        if (a)
            for (let i in a) {
                let r = i.toLocaleLowerCase()
                  , s = e[r];
                if (s) {
                    let o = a[i];
                    i === "header" && (o = o.replace(/@in\s+[^;]+;\s*/g, "").replace(/@out\s+[^;]+;\s*/g, "")),
                    t && s.push(`//----${t}----//`),
                    s.push(o)
                }
            }
    }
    var l6 = /\{\{(.*?)\}\}/g;
    function $u(a) {
        var e, t;
        let i = {};
        return ((t = (e = a.match(l6)) == null ? void 0 : e.map(r => r.replace(/[{()}]/g, ""))) != null ? t : []).forEach(r => {
            i[r] = []
        }
        ),
        i
    }
    function Ku(a, e) {
        let t, i = /@in\s+([^;]+);/g;
        for (; (t = i.exec(a)) !== null; )
            e.push(t[1])
    }
    function qu(a, e, t=!1) {
        let i = [];
        Ku(e, i),
        a.forEach(d => {
            d.header && Ku(d.header, i)
        }
        );
        let r = i;
        t && r.sort();
        let s = r.map( (d, h) => `       @location(${h}) ${d},`).join(`
`)
          , o = e.replace(/@in\s+[^;]+;\s*/g, "");
        return o = o.replace("{{in}}", `
${s}
`),
        o
    }
    function Zu(a, e) {
        let t, i = /@out\s+([^;]+);/g;
        for (; (t = i.exec(a)) !== null; )
            e.push(t[1])
    }
    function f6(a) {
        let e = /\b(\w+)\s*:/g.exec(a);
        return e ? e[1] : ""
    }
    function u6(a) {
        let e = /@.*?\s+/g;
        return a.replace(e, "")
    }
    function b6(a, e) {
        let t = [];
        Zu(e, t),
        a.forEach(h => {
            h.header && Zu(h.header, t)
        }
        );
        let i = 0
          , r = t.sort().map(h => h.indexOf("builtin") > -1 ? h : `@location(${i++}) ${h}`).join(`,
`)
          , s = t.sort().map(h => `       var ${u6(h)};`).join(`
`)
          , o = `return VSOutput(
${t.sort().map(h => ` ${f6(h)}`).join(`,
`)});`
          , d = e.replace(/@out\s+[^;]+;\s*/g, "");
        return d = d.replace("{{struct}}", `
${r}
`),
        d = d.replace("{{start}}", `
${s}
`),
        d = d.replace("{{return}}", `
${o}
`),
        d
    }
    function Qu(a, e) {
        let t = a;
        for (let i in e) {
            let r = e[i];
            r.join(`
`).length ? t = t.replace(`{{${i}}}`, `//-----${i} START-----//
${r.join(`
`)}
//----${i} FINISH----//`) : t = t.replace(`{{${i}}}`, "")
        }
        return t
    }
    var Ya = Object.create(null)
      , jc = new Map
      , p6 = 0;
    function g6({template: a, bits: e}) {
        let t = j2(a, e);
        if (Ya[t])
            return Ya[t];
        let {vertex: i, fragment: r} = _6(a, e);
        return Ya[t] = X2(i, r, e),
        Ya[t]
    }
    function m6({template: a, bits: e}) {
        let t = j2(a, e);
        return Ya[t] || (Ya[t] = X2(a.vertex, a.fragment, e)),
        Ya[t]
    }
    function _6(a, e) {
        let t = e.map(o => o.vertex).filter(o => !!o)
          , i = e.map(o => o.fragment).filter(o => !!o)
          , r = qu(t, a.vertex, !0);
        r = b6(t, r);
        let s = qu(i, a.fragment, !0);
        return {
            vertex: r,
            fragment: s
        }
    }
    function j2(a, e) {
        return e.map(t => (jc.has(t) || jc.set(t, p6++),
        jc.get(t))).sort( (t, i) => t - i).join("-") + a.vertex + a.fragment
    }
    function X2(a, e, t) {
        let i = $u(a)
          , r = $u(e);
        return t.forEach(s => {
            Yu(s.vertex, i, s.name),
            Yu(s.fragment, r, s.name)
        }
        ),
        {
            vertex: Qu(a, i),
            fragment: Qu(e, r)
        }
    }
    var y6 = `
@in aPosition: vec2<f32>;
@in aUV: vec2<f32>;

@out @builtin(position) vPosition: vec4<f32>;
@out vUV : vec2<f32>;
@out vColor : vec4<f32>;

{{header}}

struct VSOutput {
{{struct}}
};

@vertex
fn main( {{in}} ) -> VSOutput {

var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
var modelMatrix = mat3x3<f32>(
1.0, 0.0, 0.0,
0.0, 1.0, 0.0,
0.0, 0.0, 1.0
);
var position = aPosition;
var uv = aUV;

{{start}}

vColor = vec4<f32>(1., 1., 1., 1.);

{{main}}

vUV = uv;

var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

vColor *= globalUniforms.uWorldColorAlpha;

{{end}}

{{return}}
};
`
      , x6 = `
@in vUV : vec2<f32>;
@in vColor : vec4<f32>;

{{header}}

@fragment
fn main(
{{in}}
) -> @location(0) vec4<f32> {

{{start}}

var outColor:vec4<f32>;

{{main}}

var finalColor:vec4<f32> = outColor * vColor;

{{end}}

return finalColor;
};
`
      , v6 = `
in vec2 aPosition;
in vec2 aUV;

out vec4 vColor;
out vec2 vUV;

{{header}}

void main(void){

mat3 worldTransformMatrix = uWorldTransformMatrix;
mat3 modelMatrix = mat3(
1.0, 0.0, 0.0,
0.0, 1.0, 0.0,
0.0, 0.0, 1.0
);
vec2 position = aPosition;
vec2 uv = aUV;

{{start}}

vColor = vec4(1.);

{{main}}

vUV = uv;

mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

vColor *= uWorldColorAlpha;

{{end}}
}
`
      , T6 = `

in vec4 vColor;
in vec2 vUV;

out vec4 finalColor;

{{header}}

void main(void) {

{{start}}

vec4 outColor;

{{main}}

finalColor = outColor * vColor;

{{end}}
}
`
      , S6 = {
        name: "global-uniforms-bit",
        vertex: {
            header: `
struct GlobalUniforms {
uProjectionMatrix:mat3x3<f32>,
uWorldTransformMatrix:mat3x3<f32>,
uWorldColorAlpha: vec4<f32>,
uResolution: vec2<f32>,
}

@group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
`
        }
    };
    var w6 = {
        name: "global-uniforms-bit",
        vertex: {
            header: `
uniform mat3 uProjectionMatrix;
uniform mat3 uWorldTransformMatrix;
uniform vec4 uWorldColorAlpha;
uniform vec2 uResolution;
`
        }
    }
      , A6 = Object.defineProperty
      , Ju = Object.getOwnPropertySymbols
      , E6 = Object.prototype.hasOwnProperty
      , P6 = Object.prototype.propertyIsEnumerable
      , e0 = (a, e, t) => e in a ? A6(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , R6 = (a, e) => {
        for (var t in e || (e = {}))
            E6.call(e, t) && e0(a, t, e[t]);
        if (Ju)
            for (var t of Ju(e))
                P6.call(e, t) && e0(a, t, e[t]);
        return a
    }
    ;
    function Vr({bits: a, name: e}) {
        let t = g6({
            template: {
                fragment: x6,
                vertex: y6
            },
            bits: [S6, ...a]
        });
        return Qt.from({
            name: e,
            vertex: {
                source: t.vertex,
                entryPoint: "main"
            },
            fragment: {
                source: t.fragment,
                entryPoint: "main"
            }
        })
    }
    function Wr({bits: a, name: e}) {
        return new ua(R6({
            name: e
        }, m6({
            template: {
                vertex: v6,
                fragment: T6
            },
            bits: [w6, ...a]
        })))
    }
    var yl = {
        name: "color-bit",
        vertex: {
            header: `
@in aColor: vec4<f32>;
`,
            main: `
vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
`
        }
    }
      , xl = {
        name: "color-bit",
        vertex: {
            header: `
in vec4 aColor;
`,
            main: `
vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
`
        }
    }
      , Xc = {};
    function M6(a) {
        let e = [];
        if (a === 1)
            e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),
            e.push("@group(1) @binding(1) var textureSampler1: sampler;");
        else {
            let t = 0;
            for (let i = 0; i < a; i++)
                e.push(`@group(1) @binding(${t++}) var textureSource${i + 1}: texture_2d<f32>;`),
                e.push(`@group(1) @binding(${t++}) var textureSampler${i + 1}: sampler;`)
        }
        return e.join(`
`)
    }
    function C6(a) {
        let e = [];
        if (a === 1)
            e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");
        else {
            e.push("switch vTextureId {");
            for (let t = 0; t < a; t++)
                t === a - 1 ? e.push("  default:{") : e.push(`  case ${t}:{`),
                e.push(`      outColor = textureSampleGrad(textureSource${t + 1}, textureSampler${t + 1}, vUV, uvDx, uvDy);`),
                e.push("      break;}");
            e.push("}")
        }
        return e.join(`
`)
    }
    function vl(a) {
        return Xc[a] || (Xc[a] = {
            name: "texture-batch-bit",
            vertex: {
                header: `
@in aTextureIdAndRound: vec2<u32>;
@out @interpolate(flat) vTextureId : u32;
`,
                main: `
vTextureId = aTextureIdAndRound.y;
`,
                end: `
if(aTextureIdAndRound.x == 1)
{
vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
}
`
            },
            fragment: {
                header: `
@in @interpolate(flat) vTextureId: u32;

${M6(a)}
`,
                main: `
var uvDx = dpdx(vUV);
var uvDy = dpdy(vUV);

${C6(a)}
`
            }
        }),
        Xc[a]
    }
    var Hc = {};
    function O6(a) {
        let e = [];
        for (let t = 0; t < a; t++)
            t > 0 && e.push("else"),
            t < a - 1 && e.push(`if(vTextureId < ${t}.5)`),
            e.push("{"),
            e.push(`	outColor = texture(uTextures[${t}], vUV);`),
            e.push("}");
        return e.join(`
`)
    }
    function Tl(a) {
        return Hc[a] || (Hc[a] = {
            name: "texture-batch-bit",
            vertex: {
                header: `
in vec2 aTextureIdAndRound;
out float vTextureId;

`,
                main: `
vTextureId = aTextureIdAndRound.y;
`,
                end: `
if(aTextureIdAndRound.x == 1.)
{
gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
}
`
            },
            fragment: {
                header: `
in float vTextureId;

uniform sampler2D uTextures[${a}];

`,
                main: `

${O6(a)}
`
            }
        }),
        Hc[a]
    }
    var Yr = {
        name: "round-pixels-bit",
        vertex: {
            header: `
fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> 
{
return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
}
`
        }
    }
      , $r = {
        name: "round-pixels-bit",
        vertex: {
            header: `   
vec2 roundPixels(vec2 position, vec2 targetSize)
{       
return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
}
`
        }
    }
      , H2 = ["f32", "i32", "vec2<f32>", "vec3<f32>", "vec4<f32>", "mat2x2<f32>", "mat3x3<f32>", "mat4x4<f32>", "mat3x2<f32>", "mat4x2<f32>", "mat2x3<f32>", "mat4x3<f32>", "mat2x4<f32>", "mat3x4<f32>", "vec2<i32>", "vec3<i32>", "vec4<i32>"]
      , I6 = H2.reduce( (a, e) => (a[e] = !0,
    a), {});
    function G6(a, e) {
        switch (a) {
        case "f32":
            return 0;
        case "vec2<f32>":
            return new Float32Array(2 * e);
        case "vec3<f32>":
            return new Float32Array(3 * e);
        case "vec4<f32>":
            return new Float32Array(4 * e);
        case "mat2x2<f32>":
            return new Float32Array([1, 0, 0, 1]);
        case "mat3x3<f32>":
            return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
        case "mat4x4<f32>":
            return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1])
        }
        return null
    }
    var B6 = Object.defineProperty
      , t0 = Object.getOwnPropertySymbols
      , F6 = Object.prototype.hasOwnProperty
      , D6 = Object.prototype.propertyIsEnumerable
      , a0 = (a, e, t) => e in a ? B6(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , i0 = (a, e) => {
        for (var t in e || (e = {}))
            F6.call(e, t) && a0(a, t, e[t]);
        if (t0)
            for (var t of t0(e))
                D6.call(e, t) && a0(a, t, e[t]);
        return a
    }
      , z2 = class V2 {
        constructor(e, t) {
            this._touched = 0,
            this.uid = Be("uniform"),
            this._resourceType = "uniformGroup",
            this._resourceId = Be("resource"),
            this.isUniformGroup = !0,
            this._dirtyId = 0,
            this.destroyed = !1;
            var i, r;
            t = i0(i0({}, V2.defaultOptions), t),
            this.uniformStructures = e;
            let s = {};
            for (let o in e) {
                let d = e[o];
                if (d.name = o,
                d.size = (i = d.size) != null ? i : 1,
                !I6[d.type])
                    throw new Error(`Uniform type ${d.type} is not supported. Supported uniform types are: ${H2.join(", ")}`);
                (r = d.value) != null || (d.value = G6(d.type, d.size)),
                s[o] = d.value
            }
            this.uniforms = s,
            this._dirtyId = 1,
            this.ubo = t.ubo,
            this.isStatic = t.isStatic,
            this._signature = Gr(Object.keys(s).map(o => `${o}-${e[o].type}`).join("-"), "uniform-group")
        }
        update() {
            this._dirtyId++
        }
    }
    ;
    z2.defaultOptions = {
        ubo: !1,
        isStatic: !1
    };
    var Je = z2
      , r0 = {};
    function Sl(a) {
        let e = r0[a];
        if (e)
            return e;
        let t = new Int32Array(a);
        for (let i = 0; i < a; i++)
            t[i] = i;
        return e = r0[a] = new Je({
            uTextures: {
                value: t,
                type: "i32",
                size: a
            }
        },{
            isStatic: !0
        }),
        e
    }
    var yt = (a => (a[a.WEBGL = 1] = "WEBGL",
    a[a.WEBGPU = 2] = "WEBGPU",
    a[a.BOTH = 3] = "BOTH",
    a))(yt || {})
      , k6 = Object.defineProperty
      , en = Object.getOwnPropertySymbols
      , W2 = Object.prototype.hasOwnProperty
      , Y2 = Object.prototype.propertyIsEnumerable
      , s0 = (a, e, t) => e in a ? k6(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , U6 = (a, e) => {
        for (var t in e || (e = {}))
            W2.call(e, t) && s0(a, t, e[t]);
        if (en)
            for (var t of en(e))
                Y2.call(e, t) && s0(a, t, e[t]);
        return a
    }
      , L6 = (a, e) => {
        var t = {};
        for (var i in a)
            W2.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && en)
            for (var i of en(a))
                e.indexOf(i) < 0 && Y2.call(a, i) && (t[i] = a[i]);
        return t
    }
      , ht = class a extends xt {
        constructor(e) {
            super(),
            this.uid = Be("shader"),
            this._uniformBindMap = Object.create(null),
            this._ownedBindGroups = [];
            let {gpuProgram: t, glProgram: i, groups: r, resources: s, compatibleRenderers: o, groupMap: d} = e;
            this.gpuProgram = t,
            this.glProgram = i,
            o === void 0 && (o = 0,
            t && (o |= yt.WEBGPU),
            i && (o |= yt.WEBGL)),
            this.compatibleRenderers = o;
            let h = {};
            if (!s && !r && (s = {}),
            s && r)
                throw new Error("[Shader] Cannot have both resources and groups");
            if (!t && r && !d)
                throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");
            if (!t && r && d)
                for (let l in d)
                    for (let u in d[l]) {
                        let p = d[l][u];
                        h[p] = {
                            group: l,
                            binding: u,
                            name: p
                        }
                    }
            else if (t && r && !d) {
                let l = t.structsAndGroups.groups;
                d = {},
                l.forEach(u => {
                    d[u.group] = d[u.group] || {},
                    d[u.group][u.binding] = u.name,
                    h[u.name] = u
                }
                )
            } else if (s) {
                r = {},
                d = {},
                t && t.structsAndGroups.groups.forEach(u => {
                    d[u.group] = d[u.group] || {},
                    d[u.group][u.binding] = u.name,
                    h[u.name] = u
                }
                );
                let l = 0;
                for (let u in s)
                    h[u] || (r[99] || (r[99] = new Ht,
                    this._ownedBindGroups.push(r[99])),
                    h[u] = {
                        group: 99,
                        binding: l,
                        name: u
                    },
                    d[99] = d[99] || {},
                    d[99][l] = u,
                    l++);
                for (let u in s) {
                    let p = u
                      , y = s[u];
                    !y.source && !y._resourceType && (y = new Je(y));
                    let _ = h[p];
                    _ && (r[_.group] || (r[_.group] = new Ht,
                    this._ownedBindGroups.push(r[_.group])),
                    r[_.group].setResource(y, _.binding))
                }
            }
            this.groups = r,
            this._uniformBindMap = d,
            this.resources = this._buildResourceAccessor(r, h)
        }
        addResource(e, t, i) {
            var r, s;
            (r = this._uniformBindMap)[t] || (r[t] = {}),
            (s = this._uniformBindMap[t])[i] || (s[i] = e),
            this.groups[t] || (this.groups[t] = new Ht,
            this._ownedBindGroups.push(this.groups[t]))
        }
        _buildResourceAccessor(e, t) {
            let i = {};
            for (let r in t) {
                let s = t[r];
                Object.defineProperty(i, s.name, {
                    get() {
                        return e[s.group].getResource(s.binding)
                    },
                    set(o) {
                        e[s.group].setResource(o, s.binding)
                    }
                })
            }
            return i
        }
        destroy(e=!1) {
            var t, i;
            this.emit("destroy", this),
            e && ((t = this.gpuProgram) == null || t.destroy(),
            (i = this.glProgram) == null || i.destroy()),
            this.gpuProgram = null,
            this.glProgram = null,
            this.removeAllListeners(),
            this._uniformBindMap = null,
            this._ownedBindGroups.forEach(r => {
                r.destroy()
            }
            ),
            this._ownedBindGroups = null,
            this.resources = null,
            this.groups = null
        }
        static from(e) {
            let t = e, {gpu: i, gl: r} = t, s = L6(t, ["gpu", "gl"]), o, d;
            return i && (o = Qt.from(i)),
            r && (d = ua.from(r)),
            new a(U6({
                gpuProgram: o,
                glProgram: d
            }, s))
        }
    }
      , Yd = class extends ht {
        constructor(e) {
            let t = Wr({
                name: "batch",
                bits: [xl, Tl(e), $r]
            })
              , i = Vr({
                name: "batch",
                bits: [yl, vl(e), Yr]
            });
            super({
                glProgram: t,
                gpuProgram: i,
                resources: {
                    batchSamplers: Sl(e)
                }
            })
        }
    }
      , n0 = null
      , $2 = class K2 extends z8 {
        constructor() {
            super(...arguments),
            this.geometry = new Vd,
            this.shader = n0 || (n0 = new Yd(this.maxTextures)),
            this.name = K2.extension.name,
            this.vertexSize = 6
        }
        packAttributes(e, t, i, r, s) {
            let o = s << 16 | e.roundPixels & 65535
              , d = e.transform
              , h = d.a
              , l = d.b
              , u = d.c
              , p = d.d
              , y = d.tx
              , _ = d.ty
              , {positions: v, uvs: T} = e
              , A = e.color
              , P = e.attributeOffset
              , I = P + e.attributeSize;
            for (let F = P; F < I; F++) {
                let D = F * 2
                  , H = v[D]
                  , N = v[D + 1];
                t[r++] = h * H + u * N + y,
                t[r++] = p * N + l * H + _,
                t[r++] = T[D],
                t[r++] = T[D + 1],
                i[r++] = A,
                i[r++] = o
            }
        }
        packQuadAttributes(e, t, i, r, s) {
            let o = e.texture
              , d = e.transform
              , h = d.a
              , l = d.b
              , u = d.c
              , p = d.d
              , y = d.tx
              , _ = d.ty
              , v = e.bounds
              , T = v.maxX
              , A = v.minX
              , P = v.maxY
              , I = v.minY
              , F = o.uvs
              , D = e.color
              , H = s << 16 | e.roundPixels & 65535;
            t[r + 0] = h * A + u * I + y,
            t[r + 1] = p * I + l * A + _,
            t[r + 2] = F.x0,
            t[r + 3] = F.y0,
            i[r + 4] = D,
            i[r + 5] = H,
            t[r + 6] = h * T + u * I + y,
            t[r + 7] = p * I + l * T + _,
            t[r + 8] = F.x1,
            t[r + 9] = F.y1,
            i[r + 10] = D,
            i[r + 11] = H,
            t[r + 12] = h * T + u * P + y,
            t[r + 13] = p * P + l * T + _,
            t[r + 14] = F.x2,
            t[r + 15] = F.y2,
            i[r + 16] = D,
            i[r + 17] = H,
            t[r + 18] = h * A + u * P + y,
            t[r + 19] = p * P + l * A + _,
            t[r + 20] = F.x3,
            t[r + 21] = F.y3,
            i[r + 22] = D,
            i[r + 23] = H
        }
    }
    ;
    $2.extension = {
        type: [B.Batcher],
        name: "default"
    };
    var wl = $2;
    function N6(a, e, t, i, r, s, o, d=null) {
        let h = 0;
        t *= e,
        r *= s;
        let l = d.a
          , u = d.b
          , p = d.c
          , y = d.d
          , _ = d.tx
          , v = d.ty;
        for (; h < o; ) {
            let T = a[t]
              , A = a[t + 1];
            i[r] = l * T + p * A + _,
            i[r + 1] = u * T + y * A + v,
            r += s,
            t += e,
            h++
        }
    }
    function j6(a, e, t, i) {
        let r = 0;
        for (e *= t; r < i; )
            a[e] = 0,
            a[e + 1] = 0,
            e += t,
            r++
    }
    function q2(a, e, t, i, r) {
        let s = e.a
          , o = e.b
          , d = e.c
          , h = e.d
          , l = e.tx
          , u = e.ty;
        t || (t = 0),
        i || (i = 2),
        r || (r = a.length / i - t);
        let p = t * i;
        for (let y = 0; y < r; y++) {
            let _ = a[p]
              , v = a[p + 1];
            a[p] = s * _ + d * v + l,
            a[p + 1] = o * _ + h * v + u,
            p += i
        }
    }
    var X6 = new ie
      , Br = class {
        constructor() {
            this.packAsQuad = !1,
            this.batcherName = "default",
            this.topology = "triangle-list",
            this.applyTransform = !0,
            this.roundPixels = 0,
            this._batcher = null,
            this._batch = null
        }
        get uvs() {
            return this.geometryData.uvs
        }
        get positions() {
            return this.geometryData.vertices
        }
        get indices() {
            return this.geometryData.indices
        }
        get blendMode() {
            return this.applyTransform ? this.renderable.groupBlendMode : "normal"
        }
        get color() {
            let e = this.baseColor
              , t = e >> 16 | e & 65280 | (e & 255) << 16
              , i = this.renderable;
            return i ? l2(t, i.groupColor) + (this.alpha * i.groupAlpha * 255 << 24) : t + (this.alpha * 255 << 24)
        }
        get transform() {
            var e;
            return ((e = this.renderable) == null ? void 0 : e.groupTransform) || X6
        }
        copyTo(e) {
            e.indexOffset = this.indexOffset,
            e.indexSize = this.indexSize,
            e.attributeOffset = this.attributeOffset,
            e.attributeSize = this.attributeSize,
            e.baseColor = this.baseColor,
            e.alpha = this.alpha,
            e.texture = this.texture,
            e.geometryData = this.geometryData,
            e.topology = this.topology
        }
        reset() {
            this.applyTransform = !0,
            this.renderable = null,
            this.topology = "triangle-list"
        }
    }
      , H6 = Object.defineProperty
      , z6 = Object.defineProperties
      , V6 = Object.getOwnPropertyDescriptors
      , o0 = Object.getOwnPropertySymbols
      , W6 = Object.prototype.hasOwnProperty
      , Y6 = Object.prototype.propertyIsEnumerable
      , c0 = (a, e, t) => e in a ? H6(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , tn = (a, e) => {
        for (var t in e || (e = {}))
            W6.call(e, t) && c0(a, t, e[t]);
        if (o0)
            for (var t of o0(e))
                Y6.call(e, t) && c0(a, t, e[t]);
        return a
    }
      , an = (a, e) => z6(a, V6(e))
      , Fr = {
        extension: {
            type: B.ShapeBuilder,
            name: "circle"
        },
        build(a, e) {
            let t, i, r, s, o, d;
            if (a.type === "circle") {
                let D = a;
                t = D.x,
                i = D.y,
                o = d = D.radius,
                r = s = 0
            } else if (a.type === "ellipse") {
                let D = a;
                t = D.x,
                i = D.y,
                o = D.halfWidth,
                d = D.halfHeight,
                r = s = 0
            } else {
                let D = a
                  , H = D.width / 2
                  , N = D.height / 2;
                t = D.x + H,
                i = D.y + N,
                o = d = Math.max(0, Math.min(D.radius, Math.min(H, N))),
                r = H - o,
                s = N - d
            }
            if (!(o >= 0 && d >= 0 && r >= 0 && s >= 0))
                return e;
            let h = Math.ceil(2.3 * Math.sqrt(o + d))
              , l = h * 8 + (r ? 4 : 0) + (s ? 4 : 0);
            if (l === 0)
                return e;
            if (h === 0)
                return e[0] = e[6] = t + r,
                e[1] = e[3] = i + s,
                e[2] = e[4] = t - r,
                e[5] = e[7] = i - s,
                e;
            let u = 0
              , p = h * 4 + (r ? 2 : 0) + 2
              , y = p
              , _ = l
              , v = r + o
              , T = s
              , A = t + v
              , P = t - v
              , I = i + T;
            if (e[u++] = A,
            e[u++] = I,
            e[--p] = I,
            e[--p] = P,
            s) {
                let D = i - T;
                e[y++] = P,
                e[y++] = D,
                e[--_] = D,
                e[--_] = A
            }
            for (let D = 1; D < h; D++) {
                let H = Math.PI / 2 * (D / h)
                  , N = r + Math.cos(H) * o
                  , j = s + Math.sin(H) * d
                  , re = t + N
                  , ce = t - N
                  , Z = i + j
                  , q = i - j;
                e[u++] = re,
                e[u++] = Z,
                e[--p] = Z,
                e[--p] = ce,
                e[y++] = ce,
                e[y++] = q,
                e[--_] = q,
                e[--_] = re
            }
            v = r,
            T = s + d,
            A = t + v,
            P = t - v,
            I = i + T;
            let F = i - T;
            return e[u++] = A,
            e[u++] = I,
            e[--_] = F,
            e[--_] = A,
            r && (e[u++] = P,
            e[u++] = I,
            e[--_] = F,
            e[--_] = P),
            e
        },
        triangulate(a, e, t, i, r, s) {
            if (a.length === 0)
                return;
            let o = 0
              , d = 0;
            for (let u = 0; u < a.length; u += 2)
                o += a[u],
                d += a[u + 1];
            o /= a.length / 2,
            d /= a.length / 2;
            let h = i;
            e[h * t] = o,
            e[h * t + 1] = d;
            let l = h++;
            for (let u = 0; u < a.length; u += 2)
                e[h * t] = a[u],
                e[h * t + 1] = a[u + 1],
                u > 0 && (r[s++] = h,
                r[s++] = l,
                r[s++] = h - 1),
                h++;
            r[s++] = l + 1,
            r[s++] = l,
            r[s++] = h - 1
        }
    }
      , $6 = an(tn({}, Fr), {
        extension: an(tn({}, Fr.extension), {
            name: "ellipse"
        })
    })
      , K6 = an(tn({}, Fr), {
        extension: an(tn({}, Fr.extension), {
            name: "roundedRectangle"
        })
    })
      , Z2 = 1e-4
      , d0 = 1e-4;
    function q6(a) {
        let e = a.length;
        if (e < 6)
            return 1;
        let t = 0;
        for (let i = 0, r = a[e - 2], s = a[e - 1]; i < e; i += 2) {
            let o = a[i]
              , d = a[i + 1];
            t += (o - r) * (d + s),
            r = o,
            s = d
        }
        return t < 0 ? -1 : 1
    }
    function h0(a, e, t, i, r, s, o, d) {
        let h = a - t * r, l = e - i * r, u = a + t * s, p = e + i * s, y, _;
        o ? (y = i,
        _ = -t) : (y = -i,
        _ = t);
        let v = h + y
          , T = l + _
          , A = u + y
          , P = p + _;
        return d.push(v, T),
        d.push(A, P),
        2
    }
    function La(a, e, t, i, r, s, o, d) {
        let h = t - a
          , l = i - e
          , u = Math.atan2(h, l)
          , p = Math.atan2(r - a, s - e);
        d && u < p ? u += Math.PI * 2 : !d && u > p && (p += Math.PI * 2);
        let y = u
          , _ = p - u
          , v = Math.abs(_)
          , T = Math.sqrt(h * h + l * l)
          , A = (15 * v * Math.sqrt(T) / Math.PI >> 0) + 1
          , P = _ / A;
        if (y += P,
        d) {
            o.push(a, e),
            o.push(t, i);
            for (let I = 1, F = y; I < A; I++,
            F += P)
                o.push(a, e),
                o.push(a + Math.sin(F) * T, e + Math.cos(F) * T);
            o.push(a, e),
            o.push(r, s)
        } else {
            o.push(t, i),
            o.push(a, e);
            for (let I = 1, F = y; I < A; I++,
            F += P)
                o.push(a + Math.sin(F) * T, e + Math.cos(F) * T),
                o.push(a, e);
            o.push(r, s),
            o.push(a, e)
        }
        return A * 2
    }
    function Z6(a, e, t, i, r, s) {
        let o = Z2;
        if (a.length === 0)
            return;
        let d = e
          , h = d.alignment;
        if (e.alignment !== .5) {
            let Ae = q6(a);
            t && (Ae *= -1),
            h = (h - .5) * Ae + .5
        }
        let l = new Ce(a[0],a[1])
          , u = new Ce(a[a.length - 2],a[a.length - 1])
          , p = i
          , y = Math.abs(l.x - u.x) < o && Math.abs(l.y - u.y) < o;
        if (p) {
            a = a.slice(),
            y && (a.pop(),
            a.pop(),
            u.set(a[a.length - 2], a[a.length - 1]));
            let Ae = (l.x + u.x) * .5
              , Ot = (u.y + l.y) * .5;
            a.unshift(Ae, Ot),
            a.push(Ae, Ot)
        }
        let _ = r
          , v = a.length / 2
          , T = a.length
          , A = _.length / 2
          , P = d.width / 2
          , I = P * P
          , F = d.miterLimit * d.miterLimit
          , D = a[0]
          , H = a[1]
          , N = a[2]
          , j = a[3]
          , re = 0
          , ce = 0
          , Z = -(H - j)
          , q = D - N
          , se = 0
          , te = 0
          , Ie = Math.sqrt(Z * Z + q * q);
        Z /= Ie,
        q /= Ie,
        Z *= P,
        q *= P;
        let Tt = h
          , ne = (1 - Tt) * 2
          , de = Tt * 2;
        p || (d.cap === "round" ? T += La(D - Z * (ne - de) * .5, H - q * (ne - de) * .5, D - Z * ne, H - q * ne, D + Z * de, H + q * de, _, !0) + 2 : d.cap === "square" && (T += h0(D, H, Z, q, ne, de, !0, _))),
        _.push(D - Z * ne, H - q * ne),
        _.push(D + Z * de, H + q * de);
        for (let Ae = 1; Ae < v - 1; ++Ae) {
            D = a[(Ae - 1) * 2],
            H = a[(Ae - 1) * 2 + 1],
            N = a[Ae * 2],
            j = a[Ae * 2 + 1],
            re = a[(Ae + 1) * 2],
            ce = a[(Ae + 1) * 2 + 1],
            Z = -(H - j),
            q = D - N,
            Ie = Math.sqrt(Z * Z + q * q),
            Z /= Ie,
            q /= Ie,
            Z *= P,
            q *= P,
            se = -(j - ce),
            te = N - re,
            Ie = Math.sqrt(se * se + te * te),
            se /= Ie,
            te /= Ie,
            se *= P,
            te *= P;
            let Ot = N - D
              , ga = H - j
              , ta = N - re
              , ma = ce - j
              , ji = Ot * ta + ga * ma
              , Vt = ga * ta - ma * Ot
              , _a = Vt < 0;
            if (Math.abs(Vt) < .001 * Math.abs(ji)) {
                _.push(N - Z * ne, j - q * ne),
                _.push(N + Z * de, j + q * de),
                ji >= 0 && (d.join === "round" ? T += La(N, j, N - Z * ne, j - q * ne, N - se * ne, j - te * ne, _, !1) + 4 : T += 2,
                _.push(N - se * de, j - te * de),
                _.push(N + se * ne, j + te * ne));
                continue
            }
            let ya = (-Z + D) * (-q + j) - (-Z + N) * (-q + H)
              , Fa = (-se + re) * (-te + j) - (-se + N) * (-te + ce)
              , xa = (Ot * Fa - ta * ya) / Vt
              , va = (ma * ya - ga * Fa) / Vt
              , Da = (xa - N) * (xa - N) + (va - j) * (va - j)
              , It = N + (xa - N) * ne
              , Gt = j + (va - j) * ne
              , Bt = N - (xa - N) * de
              , Ft = j - (va - j) * de
              , Xi = Math.min(Ot * Ot + ga * ga, ta * ta + ma * ma)
              , ri = _a ? ne : de
              , si = Xi + ri * ri * I;
            Da <= si ? d.join === "bevel" || Da / I > F ? (_a ? (_.push(It, Gt),
            _.push(N + Z * de, j + q * de),
            _.push(It, Gt),
            _.push(N + se * de, j + te * de)) : (_.push(N - Z * ne, j - q * ne),
            _.push(Bt, Ft),
            _.push(N - se * ne, j - te * ne),
            _.push(Bt, Ft)),
            T += 2) : d.join === "round" ? _a ? (_.push(It, Gt),
            _.push(N + Z * de, j + q * de),
            T += La(N, j, N + Z * de, j + q * de, N + se * de, j + te * de, _, !0) + 4,
            _.push(It, Gt),
            _.push(N + se * de, j + te * de)) : (_.push(N - Z * ne, j - q * ne),
            _.push(Bt, Ft),
            T += La(N, j, N - Z * ne, j - q * ne, N - se * ne, j - te * ne, _, !1) + 4,
            _.push(N - se * ne, j - te * ne),
            _.push(Bt, Ft)) : (_.push(It, Gt),
            _.push(Bt, Ft)) : (_.push(N - Z * ne, j - q * ne),
            _.push(N + Z * de, j + q * de),
            d.join === "round" ? _a ? T += La(N, j, N + Z * de, j + q * de, N + se * de, j + te * de, _, !0) + 2 : T += La(N, j, N - Z * ne, j - q * ne, N - se * ne, j - te * ne, _, !1) + 2 : d.join === "miter" && Da / I <= F && (_a ? (_.push(Bt, Ft),
            _.push(Bt, Ft)) : (_.push(It, Gt),
            _.push(It, Gt)),
            T += 2),
            _.push(N - se * ne, j - te * ne),
            _.push(N + se * de, j + te * de),
            T += 2)
        }
        D = a[(v - 2) * 2],
        H = a[(v - 2) * 2 + 1],
        N = a[(v - 1) * 2],
        j = a[(v - 1) * 2 + 1],
        Z = -(H - j),
        q = D - N,
        Ie = Math.sqrt(Z * Z + q * q),
        Z /= Ie,
        q /= Ie,
        Z *= P,
        q *= P,
        _.push(N - Z * ne, j - q * ne),
        _.push(N + Z * de, j + q * de),
        p || (d.cap === "round" ? T += La(N - Z * (ne - de) * .5, j - q * (ne - de) * .5, N - Z * ne, j - q * ne, N + Z * de, j + q * de, _, !1) + 2 : d.cap === "square" && (T += h0(N, j, Z, q, ne, de, !1, _)));
        let Ni = d0 * d0;
        for (let Ae = A; Ae < T + A - 2; ++Ae)
            D = _[Ae * 2],
            H = _[Ae * 2 + 1],
            N = _[(Ae + 1) * 2],
            j = _[(Ae + 1) * 2 + 1],
            re = _[(Ae + 2) * 2],
            ce = _[(Ae + 2) * 2 + 1],
            !(Math.abs(D * (j - ce) + N * (ce - H) + re * (H - j)) < Ni) && s.push(Ae, Ae + 1, Ae + 2)
    }
    function Q6(a, e, t, i) {
        let r = Z2;
        if (a.length === 0)
            return;
        let s = a[0]
          , o = a[1]
          , d = a[a.length - 2]
          , h = a[a.length - 1]
          , l = e || Math.abs(s - d) < r && Math.abs(o - h) < r
          , u = t
          , p = a.length / 2
          , y = u.length / 2;
        for (let _ = 0; _ < p; _++)
            u.push(a[_ * 2]),
            u.push(a[_ * 2 + 1]);
        for (let _ = 0; _ < p - 1; _++)
            i.push(y + _, y + _ + 1);
        l && i.push(y + p - 1, y)
    }
    var Fo = {
        exports: {}
    }
      , rS = Fo.exports;
    Fo.exports = Do;
    var sS = Fo.exports.default = Do;
    function Do(a, e, t) {
        t = t || 2;
        var i = e && e.length
          , r = i ? e[0] * t : a.length
          , s = Q2(a, 0, r, t, !0)
          , o = [];
        if (!s || s.next === s.prev)
            return o;
        var d, h, l, u, p, y, _;
        if (i && (s = i7(a, e, s, t)),
        a.length > 80 * t) {
            d = l = a[0],
            h = u = a[1];
            for (var v = t; v < r; v += t)
                p = a[v],
                y = a[v + 1],
                p < d && (d = p),
                y < h && (h = y),
                p > l && (l = p),
                y > u && (u = y);
            _ = Math.max(l - d, u - h),
            _ = _ !== 0 ? 32767 / _ : 0
        }
        return Dr(s, o, t, d, h, _, 0),
        o
    }
    function Q2(a, e, t, i, r) {
        var s, o;
        if (r === qd(a, e, t, i) > 0)
            for (s = e; s < t; s += i)
                o = l0(s, a[s], a[s + 1], o);
        else
            for (s = t - i; s >= e; s -= i)
                o = l0(s, a[s], a[s + 1], o);
        return o && ko(o, o.next) && (Ur(o),
        o = o.next),
        o
    }
    function qa(a, e) {
        if (!a)
            return a;
        e || (e = a);
        var t = a, i;
        do
            if (i = !1,
            !t.steiner && (ko(t, t.next) || Ue(t.prev, t, t.next) === 0)) {
                if (Ur(t),
                t = e = t.prev,
                t === t.next)
                    break;
                i = !0
            } else
                t = t.next;
        while (i || t !== e);
        return e
    }
    function Dr(a, e, t, i, r, s, o) {
        if (a) {
            !o && s && c7(a, i, r, s);
            for (var d = a, h, l; a.prev !== a.next; ) {
                if (h = a.prev,
                l = a.next,
                s ? e7(a, i, r, s) : J6(a)) {
                    e.push(h.i / t | 0),
                    e.push(a.i / t | 0),
                    e.push(l.i / t | 0),
                    Ur(a),
                    a = l.next,
                    d = l.next;
                    continue
                }
                if (a = l,
                a === d) {
                    o ? o === 1 ? (a = t7(qa(a), e, t),
                    Dr(a, e, t, i, r, s, 2)) : o === 2 && a7(a, e, t, i, r, s) : Dr(qa(a), e, t, i, r, s, 1);
                    break
                }
            }
        }
    }
    function J6(a) {
        var e = a.prev
          , t = a
          , i = a.next;
        if (Ue(e, t, i) >= 0)
            return !1;
        for (var r = e.x, s = t.x, o = i.x, d = e.y, h = t.y, l = i.y, u = r < s ? r < o ? r : o : s < o ? s : o, p = d < h ? d < l ? d : l : h < l ? h : l, y = r > s ? r > o ? r : o : s > o ? s : o, _ = d > h ? d > l ? d : l : h > l ? h : l, v = i.next; v !== e; ) {
            if (v.x >= u && v.x <= y && v.y >= p && v.y <= _ && xi(r, d, s, h, o, l, v.x, v.y) && Ue(v.prev, v, v.next) >= 0)
                return !1;
            v = v.next
        }
        return !0
    }
    function e7(a, e, t, i) {
        var r = a.prev
          , s = a
          , o = a.next;
        if (Ue(r, s, o) >= 0)
            return !1;
        for (var d = r.x, h = s.x, l = o.x, u = r.y, p = s.y, y = o.y, _ = d < h ? d < l ? d : l : h < l ? h : l, v = u < p ? u < y ? u : y : p < y ? p : y, T = d > h ? d > l ? d : l : h > l ? h : l, A = u > p ? u > y ? u : y : p > y ? p : y, P = $d(_, v, e, t, i), I = $d(T, A, e, t, i), F = a.prevZ, D = a.nextZ; F && F.z >= P && D && D.z <= I; ) {
            if (F.x >= _ && F.x <= T && F.y >= v && F.y <= A && F !== r && F !== o && xi(d, u, h, p, l, y, F.x, F.y) && Ue(F.prev, F, F.next) >= 0 || (F = F.prevZ,
            D.x >= _ && D.x <= T && D.y >= v && D.y <= A && D !== r && D !== o && xi(d, u, h, p, l, y, D.x, D.y) && Ue(D.prev, D, D.next) >= 0))
                return !1;
            D = D.nextZ
        }
        for (; F && F.z >= P; ) {
            if (F.x >= _ && F.x <= T && F.y >= v && F.y <= A && F !== r && F !== o && xi(d, u, h, p, l, y, F.x, F.y) && Ue(F.prev, F, F.next) >= 0)
                return !1;
            F = F.prevZ
        }
        for (; D && D.z <= I; ) {
            if (D.x >= _ && D.x <= T && D.y >= v && D.y <= A && D !== r && D !== o && xi(d, u, h, p, l, y, D.x, D.y) && Ue(D.prev, D, D.next) >= 0)
                return !1;
            D = D.nextZ
        }
        return !0
    }
    function t7(a, e, t) {
        var i = a;
        do {
            var r = i.prev
              , s = i.next.next;
            !ko(r, s) && J2(r, i, i.next, s) && kr(r, s) && kr(s, r) && (e.push(r.i / t | 0),
            e.push(i.i / t | 0),
            e.push(s.i / t | 0),
            Ur(i),
            Ur(i.next),
            i = a = s),
            i = i.next
        } while (i !== a);
        return qa(i)
    }
    function a7(a, e, t, i, r, s) {
        var o = a;
        do {
            for (var d = o.next.next; d !== o.prev; ) {
                if (o.i !== d.i && l7(o, d)) {
                    var h = ep(o, d);
                    o = qa(o, o.next),
                    h = qa(h, h.next),
                    Dr(o, e, t, i, r, s, 0),
                    Dr(h, e, t, i, r, s, 0);
                    return
                }
                d = d.next
            }
            o = o.next
        } while (o !== a)
    }
    function i7(a, e, t, i) {
        var r = [], s, o, d, h, l;
        for (s = 0,
        o = e.length; s < o; s++)
            d = e[s] * i,
            h = s < o - 1 ? e[s + 1] * i : a.length,
            l = Q2(a, d, h, i, !1),
            l === l.next && (l.steiner = !0),
            r.push(h7(l));
        for (r.sort(r7),
        s = 0; s < r.length; s++)
            t = s7(r[s], t);
        return t
    }
    function r7(a, e) {
        return a.x - e.x
    }
    function s7(a, e) {
        var t = n7(a, e);
        if (!t)
            return e;
        var i = ep(t, a);
        return qa(i, i.next),
        qa(t, t.next)
    }
    function n7(a, e) {
        var t = e, i = a.x, r = a.y, s = -1 / 0, o;
        do {
            if (r <= t.y && r >= t.next.y && t.next.y !== t.y) {
                var d = t.x + (r - t.y) * (t.next.x - t.x) / (t.next.y - t.y);
                if (d <= i && d > s && (s = d,
                o = t.x < t.next.x ? t : t.next,
                d === i))
                    return o
            }
            t = t.next
        } while (t !== e);
        if (!o)
            return null;
        var h = o, l = o.x, u = o.y, p = 1 / 0, y;
        t = o;
        do
            i >= t.x && t.x >= l && i !== t.x && xi(r < u ? i : s, r, l, u, r < u ? s : i, r, t.x, t.y) && (y = Math.abs(r - t.y) / (i - t.x),
            kr(t, a) && (y < p || y === p && (t.x > o.x || t.x === o.x && o7(o, t))) && (o = t,
            p = y)),
            t = t.next;
        while (t !== h);
        return o
    }
    function o7(a, e) {
        return Ue(a.prev, a, e.prev) < 0 && Ue(e.next, a, a.next) < 0
    }
    function c7(a, e, t, i) {
        var r = a;
        do
            r.z === 0 && (r.z = $d(r.x, r.y, e, t, i)),
            r.prevZ = r.prev,
            r.nextZ = r.next,
            r = r.next;
        while (r !== a);
        r.prevZ.nextZ = null,
        r.prevZ = null,
        d7(r)
    }
    function d7(a) {
        var e, t, i, r, s, o, d, h, l = 1;
        do {
            for (t = a,
            a = null,
            s = null,
            o = 0; t; ) {
                for (o++,
                i = t,
                d = 0,
                e = 0; e < l && (d++,
                i = i.nextZ,
                !!i); e++)
                    ;
                for (h = l; d > 0 || h > 0 && i; )
                    d !== 0 && (h === 0 || !i || t.z <= i.z) ? (r = t,
                    t = t.nextZ,
                    d--) : (r = i,
                    i = i.nextZ,
                    h--),
                    s ? s.nextZ = r : a = r,
                    r.prevZ = s,
                    s = r;
                t = i
            }
            s.nextZ = null,
            l *= 2
        } while (o > 1);
        return a
    }
    function $d(a, e, t, i, r) {
        return a = (a - t) * r | 0,
        e = (e - i) * r | 0,
        a = (a | a << 8) & 16711935,
        a = (a | a << 4) & 252645135,
        a = (a | a << 2) & 858993459,
        a = (a | a << 1) & 1431655765,
        e = (e | e << 8) & 16711935,
        e = (e | e << 4) & 252645135,
        e = (e | e << 2) & 858993459,
        e = (e | e << 1) & 1431655765,
        a | e << 1
    }
    function h7(a) {
        var e = a
          , t = a;
        do
            (e.x < t.x || e.x === t.x && e.y < t.y) && (t = e),
            e = e.next;
        while (e !== a);
        return t
    }
    function xi(a, e, t, i, r, s, o, d) {
        return (r - o) * (e - d) >= (a - o) * (s - d) && (a - o) * (i - d) >= (t - o) * (e - d) && (t - o) * (s - d) >= (r - o) * (i - d)
    }
    function l7(a, e) {
        return a.next.i !== e.i && a.prev.i !== e.i && !f7(a, e) && (kr(a, e) && kr(e, a) && u7(a, e) && (Ue(a.prev, a, e.prev) || Ue(a, e.prev, e)) || ko(a, e) && Ue(a.prev, a, a.next) > 0 && Ue(e.prev, e, e.next) > 0)
    }
    function Ue(a, e, t) {
        return (e.y - a.y) * (t.x - e.x) - (e.x - a.x) * (t.y - e.y)
    }
    function ko(a, e) {
        return a.x === e.x && a.y === e.y
    }
    function J2(a, e, t, i) {
        var r = xs(Ue(a, e, t))
          , s = xs(Ue(a, e, i))
          , o = xs(Ue(t, i, a))
          , d = xs(Ue(t, i, e));
        return !!(r !== s && o !== d || r === 0 && ys(a, t, e) || s === 0 && ys(a, i, e) || o === 0 && ys(t, a, i) || d === 0 && ys(t, e, i))
    }
    function ys(a, e, t) {
        return e.x <= Math.max(a.x, t.x) && e.x >= Math.min(a.x, t.x) && e.y <= Math.max(a.y, t.y) && e.y >= Math.min(a.y, t.y)
    }
    function xs(a) {
        return a > 0 ? 1 : a < 0 ? -1 : 0
    }
    function f7(a, e) {
        var t = a;
        do {
            if (t.i !== a.i && t.next.i !== a.i && t.i !== e.i && t.next.i !== e.i && J2(t, t.next, a, e))
                return !0;
            t = t.next
        } while (t !== a);
        return !1
    }
    function kr(a, e) {
        return Ue(a.prev, a, a.next) < 0 ? Ue(a, e, a.next) >= 0 && Ue(a, a.prev, e) >= 0 : Ue(a, e, a.prev) < 0 || Ue(a, a.next, e) < 0
    }
    function u7(a, e) {
        var t = a
          , i = !1
          , r = (a.x + e.x) / 2
          , s = (a.y + e.y) / 2;
        do
            t.y > s != t.next.y > s && t.next.y !== t.y && r < (t.next.x - t.x) * (s - t.y) / (t.next.y - t.y) + t.x && (i = !i),
            t = t.next;
        while (t !== a);
        return i
    }
    function ep(a, e) {
        var t = new Kd(a.i,a.x,a.y)
          , i = new Kd(e.i,e.x,e.y)
          , r = a.next
          , s = e.prev;
        return a.next = e,
        e.prev = a,
        t.next = r,
        r.prev = t,
        i.next = t,
        t.prev = i,
        s.next = i,
        i.prev = s,
        i
    }
    function l0(a, e, t, i) {
        var r = new Kd(a,e,t);
        return i ? (r.next = i.next,
        r.prev = i,
        i.next.prev = r,
        i.next = r) : (r.prev = r,
        r.next = r),
        r
    }
    function Ur(a) {
        a.next.prev = a.prev,
        a.prev.next = a.next,
        a.prevZ && (a.prevZ.nextZ = a.nextZ),
        a.nextZ && (a.nextZ.prevZ = a.prevZ)
    }
    function Kd(a, e, t) {
        this.i = a,
        this.x = e,
        this.y = t,
        this.prev = null,
        this.next = null,
        this.z = 0,
        this.prevZ = null,
        this.nextZ = null,
        this.steiner = !1
    }
    Do.deviation = function(a, e, t, i) {
        var r = e && e.length
          , s = r ? e[0] * t : a.length
          , o = Math.abs(qd(a, 0, s, t));
        if (r)
            for (var d = 0, h = e.length; d < h; d++) {
                var l = e[d] * t
                  , u = d < h - 1 ? e[d + 1] * t : a.length;
                o -= Math.abs(qd(a, l, u, t))
            }
        var p = 0;
        for (d = 0; d < i.length; d += 3) {
            var y = i[d] * t
              , _ = i[d + 1] * t
              , v = i[d + 2] * t;
            p += Math.abs((a[y] - a[v]) * (a[_ + 1] - a[y + 1]) - (a[y] - a[_]) * (a[v + 1] - a[y + 1]))
        }
        return o === 0 && p === 0 ? 0 : Math.abs((p - o) / o)
    }
    ;
    function qd(a, e, t, i) {
        for (var r = 0, s = e, o = t - i; s < t; s += i)
            r += (a[o] - a[s]) * (a[s + 1] + a[o + 1]),
            o = s;
        return r
    }
    Do.flatten = function(a) {
        for (var e = a[0][0].length, t = {
            vertices: [],
            holes: [],
            dimensions: e
        }, i = 0, r = 0; r < a.length; r++) {
            for (var s = 0; s < a[r].length; s++)
                for (var o = 0; o < e; o++)
                    t.vertices.push(a[r][s][o]);
            r > 0 && (i += a[r - 1].length,
            t.holes.push(i))
        }
        return t
    }
    ;
    var b7 = Fo.exports
      , p7 = ul(b7);
    function tp(a, e, t, i, r, s, o) {
        let d = p7(a, e, 2);
        if (!d)
            return;
        for (let l = 0; l < d.length; l += 3)
            s[o++] = d[l] + r,
            s[o++] = d[l + 1] + r,
            s[o++] = d[l + 2] + r;
        let h = r * i;
        for (let l = 0; l < a.length; l += 2)
            t[h] = a[l],
            t[h + 1] = a[l + 1],
            h += i
    }
    var g7 = []
      , m7 = {
        extension: {
            type: B.ShapeBuilder,
            name: "polygon"
        },
        build(a, e) {
            for (let t = 0; t < a.points.length; t++)
                e[t] = a.points[t];
            return e
        },
        triangulate(a, e, t, i, r, s) {
            tp(a, g7, e, t, i, r, s)
        }
    }
      , _7 = {
        extension: {
            type: B.ShapeBuilder,
            name: "rectangle"
        },
        build(a, e) {
            let t = a
              , i = t.x
              , r = t.y
              , s = t.width
              , o = t.height;
            return s >= 0 && o >= 0 && (e[0] = i,
            e[1] = r,
            e[2] = i + s,
            e[3] = r,
            e[4] = i + s,
            e[5] = r + o,
            e[6] = i,
            e[7] = r + o),
            e
        },
        triangulate(a, e, t, i, r, s) {
            let o = 0;
            i *= t,
            e[i + o] = a[0],
            e[i + o + 1] = a[1],
            o += t,
            e[i + o] = a[2],
            e[i + o + 1] = a[3],
            o += t,
            e[i + o] = a[6],
            e[i + o + 1] = a[7],
            o += t,
            e[i + o] = a[4],
            e[i + o + 1] = a[5],
            o += t;
            let d = i / t;
            r[s++] = d,
            r[s++] = d + 1,
            r[s++] = d + 2,
            r[s++] = d + 1,
            r[s++] = d + 3,
            r[s++] = d + 2
        }
    }
      , y7 = {
        extension: {
            type: B.ShapeBuilder,
            name: "triangle"
        },
        build(a, e) {
            return e[0] = a.x,
            e[1] = a.y,
            e[2] = a.x2,
            e[3] = a.y2,
            e[4] = a.x3,
            e[5] = a.y3,
            e
        },
        triangulate(a, e, t, i, r, s) {
            let o = 0;
            i *= t,
            e[i + o] = a[0],
            e[i + o + 1] = a[1],
            o += t,
            e[i + o] = a[2],
            e[i + o + 1] = a[3],
            o += t,
            e[i + o] = a[4],
            e[i + o + 1] = a[5];
            let d = i / t;
            r[s++] = d,
            r[s++] = d + 1,
            r[s++] = d + 2
        }
    }
      , Uo = {};
    pe.handleByMap(B.ShapeBuilder, Uo),
    pe.add(_7, m7, y7, Fr, $6, K6);
    var x7 = new Pe;
    function v7(a, e) {
        let {geometryData: t, batches: i} = e;
        i.length = 0,
        t.indices.length = 0,
        t.vertices.length = 0,
        t.uvs.length = 0;
        for (let r = 0; r < a.instructions.length; r++) {
            let s = a.instructions[r];
            if (s.action === "texture")
                T7(s.data, i, t);
            else if (s.action === "fill" || s.action === "stroke") {
                let o = s.action === "stroke"
                  , d = s.data.path.shapePath
                  , h = s.data.style
                  , l = s.data.hole;
                o && l && f0(l.shapePath, h, null, !0, i, t),
                f0(d, h, l, o, i, t)
            }
        }
    }
    function T7(a, e, t) {
        let {vertices: i, uvs: r, indices: s} = t
          , o = s.length
          , d = i.length / 2
          , h = []
          , l = Uo.rectangle
          , u = x7
          , p = a.image;
        u.x = a.dx,
        u.y = a.dy,
        u.width = a.dw,
        u.height = a.dh;
        let y = a.transform;
        l.build(u, h),
        y && q2(h, y),
        l.triangulate(h, i, 2, d, s, o);
        let _ = p.uvs;
        r.push(_.x0, _.y0, _.x1, _.y1, _.x3, _.y3, _.x2, _.y2);
        let v = ye.get(Br);
        v.indexOffset = o,
        v.indexSize = s.length - o,
        v.attributeOffset = d,
        v.attributeSize = i.length / 2 - d,
        v.baseColor = a.style,
        v.alpha = a.alpha,
        v.texture = p,
        v.geometryData = t,
        e.push(v)
    }
    function f0(a, e, t, i, r, s) {
        let {vertices: o, uvs: d, indices: h} = s
          , l = a.shapePrimitives.length - 1;
        a.shapePrimitives.forEach( ({shape: u, transform: p}, y) => {
            var _;
            let v = h.length
              , T = o.length / 2
              , A = []
              , P = Uo[u.type]
              , I = "triangle-list";
            if (P.build(u, A),
            p && q2(A, p),
            i) {
                let N = (_ = u.closePath) != null ? _ : !0
                  , j = e;
                j.pixelLine ? (Q6(A, N, o, h),
                I = "line-list") : Z6(A, j, !1, N, o, h)
            } else if (t && l === y) {
                let N = []
                  , j = A.slice();
                S7(t.shapePath).forEach(re => {
                    N.push(j.length / 2),
                    j.push(...re)
                }
                ),
                tp(j, N, o, 2, T, h, v)
            } else
                P.triangulate(A, o, 2, T, h, v);
            let F = d.length / 2
              , D = e.texture;
            if (D !== K.WHITE) {
                let N = e.matrix;
                N && (p && N.append(p.clone().invert()),
                N6(o, 2, T, d, F, 2, o.length / 2 - T, N))
            } else
                j6(d, F, 2, o.length / 2 - T);
            let H = ye.get(Br);
            H.indexOffset = v,
            H.indexSize = h.length - v,
            H.attributeOffset = T,
            H.attributeSize = o.length / 2 - T,
            H.baseColor = e.color,
            H.alpha = e.alpha,
            H.texture = D,
            H.geometryData = s,
            H.topology = I,
            r.push(H)
        }
        )
    }
    function S7(a) {
        if (!a)
            return [];
        let e = a.shapePrimitives
          , t = [];
        for (let i = 0; i < e.length; i++) {
            let r = e[i].shape
              , s = [];
            Uo[r.type].build(r, s),
            t.push(s)
        }
        return t
    }
    var Zd = class {
        constructor() {
            this.batches = [],
            this.geometryData = {
                vertices: [],
                uvs: [],
                indices: []
            }
        }
    }
      , Qd = class {
        constructor() {
            this.batcher = new wl,
            this.instructions = new zs
        }
        init() {
            this.instructions.reset()
        }
        get geometry() {
            return this.batcher.geometry
        }
    }
      , Jd = class eh {
        constructor(e) {
            this._gpuContextHash = {},
            this._graphicsDataContextHash = Object.create(null),
            e.renderableGC.addManagedHash(this, "_gpuContextHash"),
            e.renderableGC.addManagedHash(this, "_graphicsDataContextHash")
        }
        init(e) {
            var t;
            eh.defaultOptions.bezierSmoothness = (t = e?.bezierSmoothness) != null ? t : eh.defaultOptions.bezierSmoothness
        }
        getContextRenderData(e) {
            return this._graphicsDataContextHash[e.uid] || this._initContextRenderData(e)
        }
        updateGpuContext(e) {
            let t = this._gpuContextHash[e.uid] || this._initContext(e);
            if (e.dirty) {
                t ? this._cleanGraphicsContextData(e) : t = this._initContext(e),
                v7(e, t);
                let i = e.batchMode;
                e.customShader || i === "no-batch" ? t.isBatchable = !1 : i === "auto" && (t.isBatchable = t.geometryData.vertices.length < 400),
                e.dirty = !1
            }
            return t
        }
        getGpuContext(e) {
            return this._gpuContextHash[e.uid] || this._initContext(e)
        }
        _initContextRenderData(e) {
            let t = ye.get(Qd)
              , {batches: i, geometryData: r} = this._gpuContextHash[e.uid]
              , s = r.vertices.length
              , o = r.indices.length;
            for (let u = 0; u < i.length; u++)
                i[u].applyTransform = !1;
            let d = t.batcher;
            d.ensureAttributeBuffer(s),
            d.ensureIndexBuffer(o),
            d.begin();
            for (let u = 0; u < i.length; u++) {
                let p = i[u];
                d.add(p)
            }
            d.finish(t.instructions);
            let h = d.geometry;
            h.indexBuffer.setDataWithSize(d.indexBuffer, d.indexSize, !0),
            h.buffers[0].setDataWithSize(d.attributeBuffer.float32View, d.attributeSize, !0);
            let l = d.batches;
            for (let u = 0; u < l.length; u++) {
                let p = l[u];
                p.bindGroup = _l(p.textures.textures, p.textures.count)
            }
            return this._graphicsDataContextHash[e.uid] = t,
            t
        }
        _initContext(e) {
            let t = new Zd;
            return t.context = e,
            this._gpuContextHash[e.uid] = t,
            e.on("destroy", this.onGraphicsContextDestroy, this),
            this._gpuContextHash[e.uid]
        }
        onGraphicsContextDestroy(e) {
            this._cleanGraphicsContextData(e),
            e.off("destroy", this.onGraphicsContextDestroy, this),
            this._gpuContextHash[e.uid] = null
        }
        _cleanGraphicsContextData(e) {
            let t = this._gpuContextHash[e.uid];
            t.isBatchable || this._graphicsDataContextHash[e.uid] && (ye.return(this.getContextRenderData(e)),
            this._graphicsDataContextHash[e.uid] = null),
            t.batches && t.batches.forEach(i => {
                ye.return(i)
            }
            )
        }
        destroy() {
            for (let e in this._gpuContextHash)
                this._gpuContextHash[e] && this.onGraphicsContextDestroy(this._gpuContextHash[e].context)
        }
    }
    ;
    Jd.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem, B.CanvasSystem],
        name: "graphicsContext"
    },
    Jd.defaultOptions = {
        bezierSmoothness: .5
    };
    var Al = Jd
      , w7 = {
        normal: 0,
        add: 1,
        multiply: 2,
        screen: 3,
        overlay: 4,
        erase: 5,
        "normal-npm": 6,
        "add-npm": 7,
        "screen-npm": 8,
        min: 9,
        max: 10
    }
      , zc = 0
      , Vc = 1
      , Wc = 2
      , Yc = 3
      , $c = 4
      , Kc = 5
      , th = class ap {
        constructor() {
            this.data = 0,
            this.blendMode = "normal",
            this.polygonOffset = 0,
            this.blend = !0,
            this.depthMask = !0
        }
        get blend() {
            return !!(this.data & 1 << zc)
        }
        set blend(e) {
            !!(this.data & 1 << zc) !== e && (this.data ^= 1 << zc)
        }
        get offsets() {
            return !!(this.data & 1 << Vc)
        }
        set offsets(e) {
            !!(this.data & 1 << Vc) !== e && (this.data ^= 1 << Vc)
        }
        set cullMode(e) {
            if (e === "none") {
                this.culling = !1;
                return
            }
            this.culling = !0,
            this.clockwiseFrontFace = e === "front"
        }
        get cullMode() {
            return this.culling ? this.clockwiseFrontFace ? "front" : "back" : "none"
        }
        get culling() {
            return !!(this.data & 1 << Wc)
        }
        set culling(e) {
            !!(this.data & 1 << Wc) !== e && (this.data ^= 1 << Wc)
        }
        get depthTest() {
            return !!(this.data & 1 << Yc)
        }
        set depthTest(e) {
            !!(this.data & 1 << Yc) !== e && (this.data ^= 1 << Yc)
        }
        get depthMask() {
            return !!(this.data & 1 << Kc)
        }
        set depthMask(e) {
            !!(this.data & 1 << Kc) !== e && (this.data ^= 1 << Kc)
        }
        get clockwiseFrontFace() {
            return !!(this.data & 1 << $c)
        }
        set clockwiseFrontFace(e) {
            !!(this.data & 1 << $c) !== e && (this.data ^= 1 << $c)
        }
        get blendMode() {
            return this._blendMode
        }
        set blendMode(e) {
            this.blend = e !== "none",
            this._blendMode = e,
            this._blendModeId = w7[e] || 0
        }
        get polygonOffset() {
            return this._polygonOffset
        }
        set polygonOffset(e) {
            this.offsets = !!e,
            this._polygonOffset = e
        }
        static for2d() {
            let e = new ap;
            return e.depthTest = !1,
            e.blend = !0,
            e
        }
    }
    ;
    th.default2d = th.for2d();
    var Et = th;
    function Kr(a, e, t) {
        let i = (a >> 24 & 255) / 255;
        e[t++] = (a & 255) / 255 * i,
        e[t++] = (a >> 8 & 255) / 255 * i,
        e[t++] = (a >> 16 & 255) / 255 * i,
        e[t++] = i
    }
    var rn = class {
        constructor(e, t) {
            this.state = Et.for2d(),
            this._graphicsBatchesHash = Object.create(null),
            this._destroyRenderableBound = this.destroyRenderable.bind(this),
            this.renderer = e,
            this._adaptor = t,
            this._adaptor.init(),
            this.renderer.renderableGC.addManagedHash(this, "_graphicsBatchesHash")
        }
        validateRenderable(e) {
            let t = e.context
              , i = !!this._graphicsBatchesHash[e.uid]
              , r = this.renderer.graphicsContext.updateGpuContext(t);
            return !!(r.isBatchable || i !== r.isBatchable)
        }
        addRenderable(e, t) {
            let i = this.renderer.graphicsContext.updateGpuContext(e.context);
            e.didViewUpdate && this._rebuild(e),
            i.isBatchable ? this._addToBatcher(e, t) : (this.renderer.renderPipes.batch.break(t),
            t.add(e))
        }
        updateRenderable(e) {
            let t = this._graphicsBatchesHash[e.uid];
            if (t)
                for (let i = 0; i < t.length; i++) {
                    let r = t[i];
                    r._batcher.updateElement(r)
                }
        }
        destroyRenderable(e) {
            this._graphicsBatchesHash[e.uid] && this._removeBatchForRenderable(e.uid),
            e.off("destroyed", this._destroyRenderableBound)
        }
        execute(e) {
            if (!e.isRenderable)
                return;
            let t = this.renderer
              , i = e.context;
            if (!t.graphicsContext.getGpuContext(i).batches.length)
                return;
            let r = i.customShader || this._adaptor.shader;
            this.state.blendMode = e.groupBlendMode;
            let s = r.resources.localUniforms.uniforms;
            s.uTransformMatrix = e.groupTransform,
            s.uRound = t._roundPixels | e._roundPixels,
            Kr(e.groupColorAlpha, s.uColor, 0),
            this._adaptor.execute(this, e)
        }
        _rebuild(e) {
            let t = !!this._graphicsBatchesHash[e.uid]
              , i = this.renderer.graphicsContext.updateGpuContext(e.context);
            t && this._removeBatchForRenderable(e.uid),
            i.isBatchable && this._initBatchesForRenderable(e),
            e.batched = i.isBatchable
        }
        _addToBatcher(e, t) {
            let i = this.renderer.renderPipes.batch
              , r = this._getBatchesForRenderable(e);
            for (let s = 0; s < r.length; s++) {
                let o = r[s];
                i.addToBatch(o, t)
            }
        }
        _getBatchesForRenderable(e) {
            return this._graphicsBatchesHash[e.uid] || this._initBatchesForRenderable(e)
        }
        _initBatchesForRenderable(e) {
            let t = e.context
              , i = this.renderer.graphicsContext.getGpuContext(t)
              , r = this.renderer._roundPixels | e._roundPixels
              , s = i.batches.map(o => {
                let d = ye.get(Br);
                return o.copyTo(d),
                d.renderable = e,
                d.roundPixels = r,
                d
            }
            );
            return this._graphicsBatchesHash[e.uid] === void 0 && e.on("destroyed", this._destroyRenderableBound),
            this._graphicsBatchesHash[e.uid] = s,
            s
        }
        _removeBatchForRenderable(e) {
            this._graphicsBatchesHash[e].forEach(t => {
                ye.return(t)
            }
            ),
            this._graphicsBatchesHash[e] = null
        }
        destroy() {
            this.renderer = null,
            this._adaptor.destroy(),
            this._adaptor = null,
            this.state = null;
            for (let e in this._graphicsBatchesHash)
                this._removeBatchForRenderable(e);
            this._graphicsBatchesHash = null
        }
    }
    ;
    rn.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "graphics"
    },
    pe.add(rn),
    pe.add(Al);
    var Lr = class {
        constructor() {
            this.batcherName = "default",
            this.packAsQuad = !1,
            this.indexOffset = 0,
            this.attributeOffset = 0,
            this.roundPixels = 0,
            this._batcher = null,
            this._batch = null,
            this._uvUpdateId = -1,
            this._textureMatrixUpdateId = -1
        }
        get blendMode() {
            return this.renderable.groupBlendMode
        }
        get topology() {
            return this._topology || this.geometry.topology
        }
        set topology(e) {
            this._topology = e
        }
        reset() {
            this.renderable = null,
            this.texture = null,
            this._batcher = null,
            this._batch = null,
            this.geometry = null,
            this._uvUpdateId = -1,
            this._textureMatrixUpdateId = -1
        }
        setTexture(e) {
            this.texture !== e && (this.texture = e,
            this._textureMatrixUpdateId = -1)
        }
        get uvs() {
            let e = this.geometry.getBuffer("aUV")
              , t = e.data
              , i = t
              , r = this.texture.textureMatrix;
            return r.isSimple || (i = this._transformedUvs,
            (this._textureMatrixUpdateId !== r._updateID || this._uvUpdateId !== e._updateID) && ((!i || i.length < t.length) && (i = this._transformedUvs = new Float32Array(t.length)),
            this._textureMatrixUpdateId = r._updateID,
            this._uvUpdateId = e._updateID,
            r.multiplyUvs(t, i))),
            i
        }
        get positions() {
            return this.geometry.positions
        }
        get indices() {
            return this.geometry.indices
        }
        get color() {
            return this.renderable.groupColorAlpha
        }
        get groupTransform() {
            return this.renderable.groupTransform
        }
        get attributeSize() {
            return this.geometry.positions.length / 2
        }
        get indexSize() {
            return this.geometry.indices.length
        }
    }
      , sn = class {
        constructor(e, t) {
            this.localUniforms = new Je({
                uTransformMatrix: {
                    value: new ie,
                    type: "mat3x3<f32>"
                },
                uColor: {
                    value: new Float32Array([1, 1, 1, 1]),
                    type: "vec4<f32>"
                },
                uRound: {
                    value: 0,
                    type: "f32"
                }
            }),
            this.localUniformsBindGroup = new Ht({
                0: this.localUniforms
            }),
            this._meshDataHash = Object.create(null),
            this._gpuBatchableMeshHash = Object.create(null),
            this._destroyRenderableBound = this.destroyRenderable.bind(this),
            this.renderer = e,
            this._adaptor = t,
            this._adaptor.init(),
            e.renderableGC.addManagedHash(this, "_gpuBatchableMeshHash"),
            e.renderableGC.addManagedHash(this, "_meshDataHash")
        }
        validateRenderable(e) {
            let t = this._getMeshData(e)
              , i = t.batched
              , r = e.batched;
            if (t.batched = r,
            i !== r)
                return !0;
            if (r) {
                let s = e._geometry;
                if (s.indices.length !== t.indexSize || s.positions.length !== t.vertexSize)
                    return t.indexSize = s.indices.length,
                    t.vertexSize = s.positions.length,
                    !0;
                let o = this._getBatchableMesh(e);
                return !o._batcher.checkAndUpdateTexture(o, e.texture)
            }
            return !1
        }
        addRenderable(e, t) {
            let i = this.renderer.renderPipes.batch
              , {batched: r} = this._getMeshData(e);
            if (r) {
                let s = this._getBatchableMesh(e);
                s.texture = e._texture,
                s.geometry = e._geometry,
                i.addToBatch(s, t)
            } else
                i.break(t),
                t.add(e)
        }
        updateRenderable(e) {
            if (e.batched) {
                let t = this._gpuBatchableMeshHash[e.uid];
                t.setTexture(e._texture),
                t.geometry = e._geometry,
                t._batcher.updateElement(t)
            }
        }
        destroyRenderable(e) {
            this._meshDataHash[e.uid] = null;
            let t = this._gpuBatchableMeshHash[e.uid];
            t && (ye.return(t),
            this._gpuBatchableMeshHash[e.uid] = null),
            e.off("destroyed", this._destroyRenderableBound)
        }
        execute(e) {
            if (!e.isRenderable)
                return;
            e.state.blendMode = Ir(e.groupBlendMode, e.texture._source);
            let t = this.localUniforms;
            t.uniforms.uTransformMatrix = e.groupTransform,
            t.uniforms.uRound = this.renderer._roundPixels | e._roundPixels,
            t.update(),
            Kr(e.groupColorAlpha, t.uniforms.uColor, 0),
            this._adaptor.execute(this, e)
        }
        _getMeshData(e) {
            return this._meshDataHash[e.uid] || this._initMeshData(e)
        }
        _initMeshData(e) {
            var t, i;
            return this._meshDataHash[e.uid] = {
                batched: e.batched,
                indexSize: (t = e._geometry.indices) == null ? void 0 : t.length,
                vertexSize: (i = e._geometry.positions) == null ? void 0 : i.length
            },
            e.on("destroyed", this._destroyRenderableBound),
            this._meshDataHash[e.uid]
        }
        _getBatchableMesh(e) {
            return this._gpuBatchableMeshHash[e.uid] || this._initBatchableMesh(e)
        }
        _initBatchableMesh(e) {
            let t = ye.get(Lr);
            return t.renderable = e,
            t.texture = e._texture,
            t.transform = e.groupTransform,
            t.roundPixels = this.renderer._roundPixels | e._roundPixels,
            this._gpuBatchableMeshHash[e.uid] = t,
            t
        }
        destroy() {
            for (let e in this._gpuBatchableMeshHash)
                this._gpuBatchableMeshHash[e] && ye.return(this._gpuBatchableMeshHash[e]);
            this._gpuBatchableMeshHash = null,
            this._meshDataHash = null,
            this.localUniforms = null,
            this.localUniformsBindGroup = null,
            this._adaptor.destroy(),
            this._adaptor = null,
            this.renderer = null
        }
    }
    ;
    sn.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "mesh"
    },
    pe.add(sn);
    var ah = class {
        execute(e, t) {
            let i = e.state
              , r = e.renderer
              , s = t.shader || e.defaultShader;
            s.resources.uTexture = t.texture._source,
            s.resources.uniforms = e.localUniforms;
            let o = r.gl
              , d = e.getBuffers(t);
            r.shader.bind(s),
            r.state.set(i),
            r.geometry.bind(d.geometry, s.glProgram);
            let h = d.geometry.indexBuffer.data.BYTES_PER_ELEMENT === 2 ? o.UNSIGNED_SHORT : o.UNSIGNED_INT;
            o.drawElements(o.TRIANGLES, t.particleChildren.length * 6, h, 0)
        }
    }
    ;
    function u0(a, e=null) {
        let t = a * 6;
        if (t > 65535 ? e || (e = new Uint32Array(t)) : e || (e = new Uint16Array(t)),
        e.length !== t)
            throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${t}`);
        for (let i = 0, r = 0; i < t; i += 6,
        r += 4)
            e[i + 0] = r + 0,
            e[i + 1] = r + 1,
            e[i + 2] = r + 2,
            e[i + 3] = r + 0,
            e[i + 4] = r + 2,
            e[i + 5] = r + 3;
        return e
    }
    function A7(a) {
        return {
            dynamicUpdate: b0(a, !0),
            staticUpdate: b0(a, !1)
        }
    }
    function b0(a, e) {
        let t = [];
        t.push(`

var index = 0;

for (let i = 0; i < ps.length; ++i)
{
const p = ps[i];

`);
        let i = 0;
        for (let s in a) {
            let o = a[s];
            if (e !== o.dynamic)
                continue;
            t.push(`offset = index + ${i}`),
            t.push(o.code);
            let d = Oa(o.format);
            i += d.stride / 4
        }
        t.push(`
index += stride * 4;
}
`),
        t.unshift(`
var stride = ${i};
`);
        let r = t.join(`
`);
        return new Function("ps","f32v","u32v",r)
    }
    var ih = class {
        constructor(e) {
            this._size = 0,
            this._generateParticleUpdateCache = {};
            var t;
            let i = this._size = (t = e.size) != null ? t : 1e3
              , r = e.properties
              , s = 0
              , o = 0;
            for (let p in r) {
                let y = r[p]
                  , _ = Oa(y.format);
                y.dynamic ? o += _.stride : s += _.stride
            }
            this._dynamicStride = o / 4,
            this._staticStride = s / 4,
            this.staticAttributeBuffer = new Pa(i * 4 * s),
            this.dynamicAttributeBuffer = new Pa(i * 4 * o),
            this.indexBuffer = u0(i);
            let d = new Zt
              , h = 0
              , l = 0;
            this._staticBuffer = new rt({
                data: new Float32Array(1),
                label: "static-particle-buffer",
                shrinkToFit: !1,
                usage: ve.VERTEX | ve.COPY_DST
            }),
            this._dynamicBuffer = new rt({
                data: new Float32Array(1),
                label: "dynamic-particle-buffer",
                shrinkToFit: !1,
                usage: ve.VERTEX | ve.COPY_DST
            });
            for (let p in r) {
                let y = r[p]
                  , _ = Oa(y.format);
                y.dynamic ? (d.addAttribute(y.attributeName, {
                    buffer: this._dynamicBuffer,
                    stride: this._dynamicStride * 4,
                    offset: h * 4,
                    format: y.format
                }),
                h += _.size) : (d.addAttribute(y.attributeName, {
                    buffer: this._staticBuffer,
                    stride: this._staticStride * 4,
                    offset: l * 4,
                    format: y.format
                }),
                l += _.size)
            }
            d.addIndex(this.indexBuffer);
            let u = this.getParticleUpdate(r);
            this._dynamicUpload = u.dynamicUpdate,
            this._staticUpload = u.staticUpdate,
            this.geometry = d
        }
        getParticleUpdate(e) {
            let t = E7(e);
            return this._generateParticleUpdateCache[t] ? this._generateParticleUpdateCache[t] : (this._generateParticleUpdateCache[t] = this.generateParticleUpdate(e),
            this._generateParticleUpdateCache[t])
        }
        generateParticleUpdate(e) {
            return A7(e)
        }
        update(e, t) {
            e.length > this._size && (t = !0,
            this._size = Math.max(e.length, this._size * 1.5 | 0),
            this.staticAttributeBuffer = new Pa(this._size * this._staticStride * 4 * 4),
            this.dynamicAttributeBuffer = new Pa(this._size * this._dynamicStride * 4 * 4),
            this.indexBuffer = u0(this._size),
            this.geometry.indexBuffer.setDataWithSize(this.indexBuffer, this.indexBuffer.byteLength, !0));
            let i = this.dynamicAttributeBuffer;
            if (this._dynamicUpload(e, i.float32View, i.uint32View),
            this._dynamicBuffer.setDataWithSize(this.dynamicAttributeBuffer.float32View, e.length * this._dynamicStride * 4, !0),
            t) {
                let r = this.staticAttributeBuffer;
                this._staticUpload(e, r.float32View, r.uint32View),
                this._staticBuffer.setDataWithSize(r.float32View, e.length * this._staticStride * 4, !0)
            }
        }
        destroy() {
            this._staticBuffer.destroy(),
            this._dynamicBuffer.destroy(),
            this.geometry.destroy()
        }
    }
    ;
    function E7(a) {
        let e = [];
        for (let t in a) {
            let i = a[t];
            e.push(t, i.code, i.dynamic ? "d" : "s")
        }
        return e.join("_")
    }
    var P7 = `varying vec2 vUV;
varying vec4 vColor;

uniform sampler2D uTexture;

void main(void){
vec4 color = texture2D(uTexture, vUV) * vColor;
gl_FragColor = color;
}`
      , R7 = `attribute vec2 aVertex;
attribute vec2 aUV;
attribute vec4 aColor;

attribute vec2 aPosition;
attribute float aRotation;

uniform mat3 uTranslationMatrix;
uniform float uRound;
uniform vec2 uResolution;
uniform vec4 uColor;

varying vec2 vUV;
varying vec4 vColor;

vec2 roundPixels(vec2 position, vec2 targetSize)
{       
return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
}

void main(void){
float cosRotation = cos(aRotation);
float sinRotation = sin(aRotation);
float x = aVertex.x * cosRotation - aVertex.y * sinRotation;
float y = aVertex.x * sinRotation + aVertex.y * cosRotation;

vec2 v = vec2(x, y);
v = v + aPosition;

gl_Position = vec4((uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

if(uRound == 1.0)
{
gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
}

vUV = aUV;
vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uColor;
}
`
      , p0 = `
struct ParticleUniforms {
uProjectionMatrix:mat3x3<f32>,
uColor:vec4<f32>,
uResolution:vec2<f32>,
uRoundPixels:f32,
};

@group(0) @binding(0) var<uniform> uniforms: ParticleUniforms;

@group(1) @binding(0) var uTexture: texture_2d<f32>;
@group(1) @binding(1) var uSampler : sampler;

struct VSOutput {
@builtin(position) position: vec4<f32>,
@location(0) uv : vec2<f32>,
@location(1) color : vec4<f32>,
};
@vertex
fn mainVertex(
@location(0) aVertex: vec2<f32>,
@location(1) aPosition: vec2<f32>,
@location(2) aUV: vec2<f32>,
@location(3) aColor: vec4<f32>,
@location(4) aRotation: f32,
) -> VSOutput {

let v = vec2(
aVertex.x * cos(aRotation) - aVertex.y * sin(aRotation),
aVertex.x * sin(aRotation) + aVertex.y * cos(aRotation)
) + aPosition;

let position = vec4((uniforms.uProjectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

let vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uniforms.uColor;

return VSOutput(
position,
aUV,
vColor,
);
}

@fragment
fn mainFragment(
@location(0) uv: vec2<f32>,
@location(1) color: vec4<f32>,
@builtin(position) position: vec4<f32>,
) -> @location(0) vec4<f32> {

var sample = textureSample(uTexture, uSampler, uv) * color;

return sample;
}`
      , rh = class extends ht {
        constructor() {
            let e = ua.from({
                vertex: R7,
                fragment: P7
            })
              , t = Qt.from({
                fragment: {
                    source: p0,
                    entryPoint: "mainFragment"
                },
                vertex: {
                    source: p0,
                    entryPoint: "mainVertex"
                }
            });
            super({
                glProgram: e,
                gpuProgram: t,
                resources: {
                    uTexture: K.WHITE.source,
                    uSampler: new g2({}),
                    uniforms: {
                        uTranslationMatrix: {
                            value: new ie,
                            type: "mat3x3<f32>"
                        },
                        uColor: {
                            value: new Ee(16777215),
                            type: "vec4<f32>"
                        },
                        uRound: {
                            value: 1,
                            type: "f32"
                        },
                        uResolution: {
                            value: [0, 0],
                            type: "vec2<f32>"
                        }
                    }
                }
            })
        }
    }
      , nn = class {
        constructor(e, t) {
            this.state = Et.for2d(),
            this._gpuBufferHash = Object.create(null),
            this._destroyRenderableBound = this.destroyRenderable.bind(this),
            this.localUniforms = new Je({
                uTranslationMatrix: {
                    value: new ie,
                    type: "mat3x3<f32>"
                },
                uColor: {
                    value: new Float32Array(4),
                    type: "vec4<f32>"
                },
                uRound: {
                    value: 1,
                    type: "f32"
                },
                uResolution: {
                    value: [0, 0],
                    type: "vec2<f32>"
                }
            }),
            this.renderer = e,
            this.adaptor = t,
            this.defaultShader = new rh,
            this.state = Et.for2d()
        }
        validateRenderable(e) {
            return !1
        }
        addRenderable(e, t) {
            this.renderer.renderPipes.batch.break(t),
            t.add(e)
        }
        getBuffers(e) {
            return this._gpuBufferHash[e.uid] || this._initBuffer(e)
        }
        _initBuffer(e) {
            return this._gpuBufferHash[e.uid] = new ih({
                size: e.particleChildren.length,
                properties: e._properties
            }),
            e.on("destroyed", this._destroyRenderableBound),
            this._gpuBufferHash[e.uid]
        }
        updateRenderable(e) {}
        destroyRenderable(e) {
            this._gpuBufferHash[e.uid].destroy(),
            this._gpuBufferHash[e.uid] = null,
            e.off("destroyed", this._destroyRenderableBound)
        }
        execute(e) {
            let t = e.particleChildren;
            if (t.length === 0)
                return;
            let i = this.renderer
              , r = this.getBuffers(e);
            e.texture || (e.texture = t[0].texture);
            let s = this.state;
            r.update(t, e._childrenDirty),
            e._childrenDirty = !1,
            s.blendMode = Ir(e.blendMode, e.texture._source);
            let o = this.localUniforms.uniforms
              , d = o.uTranslationMatrix;
            e.worldTransform.copyTo(d),
            d.prepend(i.globalUniforms.globalUniformData.projectionMatrix),
            o.uResolution = i.globalUniforms.globalUniformData.resolution,
            o.uRound = i._roundPixels | e._roundPixels,
            Kr(e.groupColorAlpha, o.uColor, 0),
            this.adaptor.execute(this, e)
        }
        destroy() {
            this.defaultShader && (this.defaultShader.destroy(),
            this.defaultShader = null)
        }
    }
      , on = class extends nn {
        constructor(e) {
            super(e, new ah)
        }
    }
    ;
    on.extension = {
        type: [B.WebGLPipes],
        name: "particle"
    };
    var sh = class {
        execute(e, t) {
            let i = e.renderer
              , r = t.shader || e.defaultShader;
            r.groups[0] = i.renderPipes.uniformBatch.getUniformBindGroup(e.localUniforms, !0),
            r.groups[1] = i.texture.getTextureBindGroup(t.texture);
            let s = e.state
              , o = e.getBuffers(t);
            i.encoder.draw({
                geometry: o.geometry,
                shader: t.shader || e.defaultShader,
                state: s,
                size: t.particleChildren.length * 6
            })
        }
    }
      , cn = class extends nn {
        constructor(e) {
            super(e, new sh)
        }
    }
    ;
    cn.extension = {
        type: [B.WebGPUPipes],
        name: "particle"
    },
    pe.add(on),
    pe.add(cn);
    var Ri = class {
        constructor() {
            this.batcherName = "default",
            this.topology = "triangle-list",
            this.attributeSize = 4,
            this.indexSize = 6,
            this.packAsQuad = !0,
            this.roundPixels = 0,
            this._attributeStart = 0,
            this._batcher = null,
            this._batch = null
        }
        get blendMode() {
            return this.renderable.groupBlendMode
        }
        get color() {
            return this.renderable.groupColorAlpha
        }
        reset() {
            this.renderable = null,
            this.texture = null,
            this._batcher = null,
            this._batch = null,
            this.bounds = null
        }
    }
    ;
    function nh(a, e) {
        let {texture: t, bounds: i} = a;
        E2(i, e._anchor, t);
        let r = e._style.padding;
        i.minX -= r,
        i.minY -= r,
        i.maxX -= r,
        i.maxY -= r
    }
    var dn = class {
        constructor(e) {
            this._gpuText = Object.create(null),
            this._destroyRenderableBound = this.destroyRenderable.bind(this),
            this._renderer = e,
            this._renderer.runners.resolutionChange.add(this),
            this._renderer.renderableGC.addManagedHash(this, "_gpuText")
        }
        resolutionChange() {
            for (let e in this._gpuText) {
                let t = this._gpuText[e];
                if (!t)
                    continue;
                let i = t.batchableSprite.renderable;
                i._autoResolution && (i._resolution = this._renderer.resolution,
                i.onViewUpdate())
            }
        }
        validateRenderable(e) {
            let t = this._getGpuText(e)
              , i = e._getKey();
            return t.currentKey !== i
        }
        addRenderable(e, t) {
            let i = this._getGpuText(e).batchableSprite;
            e._didTextUpdate && this._updateText(e),
            this._renderer.renderPipes.batch.addToBatch(i, t)
        }
        updateRenderable(e) {
            let t = this._getGpuText(e).batchableSprite;
            e._didTextUpdate && this._updateText(e),
            t._batcher.updateElement(t)
        }
        destroyRenderable(e) {
            e.off("destroyed", this._destroyRenderableBound),
            this._destroyRenderableById(e.uid)
        }
        _destroyRenderableById(e) {
            let t = this._gpuText[e];
            this._renderer.canvasText.decreaseReferenceCount(t.currentKey),
            ye.return(t.batchableSprite),
            this._gpuText[e] = null
        }
        _updateText(e) {
            let t = e._getKey()
              , i = this._getGpuText(e)
              , r = i.batchableSprite;
            i.currentKey !== t && this._updateGpuText(e),
            e._didTextUpdate = !1,
            nh(r, e)
        }
        _updateGpuText(e) {
            let t = this._getGpuText(e)
              , i = t.batchableSprite;
            t.texture && this._renderer.canvasText.decreaseReferenceCount(t.currentKey),
            t.texture = i.texture = this._renderer.canvasText.getManagedTexture(e),
            t.currentKey = e._getKey(),
            i.texture = t.texture
        }
        _getGpuText(e) {
            return this._gpuText[e.uid] || this.initGpuText(e)
        }
        initGpuText(e) {
            let t = {
                texture: null,
                currentKey: "--",
                batchableSprite: ye.get(Ri)
            };
            return t.batchableSprite.renderable = e,
            t.batchableSprite.transform = e.groupTransform,
            t.batchableSprite.bounds = {
                minX: 0,
                maxX: 1,
                minY: 0,
                maxY: 0
            },
            t.batchableSprite.roundPixels = this._renderer._roundPixels | e._roundPixels,
            this._gpuText[e.uid] = t,
            e._resolution = e._autoResolution ? this._renderer.resolution : e.resolution,
            this._updateText(e),
            e.on("destroyed", this._destroyRenderableBound),
            t
        }
        destroy() {
            for (let e in this._gpuText)
                this._destroyRenderableById(e);
            this._gpuText = null,
            this._renderer = null
        }
    }
    ;
    dn.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "text"
    };
    var oh = class {
        constructor(e) {
            this._canvasPool = Object.create(null),
            this.canvasOptions = e || {},
            this.enableFullScreen = !1
        }
        _createCanvasAndContext(e, t) {
            let i = xe.get().createCanvas();
            i.width = e,
            i.height = t;
            let r = i.getContext("2d");
            return {
                canvas: i,
                context: r
            }
        }
        getOptimalCanvasAndContext(e, t, i=1) {
            e = Math.ceil(e * i - 1e-6),
            t = Math.ceil(t * i - 1e-6),
            e = Ei(e),
            t = Ei(t);
            let r = (e << 17) + (t << 1);
            this._canvasPool[r] || (this._canvasPool[r] = []);
            let s = this._canvasPool[r].pop();
            return s || (s = this._createCanvasAndContext(e, t)),
            s
        }
        returnCanvasAndContext(e) {
            let t = e.canvas
              , {width: i, height: r} = t
              , s = (i << 17) + (r << 1);
            e.context.clearRect(0, 0, i, r),
            this._canvasPool[s].push(e)
        }
        clear() {
            this._canvasPool = {}
        }
    }
      , da = new oh;
    function g0(a, e, t) {
        for (let i = 0, r = 4 * t * e; i < e; ++i,
        r += 4)
            if (a[r + 3] !== 0)
                return !1;
        return !0
    }
    function m0(a, e, t, i, r) {
        let s = 4 * e;
        for (let o = i, d = i * s + 4 * t; o <= r; ++o,
        d += s)
            if (a[d + 3] !== 0)
                return !1;
        return !0
    }
    function M7(a, e=1) {
        let {width: t, height: i} = a
          , r = a.getContext("2d", {
            willReadFrequently: !0
        });
        if (r === null)
            throw new TypeError("Failed to get canvas 2D context");
        let s = r.getImageData(0, 0, t, i).data
          , o = 0
          , d = 0
          , h = t - 1
          , l = i - 1;
        for (; d < i && g0(s, t, d); )
            ++d;
        if (d === i)
            return Pe.EMPTY;
        for (; g0(s, t, l); )
            --l;
        for (; m0(s, t, o, d, l); )
            ++o;
        for (; m0(s, t, h, d, l); )
            --h;
        return ++h,
        ++l,
        new Pe(o / e,d / e,(h - o) / e,(l - d) / e)
    }
    var ip = class ch {
        constructor(e, t, i, r) {
            this.uid = Be("fillGradient"),
            this.type = "linear",
            this.gradientStops = [],
            this._styleKey = null,
            this.x0 = e,
            this.y0 = t,
            this.x1 = i,
            this.y1 = r
        }
        addColorStop(e, t) {
            return this.gradientStops.push({
                offset: e,
                color: Ee.shared.setValue(t).toHexa()
            }),
            this._styleKey = null,
            this
        }
        buildLinearGradient() {
            if (this.texture)
                return;
            let e = ch.defaultTextureSize
              , {gradientStops: t} = this
              , i = xe.get().createCanvas();
            i.width = e,
            i.height = e;
            let r = i.getContext("2d")
              , s = r.createLinearGradient(0, 0, ch.defaultTextureSize, 1);
            for (let T = 0; T < t.length; T++) {
                let A = t[T];
                s.addColorStop(A.offset, A.color)
            }
            r.fillStyle = s,
            r.fillRect(0, 0, e, e),
            this.texture = new K({
                source: new Ca({
                    resource: i,
                    addressModeU: "clamp-to-edge",
                    addressModeV: "repeat"
                })
            });
            let {x0: o, y0: d, x1: h, y1: l} = this
              , u = new ie
              , p = h - o
              , y = l - d
              , _ = Math.sqrt(p * p + y * y)
              , v = Math.atan2(y, p);
            u.translate(-o, -d),
            u.scale(1 / e, 1 / e),
            u.rotate(-v),
            u.scale(256 / _, 1),
            this.transform = u,
            this._styleKey = null
        }
        get styleKey() {
            if (this._styleKey)
                return this._styleKey;
            let e = this.gradientStops.map(r => `${r.offset}-${r.color}`).join("-")
              , t = this.texture.uid
              , i = this.transform.toArray().join("-");
            return `fill-gradient-${this.uid}-${e}-${t}-${i}-${this.x0}-${this.y0}-${this.x1}-${this.y1}`
        }
    }
    ;
    ip.defaultTextureSize = 256;
    var Nr = ip
      , _0 = {
        repeat: {
            addressModeU: "repeat",
            addressModeV: "repeat"
        },
        "repeat-x": {
            addressModeU: "repeat",
            addressModeV: "clamp-to-edge"
        },
        "repeat-y": {
            addressModeU: "clamp-to-edge",
            addressModeV: "repeat"
        },
        "no-repeat": {
            addressModeU: "clamp-to-edge",
            addressModeV: "clamp-to-edge"
        }
    }
      , Mi = class {
        constructor(e, t) {
            this.uid = Be("fillPattern"),
            this.transform = new ie,
            this._styleKey = null,
            this.texture = e,
            this.transform.scale(1 / e.frame.width, 1 / e.frame.height),
            t && (e.source.style.addressModeU = _0[t].addressModeU,
            e.source.style.addressModeV = _0[t].addressModeV)
        }
        setTransform(e) {
            let t = this.texture;
            this.transform.copyFrom(e),
            this.transform.invert(),
            this.transform.scale(1 / t.frame.width, 1 / t.frame.height),
            this._styleKey = null
        }
        get styleKey() {
            return this._styleKey ? this._styleKey : (this._styleKey = `fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,
            this._styleKey)
        }
    }
      , C7 = I7
      , qc = {
        a: 7,
        c: 6,
        h: 1,
        l: 2,
        m: 2,
        q: 4,
        s: 4,
        t: 2,
        v: 1,
        z: 0
    }
      , O7 = /([astvzqmhlc])([^astvzqmhlc]*)/ig;
    function I7(a) {
        var e = [];
        return a.replace(O7, function(t, i, r) {
            var s = i.toLowerCase();
            for (r = B7(r),
            s == "m" && r.length > 2 && (e.push([i].concat(r.splice(0, 2))),
            s = "l",
            i = i == "m" ? "l" : "L"); ; ) {
                if (r.length == qc[s])
                    return r.unshift(i),
                    e.push(r);
                if (r.length < qc[s])
                    throw new Error("malformed path data");
                e.push([i].concat(r.splice(0, qc[s])))
            }
        }),
        e
    }
    var G7 = /-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;
    function B7(a) {
        var e = a.match(G7);
        return e ? e.map(Number) : []
    }
    var F7 = ul(C7);
    function D7(a, e) {
        let t = F7(a)
          , i = []
          , r = null
          , s = 0
          , o = 0;
        for (let d = 0; d < t.length; d++) {
            let h = t[d]
              , l = h[0]
              , u = h;
            switch (l) {
            case "M":
                s = u[1],
                o = u[2],
                e.moveTo(s, o);
                break;
            case "m":
                s += u[1],
                o += u[2],
                e.moveTo(s, o);
                break;
            case "H":
                s = u[1],
                e.lineTo(s, o);
                break;
            case "h":
                s += u[1],
                e.lineTo(s, o);
                break;
            case "V":
                o = u[1],
                e.lineTo(s, o);
                break;
            case "v":
                o += u[1],
                e.lineTo(s, o);
                break;
            case "L":
                s = u[1],
                o = u[2],
                e.lineTo(s, o);
                break;
            case "l":
                s += u[1],
                o += u[2],
                e.lineTo(s, o);
                break;
            case "C":
                s = u[5],
                o = u[6],
                e.bezierCurveTo(u[1], u[2], u[3], u[4], s, o);
                break;
            case "c":
                e.bezierCurveTo(s + u[1], o + u[2], s + u[3], o + u[4], s + u[5], o + u[6]),
                s += u[5],
                o += u[6];
                break;
            case "S":
                s = u[3],
                o = u[4],
                e.bezierCurveToShort(u[1], u[2], s, o);
                break;
            case "s":
                e.bezierCurveToShort(s + u[1], o + u[2], s + u[3], o + u[4]),
                s += u[3],
                o += u[4];
                break;
            case "Q":
                s = u[3],
                o = u[4],
                e.quadraticCurveTo(u[1], u[2], s, o);
                break;
            case "q":
                e.quadraticCurveTo(s + u[1], o + u[2], s + u[3], o + u[4]),
                s += u[3],
                o += u[4];
                break;
            case "T":
                s = u[1],
                o = u[2],
                e.quadraticCurveToShort(s, o);
                break;
            case "t":
                s += u[1],
                o += u[2],
                e.quadraticCurveToShort(s, o);
                break;
            case "A":
                s = u[6],
                o = u[7],
                e.arcToSvg(u[1], u[2], u[3], u[4], u[5], s, o);
                break;
            case "a":
                s += u[6],
                o += u[7],
                e.arcToSvg(u[1], u[2], u[3], u[4], u[5], s, o);
                break;
            case "Z":
            case "z":
                e.closePath(),
                i.length > 0 && (r = i.pop(),
                r ? (s = r.startX,
                o = r.startY) : (s = 0,
                o = 0)),
                r = null;
                break;
            default:
            }
            l !== "Z" && l !== "z" && r === null && (r = {
                startX: s,
                startY: o
            },
            i.push(r))
        }
        return e
    }
    var dh = class a {
        constructor(e=0, t=0, i=0) {
            this.type = "circle",
            this.x = e,
            this.y = t,
            this.radius = i
        }
        clone() {
            return new a(this.x,this.y,this.radius)
        }
        contains(e, t) {
            if (this.radius <= 0)
                return !1;
            let i = this.radius * this.radius
              , r = this.x - e
              , s = this.y - t;
            return r *= r,
            s *= s,
            r + s <= i
        }
        strokeContains(e, t, i, r=.5) {
            if (this.radius === 0)
                return !1;
            let s = this.x - e
              , o = this.y - t
              , d = this.radius
              , h = (1 - r) * i
              , l = Math.sqrt(s * s + o * o);
            return l <= d + h && l > d - (i - h)
        }
        getBounds(e) {
            return e || (e = new Pe),
            e.x = this.x - this.radius,
            e.y = this.y - this.radius,
            e.width = this.radius * 2,
            e.height = this.radius * 2,
            e
        }
        copyFrom(e) {
            return this.x = e.x,
            this.y = e.y,
            this.radius = e.radius,
            this
        }
        copyTo(e) {
            return e.copyFrom(this),
            e
        }
    }
      , hh = class a {
        constructor(e=0, t=0, i=0, r=0) {
            this.type = "ellipse",
            this.x = e,
            this.y = t,
            this.halfWidth = i,
            this.halfHeight = r
        }
        clone() {
            return new a(this.x,this.y,this.halfWidth,this.halfHeight)
        }
        contains(e, t) {
            if (this.halfWidth <= 0 || this.halfHeight <= 0)
                return !1;
            let i = (e - this.x) / this.halfWidth
              , r = (t - this.y) / this.halfHeight;
            return i *= i,
            r *= r,
            i + r <= 1
        }
        strokeContains(e, t, i, r=.5) {
            let {halfWidth: s, halfHeight: o} = this;
            if (s <= 0 || o <= 0)
                return !1;
            let d = i * (1 - r)
              , h = i - d
              , l = s - h
              , u = o - h
              , p = s + d
              , y = o + d
              , _ = e - this.x
              , v = t - this.y
              , T = _ * _ / (l * l) + v * v / (u * u)
              , A = _ * _ / (p * p) + v * v / (y * y);
            return T > 1 && A <= 1
        }
        getBounds(e) {
            return e || (e = new Pe),
            e.x = this.x - this.halfWidth,
            e.y = this.y - this.halfHeight,
            e.width = this.halfWidth * 2,
            e.height = this.halfHeight * 2,
            e
        }
        copyFrom(e) {
            return this.x = e.x,
            this.y = e.y,
            this.halfWidth = e.halfWidth,
            this.halfHeight = e.halfHeight,
            this
        }
        copyTo(e) {
            return e.copyFrom(this),
            e
        }
    }
    ;
    function k7(a, e, t, i, r, s) {
        let o = a - t
          , d = e - i
          , h = r - t
          , l = s - i
          , u = o * h + d * l
          , p = h * h + l * l
          , y = -1;
        p !== 0 && (y = u / p);
        let _, v;
        y < 0 ? (_ = t,
        v = i) : y > 1 ? (_ = r,
        v = s) : (_ = t + y * h,
        v = i + y * l);
        let T = a - _
          , A = e - v;
        return T * T + A * A
    }
    var Sr = class a {
        constructor(...e) {
            this.type = "polygon";
            let t = Array.isArray(e[0]) ? e[0] : e;
            if (typeof t[0] != "number") {
                let i = [];
                for (let r = 0, s = t.length; r < s; r++)
                    i.push(t[r].x, t[r].y);
                t = i
            }
            this.points = t,
            this.closePath = !0
        }
        clone() {
            let e = this.points.slice()
              , t = new a(e);
            return t.closePath = this.closePath,
            t
        }
        contains(e, t) {
            let i = !1
              , r = this.points.length / 2;
            for (let s = 0, o = r - 1; s < r; o = s++) {
                let d = this.points[s * 2]
                  , h = this.points[s * 2 + 1]
                  , l = this.points[o * 2]
                  , u = this.points[o * 2 + 1];
                h > t != u > t && e < (l - d) * ((t - h) / (u - h)) + d && (i = !i)
            }
            return i
        }
        strokeContains(e, t, i, r=.5) {
            let s = i * i
              , o = s * (1 - r)
              , d = s - o
              , {points: h} = this
              , l = h.length - (this.closePath ? 0 : 2);
            for (let u = 0; u < l; u += 2) {
                let p = h[u]
                  , y = h[u + 1]
                  , _ = h[(u + 2) % h.length]
                  , v = h[(u + 3) % h.length]
                  , T = k7(e, t, p, y, _, v)
                  , A = Math.sign((_ - p) * (t - y) - (v - y) * (e - p));
                if (T <= (A < 0 ? d : o))
                    return !0
            }
            return !1
        }
        getBounds(e) {
            e || (e = new Pe);
            let t = this.points
              , i = 1 / 0
              , r = -1 / 0
              , s = 1 / 0
              , o = -1 / 0;
            for (let d = 0, h = t.length; d < h; d += 2) {
                let l = t[d]
                  , u = t[d + 1];
                i = l < i ? l : i,
                r = l > r ? l : r,
                s = u < s ? u : s,
                o = u > o ? u : o
            }
            return e.x = i,
            e.width = r - i,
            e.y = s,
            e.height = o - s,
            e
        }
        copyFrom(e) {
            return this.points = e.points.slice(),
            this.closePath = e.closePath,
            this
        }
        copyTo(e) {
            return e.copyFrom(this),
            e
        }
        get lastX() {
            return this.points[this.points.length - 2]
        }
        get lastY() {
            return this.points[this.points.length - 1]
        }
        get x() {
            return this.points[this.points.length - 2]
        }
        get y() {
            return this.points[this.points.length - 1]
        }
    }
      , vs = (a, e, t, i, r, s, o) => {
        let d = a - t
          , h = e - i
          , l = Math.sqrt(d * d + h * h);
        return l >= r - s && l <= r + o
    }
      , lh = class a {
        constructor(e=0, t=0, i=0, r=0, s=20) {
            this.type = "roundedRectangle",
            this.x = e,
            this.y = t,
            this.width = i,
            this.height = r,
            this.radius = s
        }
        getBounds(e) {
            return e || (e = new Pe),
            e.x = this.x,
            e.y = this.y,
            e.width = this.width,
            e.height = this.height,
            e
        }
        clone() {
            return new a(this.x,this.y,this.width,this.height,this.radius)
        }
        copyFrom(e) {
            return this.x = e.x,
            this.y = e.y,
            this.width = e.width,
            this.height = e.height,
            this
        }
        copyTo(e) {
            return e.copyFrom(this),
            e
        }
        contains(e, t) {
            if (this.width <= 0 || this.height <= 0)
                return !1;
            if (e >= this.x && e <= this.x + this.width && t >= this.y && t <= this.y + this.height) {
                let i = Math.max(0, Math.min(this.radius, Math.min(this.width, this.height) / 2));
                if (t >= this.y + i && t <= this.y + this.height - i || e >= this.x + i && e <= this.x + this.width - i)
                    return !0;
                let r = e - (this.x + i)
                  , s = t - (this.y + i)
                  , o = i * i;
                if (r * r + s * s <= o || (r = e - (this.x + this.width - i),
                r * r + s * s <= o) || (s = t - (this.y + this.height - i),
                r * r + s * s <= o) || (r = e - (this.x + i),
                r * r + s * s <= o))
                    return !0
            }
            return !1
        }
        strokeContains(e, t, i, r=.5) {
            let {x: s, y: o, width: d, height: h, radius: l} = this
              , u = i * (1 - r)
              , p = i - u
              , y = s + l
              , _ = o + l
              , v = d - l * 2
              , T = h - l * 2
              , A = s + d
              , P = o + h;
            return (e >= s - u && e <= s + p || e >= A - p && e <= A + u) && t >= _ && t <= _ + T || (t >= o - u && t <= o + p || t >= P - p && t <= P + u) && e >= y && e <= y + v ? !0 : e < y && t < _ && vs(e, t, y, _, l, p, u) || e > A - l && t < _ && vs(e, t, A - l, _, l, p, u) || e > A - l && t > P - l && vs(e, t, A - l, P - l, l, p, u) || e < y && t > P - l && vs(e, t, y, P - l, l, p, u)
        }
    }
      , U7 = 8
      , Ts = 11920929e-14
      , L7 = 1
      , Zc = .01
      , bi = 0
      , Na = 0;
    function rp(a, e, t, i, r, s, o, d, h, l) {
        let u = Math.min(.99, Math.max(0, l ?? Al.defaultOptions.bezierSmoothness))
          , p = (L7 - u) / 1;
        return p *= p,
        N7(e, t, i, r, s, o, d, h, a, p),
        a
    }
    function N7(a, e, t, i, r, s, o, d, h, l) {
        fh(a, e, t, i, r, s, o, d, h, l, 0),
        h.push(o, d)
    }
    function fh(a, e, t, i, r, s, o, d, h, l, u) {
        if (u > U7)
            return;
        let p = Math.PI
          , y = (a + t) / 2
          , _ = (e + i) / 2
          , v = (t + r) / 2
          , T = (i + s) / 2
          , A = (r + o) / 2
          , P = (s + d) / 2
          , I = (y + v) / 2
          , F = (_ + T) / 2
          , D = (v + A) / 2
          , H = (T + P) / 2
          , N = (I + D) / 2
          , j = (F + H) / 2;
        if (u > 0) {
            let re = o - a, ce = d - e, Z = Math.abs((t - o) * ce - (i - d) * re), q = Math.abs((r - o) * ce - (s - d) * re), se, te;
            if (Z > Ts && q > Ts) {
                if ((Z + q) * (Z + q) <= l * (re * re + ce * ce)) {
                    if (bi < Zc) {
                        h.push(N, j);
                        return
                    }
                    let Ie = Math.atan2(s - i, r - t);
                    if (se = Math.abs(Ie - Math.atan2(i - e, t - a)),
                    te = Math.abs(Math.atan2(d - s, o - r) - Ie),
                    se >= p && (se = 2 * p - se),
                    te >= p && (te = 2 * p - te),
                    se + te < bi) {
                        h.push(N, j);
                        return
                    }
                    if (Na !== 0) {
                        if (se > Na) {
                            h.push(t, i);
                            return
                        }
                        if (te > Na) {
                            h.push(r, s);
                            return
                        }
                    }
                }
            } else if (Z > Ts) {
                if (Z * Z <= l * (re * re + ce * ce)) {
                    if (bi < Zc) {
                        h.push(N, j);
                        return
                    }
                    if (se = Math.abs(Math.atan2(s - i, r - t) - Math.atan2(i - e, t - a)),
                    se >= p && (se = 2 * p - se),
                    se < bi) {
                        h.push(t, i),
                        h.push(r, s);
                        return
                    }
                    if (Na !== 0 && se > Na) {
                        h.push(t, i);
                        return
                    }
                }
            } else if (q > Ts) {
                if (q * q <= l * (re * re + ce * ce)) {
                    if (bi < Zc) {
                        h.push(N, j);
                        return
                    }
                    if (se = Math.abs(Math.atan2(d - s, o - r) - Math.atan2(s - i, r - t)),
                    se >= p && (se = 2 * p - se),
                    se < bi) {
                        h.push(t, i),
                        h.push(r, s);
                        return
                    }
                    if (Na !== 0 && se > Na) {
                        h.push(r, s);
                        return
                    }
                }
            } else if (re = N - (a + o) / 2,
            ce = j - (e + d) / 2,
            re * re + ce * ce <= l) {
                h.push(N, j);
                return
            }
        }
        fh(a, e, y, _, I, F, N, j, h, l, u + 1),
        fh(N, j, D, H, A, P, o, d, h, l, u + 1)
    }
    var j7 = 8
      , X7 = 11920929e-14
      , H7 = 1
      , z7 = .01
      , y0 = 0;
    function V7(a, e, t, i, r, s, o, d) {
        let h = Math.min(.99, Math.max(0, d ?? Al.defaultOptions.bezierSmoothness))
          , l = (H7 - h) / 1;
        return l *= l,
        W7(e, t, i, r, s, o, a, l),
        a
    }
    function W7(a, e, t, i, r, s, o, d) {
        uh(o, a, e, t, i, r, s, d, 0),
        o.push(r, s)
    }
    function uh(a, e, t, i, r, s, o, d, h) {
        if (h > j7)
            return;
        let l = Math.PI
          , u = (e + i) / 2
          , p = (t + r) / 2
          , y = (i + s) / 2
          , _ = (r + o) / 2
          , v = (u + y) / 2
          , T = (p + _) / 2
          , A = s - e
          , P = o - t
          , I = Math.abs((i - s) * P - (r - o) * A);
        if (I > X7) {
            if (I * I <= d * (A * A + P * P)) {
                if (y0 < z7) {
                    a.push(v, T);
                    return
                }
                let F = Math.abs(Math.atan2(o - r, s - i) - Math.atan2(r - t, i - e));
                if (F >= l && (F = 2 * l - F),
                F < y0) {
                    a.push(v, T);
                    return
                }
            }
        } else if (A = v - (e + s) / 2,
        P = T - (t + o) / 2,
        A * A + P * P <= d) {
            a.push(v, T);
            return
        }
        uh(a, e, t, u, p, v, T, d, h + 1),
        uh(a, v, T, y, _, s, o, d, h + 1)
    }
    function sp(a, e, t, i, r, s, o, d) {
        let h = Math.abs(r - s);
        (!o && r > s || o && s > r) && (h = 2 * Math.PI - h),
        d || (d = Math.max(6, Math.floor(6 * Math.pow(i, 1 / 3) * (h / Math.PI)))),
        d = Math.max(d, 3);
        let l = h / d
          , u = r;
        l *= o ? -1 : 1;
        for (let p = 0; p < d + 1; p++) {
            let y = Math.cos(u)
              , _ = Math.sin(u)
              , v = e + y * i
              , T = t + _ * i;
            a.push(v, T),
            u += l
        }
    }
    function Y7(a, e, t, i, r, s) {
        let o = a[a.length - 2]
          , d = a[a.length - 1] - t
          , h = o - e
          , l = r - t
          , u = i - e
          , p = Math.abs(d * u - h * l);
        if (p < 1e-8 || s === 0) {
            (a[a.length - 2] !== e || a[a.length - 1] !== t) && a.push(e, t);
            return
        }
        let y = d * d + h * h
          , _ = l * l + u * u
          , v = d * l + h * u
          , T = s * Math.sqrt(y) / p
          , A = s * Math.sqrt(_) / p
          , P = T * v / y
          , I = A * v / _
          , F = T * u + A * h
          , D = T * l + A * d
          , H = h * (A + P)
          , N = d * (A + P)
          , j = u * (T + I)
          , re = l * (T + I)
          , ce = Math.atan2(N - D, H - F)
          , Z = Math.atan2(re - D, j - F);
        sp(a, F + e, D + t, s, ce, Z, h * l > u * d)
    }
    var wr = Math.PI * 2
      , Qc = {
        centerX: 0,
        centerY: 0,
        ang1: 0,
        ang2: 0
    }
      , Jc = ({x: a, y: e}, t, i, r, s, o, d, h) => {
        a *= t,
        e *= i;
        let l = r * a - s * e
          , u = s * a + r * e;
        return h.x = l + o,
        h.y = u + d,
        h
    }
    ;
    function $7(a, e) {
        let t = e === -1.5707963267948966 ? -.551915024494 : 1.3333333333333333 * Math.tan(e / 4)
          , i = e === 1.5707963267948966 ? .551915024494 : t
          , r = Math.cos(a)
          , s = Math.sin(a)
          , o = Math.cos(a + e)
          , d = Math.sin(a + e);
        return [{
            x: r - s * i,
            y: s + r * i
        }, {
            x: o + d * i,
            y: d - o * i
        }, {
            x: o,
            y: d
        }]
    }
    var x0 = (a, e, t, i) => {
        let r = a * i - e * t < 0 ? -1 : 1
          , s = a * t + e * i;
        return s > 1 && (s = 1),
        s < -1 && (s = -1),
        r * Math.acos(s)
    }
      , K7 = (a, e, t, i, r, s, o, d, h, l, u, p, y) => {
        let _ = Math.pow(r, 2)
          , v = Math.pow(s, 2)
          , T = Math.pow(u, 2)
          , A = Math.pow(p, 2)
          , P = _ * v - _ * A - v * T;
        P < 0 && (P = 0),
        P /= _ * A + v * T,
        P = Math.sqrt(P) * (o === d ? -1 : 1);
        let I = P * r / s * p
          , F = P * -s / r * u
          , D = l * I - h * F + (a + t) / 2
          , H = h * I + l * F + (e + i) / 2
          , N = (u - I) / r
          , j = (p - F) / s
          , re = (-u - I) / r
          , ce = (-p - F) / s
          , Z = x0(1, 0, N, j)
          , q = x0(N, j, re, ce);
        d === 0 && q > 0 && (q -= wr),
        d === 1 && q < 0 && (q += wr),
        y.centerX = D,
        y.centerY = H,
        y.ang1 = Z,
        y.ang2 = q
    }
    ;
    function q7(a, e, t, i, r, s, o, d=0, h=0, l=0) {
        if (s === 0 || o === 0)
            return;
        let u = Math.sin(d * wr / 360)
          , p = Math.cos(d * wr / 360)
          , y = p * (e - i) / 2 + u * (t - r) / 2
          , _ = -u * (e - i) / 2 + p * (t - r) / 2;
        if (y === 0 && _ === 0)
            return;
        s = Math.abs(s),
        o = Math.abs(o);
        let v = Math.pow(y, 2) / Math.pow(s, 2) + Math.pow(_, 2) / Math.pow(o, 2);
        v > 1 && (s *= Math.sqrt(v),
        o *= Math.sqrt(v)),
        K7(e, t, i, r, s, o, h, l, u, p, y, _, Qc);
        let {ang1: T, ang2: A} = Qc
          , {centerX: P, centerY: I} = Qc
          , F = Math.abs(A) / (wr / 4);
        Math.abs(1 - F) < 1e-7 && (F = 1);
        let D = Math.max(Math.ceil(F), 1);
        A /= D;
        let H = a[a.length - 2]
          , N = a[a.length - 1]
          , j = {
            x: 0,
            y: 0
        };
        for (let re = 0; re < D; re++) {
            let ce = $7(T, A)
              , {x: Z, y: q} = Jc(ce[0], s, o, p, u, P, I, j)
              , {x: se, y: te} = Jc(ce[1], s, o, p, u, P, I, j)
              , {x: Ie, y: Tt} = Jc(ce[2], s, o, p, u, P, I, j);
            rp(a, H, N, Z, q, se, te, Ie, Tt),
            H = Ie,
            N = Tt,
            T += A
        }
    }
    function Z7(a, e, t) {
        var i;
        let r = (d, h) => {
            let l = h.x - d.x
              , u = h.y - d.y
              , p = Math.sqrt(l * l + u * u)
              , y = l / p
              , _ = u / p;
            return {
                len: p,
                nx: y,
                ny: _
            }
        }
          , s = (d, h) => {
            d === 0 ? a.moveTo(h.x, h.y) : a.lineTo(h.x, h.y)
        }
          , o = e[e.length - 1];
        for (let d = 0; d < e.length; d++) {
            let h = e[d % e.length]
              , l = (i = h.radius) != null ? i : t;
            if (l <= 0) {
                s(d, h),
                o = h;
                continue
            }
            let u = e[(d + 1) % e.length]
              , p = r(h, o)
              , y = r(h, u);
            if (p.len < 1e-4 || y.len < 1e-4) {
                s(d, h),
                o = h;
                continue
            }
            let _ = Math.asin(p.nx * y.ny - p.ny * y.nx)
              , v = 1
              , T = !1;
            p.nx * y.nx - p.ny * -y.ny < 0 ? _ < 0 ? _ = Math.PI + _ : (_ = Math.PI - _,
            v = -1,
            T = !0) : _ > 0 && (v = -1,
            T = !0);
            let A = _ / 2, P, I = Math.abs(Math.cos(A) * l / Math.sin(A));
            I > Math.min(p.len / 2, y.len / 2) ? (I = Math.min(p.len / 2, y.len / 2),
            P = Math.abs(I * Math.sin(A) / Math.cos(A))) : P = l;
            let F = h.x + y.nx * I + -y.ny * P * v
              , D = h.y + y.ny * I + y.nx * P * v
              , H = Math.atan2(p.ny, p.nx) + Math.PI / 2 * v
              , N = Math.atan2(y.ny, y.nx) - Math.PI / 2 * v;
            d === 0 && a.moveTo(F + Math.cos(H) * P, D + Math.sin(H) * P),
            a.arc(F, D, P, H, N, T),
            o = h
        }
    }
    function Q7(a, e, t, i) {
        var r;
        let s = (h, l) => Math.sqrt((h.x - l.x) ** 2 + (h.y - l.y) ** 2)
          , o = (h, l, u) => ({
            x: h.x + (l.x - h.x) * u,
            y: h.y + (l.y - h.y) * u
        })
          , d = e.length;
        for (let h = 0; h < d; h++) {
            let l = e[(h + 1) % d]
              , u = (r = l.radius) != null ? r : t;
            if (u <= 0) {
                h === 0 ? a.moveTo(l.x, l.y) : a.lineTo(l.x, l.y);
                continue
            }
            let p = e[h], y = e[(h + 2) % d], _ = s(p, l), v;
            if (_ < 1e-4)
                v = l;
            else {
                let P = Math.min(_ / 2, u);
                v = o(l, p, P / _)
            }
            let T = s(y, l), A;
            if (T < 1e-4)
                A = l;
            else {
                let P = Math.min(T / 2, u);
                A = o(l, y, P / T)
            }
            h === 0 ? a.moveTo(v.x, v.y) : a.lineTo(v.x, v.y),
            a.quadraticCurveTo(l.x, l.y, A.x, A.y, i)
        }
    }
    var J7 = new Pe
      , bh = class {
        constructor(e) {
            this.shapePrimitives = [],
            this._currentPoly = null,
            this._bounds = new qe,
            this._graphicsPath2D = e
        }
        moveTo(e, t) {
            return this.startPoly(e, t),
            this
        }
        lineTo(e, t) {
            this._ensurePoly();
            let i = this._currentPoly.points
              , r = i[i.length - 2]
              , s = i[i.length - 1];
            return (r !== e || s !== t) && i.push(e, t),
            this
        }
        arc(e, t, i, r, s, o) {
            this._ensurePoly(!1);
            let d = this._currentPoly.points;
            return sp(d, e, t, i, r, s, o),
            this
        }
        arcTo(e, t, i, r, s) {
            this._ensurePoly();
            let o = this._currentPoly.points;
            return Y7(o, e, t, i, r, s),
            this
        }
        arcToSvg(e, t, i, r, s, o, d) {
            let h = this._currentPoly.points;
            return q7(h, this._currentPoly.lastX, this._currentPoly.lastY, o, d, e, t, i, r, s),
            this
        }
        bezierCurveTo(e, t, i, r, s, o, d) {
            this._ensurePoly();
            let h = this._currentPoly;
            return rp(this._currentPoly.points, h.lastX, h.lastY, e, t, i, r, s, o, d),
            this
        }
        quadraticCurveTo(e, t, i, r, s) {
            this._ensurePoly();
            let o = this._currentPoly;
            return V7(this._currentPoly.points, o.lastX, o.lastY, e, t, i, r, s),
            this
        }
        closePath() {
            return this.endPoly(!0),
            this
        }
        addPath(e, t) {
            this.endPoly(),
            t && !t.isIdentity() && (e = e.clone(!0),
            e.transform(t));
            for (let i = 0; i < e.instructions.length; i++) {
                let r = e.instructions[i];
                this[r.action](...r.data)
            }
            return this
        }
        finish(e=!1) {
            this.endPoly(e)
        }
        rect(e, t, i, r, s) {
            return this.drawShape(new Pe(e,t,i,r), s),
            this
        }
        circle(e, t, i, r) {
            return this.drawShape(new dh(e,t,i), r),
            this
        }
        poly(e, t, i) {
            let r = new Sr(e);
            return r.closePath = t,
            this.drawShape(r, i),
            this
        }
        regularPoly(e, t, i, r, s=0, o) {
            r = Math.max(r | 0, 3);
            let d = -1 * Math.PI / 2 + s
              , h = Math.PI * 2 / r
              , l = [];
            for (let u = 0; u < r; u++) {
                let p = d - u * h;
                l.push(e + i * Math.cos(p), t + i * Math.sin(p))
            }
            return this.poly(l, !0, o),
            this
        }
        roundPoly(e, t, i, r, s, o=0, d) {
            if (r = Math.max(r | 0, 3),
            s <= 0)
                return this.regularPoly(e, t, i, r, o);
            let h = i * Math.sin(Math.PI / r) - .001;
            s = Math.min(s, h);
            let l = -1 * Math.PI / 2 + o
              , u = Math.PI * 2 / r
              , p = (r - 2) * Math.PI / r / 2;
            for (let y = 0; y < r; y++) {
                let _ = y * u + l
                  , v = e + i * Math.cos(_)
                  , T = t + i * Math.sin(_)
                  , A = _ + Math.PI + p
                  , P = _ - Math.PI - p
                  , I = v + s * Math.cos(A)
                  , F = T + s * Math.sin(A)
                  , D = v + s * Math.cos(P)
                  , H = T + s * Math.sin(P);
                y === 0 ? this.moveTo(I, F) : this.lineTo(I, F),
                this.quadraticCurveTo(v, T, D, H, d)
            }
            return this.closePath()
        }
        roundShape(e, t, i=!1, r) {
            return e.length < 3 ? this : (i ? Q7(this, e, t, r) : Z7(this, e, t),
            this.closePath())
        }
        filletRect(e, t, i, r, s) {
            if (s === 0)
                return this.rect(e, t, i, r);
            let o = Math.min(i, r) / 2
              , d = Math.min(o, Math.max(-o, s))
              , h = e + i
              , l = t + r
              , u = d < 0 ? -d : 0
              , p = Math.abs(d);
            return this.moveTo(e, t + p).arcTo(e + u, t + u, e + p, t, p).lineTo(h - p, t).arcTo(h - u, t + u, h, t + p, p).lineTo(h, l - p).arcTo(h - u, l - u, e + i - p, l, p).lineTo(e + p, l).arcTo(e + u, l - u, e, l - p, p).closePath()
        }
        chamferRect(e, t, i, r, s, o) {
            if (s <= 0)
                return this.rect(e, t, i, r);
            let d = Math.min(s, Math.min(i, r) / 2)
              , h = e + i
              , l = t + r
              , u = [e + d, t, h - d, t, h, t + d, h, l - d, h - d, l, e + d, l, e, l - d, e, t + d];
            for (let p = u.length - 1; p >= 2; p -= 2)
                u[p] === u[p - 2] && u[p - 1] === u[p - 3] && u.splice(p - 1, 2);
            return this.poly(u, !0, o)
        }
        ellipse(e, t, i, r, s) {
            return this.drawShape(new hh(e,t,i,r), s),
            this
        }
        roundRect(e, t, i, r, s, o) {
            return this.drawShape(new lh(e,t,i,r,s), o),
            this
        }
        drawShape(e, t) {
            return this.endPoly(),
            this.shapePrimitives.push({
                shape: e,
                transform: t
            }),
            this
        }
        startPoly(e, t) {
            let i = this._currentPoly;
            return i && this.endPoly(),
            i = new Sr,
            i.points.push(e, t),
            this._currentPoly = i,
            this
        }
        endPoly(e=!1) {
            let t = this._currentPoly;
            return t && t.points.length > 2 && (t.closePath = e,
            this.shapePrimitives.push({
                shape: t
            })),
            this._currentPoly = null,
            this
        }
        _ensurePoly(e=!0) {
            if (!this._currentPoly && (this._currentPoly = new Sr,
            e)) {
                let t = this.shapePrimitives[this.shapePrimitives.length - 1];
                if (t) {
                    let i = t.shape.x
                      , r = t.shape.y;
                    if (t.transform && !t.transform.isIdentity()) {
                        let s = t.transform
                          , o = i;
                        i = s.a * i + s.c * r + s.tx,
                        r = s.b * o + s.d * r + s.ty
                    }
                    this._currentPoly.points.push(i, r)
                } else
                    this._currentPoly.points.push(0, 0)
            }
        }
        buildPath() {
            let e = this._graphicsPath2D;
            this.shapePrimitives.length = 0,
            this._currentPoly = null;
            for (let t = 0; t < e.instructions.length; t++) {
                let i = e.instructions[t];
                this[i.action](...i.data)
            }
            this.finish()
        }
        get bounds() {
            let e = this._bounds;
            e.clear();
            let t = this.shapePrimitives;
            for (let i = 0; i < t.length; i++) {
                let r = t[i]
                  , s = r.shape.getBounds(J7);
                r.transform ? e.addRect(s, r.transform) : e.addRect(s)
            }
            return e
        }
    }
      , Ci = class a {
        constructor(e) {
            this.instructions = [],
            this.uid = Be("graphicsPath"),
            this._dirty = !0;
            var t;
            typeof e == "string" ? D7(e, this) : this.instructions = (t = e?.slice()) != null ? t : []
        }
        get shapePath() {
            return this._shapePath || (this._shapePath = new bh(this)),
            this._dirty && (this._dirty = !1,
            this._shapePath.buildPath()),
            this._shapePath
        }
        addPath(e, t) {
            return e = e.clone(),
            this.instructions.push({
                action: "addPath",
                data: [e, t]
            }),
            this._dirty = !0,
            this
        }
        arc(...e) {
            return this.instructions.push({
                action: "arc",
                data: e
            }),
            this._dirty = !0,
            this
        }
        arcTo(...e) {
            return this.instructions.push({
                action: "arcTo",
                data: e
            }),
            this._dirty = !0,
            this
        }
        arcToSvg(...e) {
            return this.instructions.push({
                action: "arcToSvg",
                data: e
            }),
            this._dirty = !0,
            this
        }
        bezierCurveTo(...e) {
            return this.instructions.push({
                action: "bezierCurveTo",
                data: e
            }),
            this._dirty = !0,
            this
        }
        bezierCurveToShort(e, t, i, r, s) {
            let o = this.instructions[this.instructions.length - 1]
              , d = this.getLastPoint(Ce.shared)
              , h = 0
              , l = 0;
            if (!o || o.action !== "bezierCurveTo")
                h = d.x,
                l = d.y;
            else {
                h = o.data[2],
                l = o.data[3];
                let u = d.x
                  , p = d.y;
                h = u + (u - h),
                l = p + (p - l)
            }
            return this.instructions.push({
                action: "bezierCurveTo",
                data: [h, l, e, t, i, r, s]
            }),
            this._dirty = !0,
            this
        }
        closePath() {
            return this.instructions.push({
                action: "closePath",
                data: []
            }),
            this._dirty = !0,
            this
        }
        ellipse(...e) {
            return this.instructions.push({
                action: "ellipse",
                data: e
            }),
            this._dirty = !0,
            this
        }
        lineTo(...e) {
            return this.instructions.push({
                action: "lineTo",
                data: e
            }),
            this._dirty = !0,
            this
        }
        moveTo(...e) {
            return this.instructions.push({
                action: "moveTo",
                data: e
            }),
            this
        }
        quadraticCurveTo(...e) {
            return this.instructions.push({
                action: "quadraticCurveTo",
                data: e
            }),
            this._dirty = !0,
            this
        }
        quadraticCurveToShort(e, t, i) {
            let r = this.instructions[this.instructions.length - 1]
              , s = this.getLastPoint(Ce.shared)
              , o = 0
              , d = 0;
            if (!r || r.action !== "quadraticCurveTo")
                o = s.x,
                d = s.y;
            else {
                o = r.data[0],
                d = r.data[1];
                let h = s.x
                  , l = s.y;
                o = h + (h - o),
                d = l + (l - d)
            }
            return this.instructions.push({
                action: "quadraticCurveTo",
                data: [o, d, e, t, i]
            }),
            this._dirty = !0,
            this
        }
        rect(e, t, i, r, s) {
            return this.instructions.push({
                action: "rect",
                data: [e, t, i, r, s]
            }),
            this._dirty = !0,
            this
        }
        circle(e, t, i, r) {
            return this.instructions.push({
                action: "circle",
                data: [e, t, i, r]
            }),
            this._dirty = !0,
            this
        }
        roundRect(...e) {
            return this.instructions.push({
                action: "roundRect",
                data: e
            }),
            this._dirty = !0,
            this
        }
        poly(...e) {
            return this.instructions.push({
                action: "poly",
                data: e
            }),
            this._dirty = !0,
            this
        }
        regularPoly(...e) {
            return this.instructions.push({
                action: "regularPoly",
                data: e
            }),
            this._dirty = !0,
            this
        }
        roundPoly(...e) {
            return this.instructions.push({
                action: "roundPoly",
                data: e
            }),
            this._dirty = !0,
            this
        }
        roundShape(...e) {
            return this.instructions.push({
                action: "roundShape",
                data: e
            }),
            this._dirty = !0,
            this
        }
        filletRect(...e) {
            return this.instructions.push({
                action: "filletRect",
                data: e
            }),
            this._dirty = !0,
            this
        }
        chamferRect(...e) {
            return this.instructions.push({
                action: "chamferRect",
                data: e
            }),
            this._dirty = !0,
            this
        }
        star(e, t, i, r, s, o, d) {
            s || (s = r / 2);
            let h = -1 * Math.PI / 2 + o
              , l = i * 2
              , u = Math.PI * 2 / l
              , p = [];
            for (let y = 0; y < l; y++) {
                let _ = y % 2 ? s : r
                  , v = y * u + h;
                p.push(e + _ * Math.cos(v), t + _ * Math.sin(v))
            }
            return this.poly(p, !0, d),
            this
        }
        clone(e=!1) {
            let t = new a;
            if (!e)
                t.instructions = this.instructions.slice();
            else
                for (let i = 0; i < this.instructions.length; i++) {
                    let r = this.instructions[i];
                    t.instructions.push({
                        action: r.action,
                        data: r.data.slice()
                    })
                }
            return t
        }
        clear() {
            return this.instructions.length = 0,
            this._dirty = !0,
            this
        }
        transform(e) {
            if (e.isIdentity())
                return this;
            let t = e.a
              , i = e.b
              , r = e.c
              , s = e.d
              , o = e.tx
              , d = e.ty
              , h = 0
              , l = 0
              , u = 0
              , p = 0
              , y = 0
              , _ = 0
              , v = 0
              , T = 0;
            for (let A = 0; A < this.instructions.length; A++) {
                let P = this.instructions[A]
                  , I = P.data;
                switch (P.action) {
                case "moveTo":
                case "lineTo":
                    h = I[0],
                    l = I[1],
                    I[0] = t * h + r * l + o,
                    I[1] = i * h + s * l + d;
                    break;
                case "bezierCurveTo":
                    u = I[0],
                    p = I[1],
                    y = I[2],
                    _ = I[3],
                    h = I[4],
                    l = I[5],
                    I[0] = t * u + r * p + o,
                    I[1] = i * u + s * p + d,
                    I[2] = t * y + r * _ + o,
                    I[3] = i * y + s * _ + d,
                    I[4] = t * h + r * l + o,
                    I[5] = i * h + s * l + d;
                    break;
                case "quadraticCurveTo":
                    u = I[0],
                    p = I[1],
                    h = I[2],
                    l = I[3],
                    I[0] = t * u + r * p + o,
                    I[1] = i * u + s * p + d,
                    I[2] = t * h + r * l + o,
                    I[3] = i * h + s * l + d;
                    break;
                case "arcToSvg":
                    h = I[5],
                    l = I[6],
                    v = I[0],
                    T = I[1],
                    I[0] = t * v + r * T,
                    I[1] = i * v + s * T,
                    I[5] = t * h + r * l + o,
                    I[6] = i * h + s * l + d;
                    break;
                case "circle":
                    I[4] = cr(I[3], e);
                    break;
                case "rect":
                    I[4] = cr(I[4], e);
                    break;
                case "ellipse":
                    I[8] = cr(I[8], e);
                    break;
                case "roundRect":
                    I[5] = cr(I[5], e);
                    break;
                case "addPath":
                    I[0].transform(e);
                    break;
                case "poly":
                    I[2] = cr(I[2], e);
                    break;
                default:
                    break
                }
            }
            return this._dirty = !0,
            this
        }
        get bounds() {
            return this.shapePath.bounds
        }
        getLastPoint(e) {
            let t = this.instructions.length - 1
              , i = this.instructions[t];
            if (!i)
                return e.x = 0,
                e.y = 0,
                e;
            for (; i.action === "closePath"; ) {
                if (t--,
                t < 0)
                    return e.x = 0,
                    e.y = 0,
                    e;
                i = this.instructions[t]
            }
            switch (i.action) {
            case "moveTo":
            case "lineTo":
                e.x = i.data[0],
                e.y = i.data[1];
                break;
            case "quadraticCurveTo":
                e.x = i.data[2],
                e.y = i.data[3];
                break;
            case "bezierCurveTo":
                e.x = i.data[4],
                e.y = i.data[5];
                break;
            case "arc":
            case "arcToSvg":
                e.x = i.data[5],
                e.y = i.data[6];
                break;
            case "addPath":
                i.data[0].getLastPoint(e);
                break
            }
            return e
        }
    }
    ;
    function cr(a, e) {
        return a ? a.prepend(e) : e.clone()
    }
    var e9 = Object.defineProperty
      , v0 = Object.getOwnPropertySymbols
      , t9 = Object.prototype.hasOwnProperty
      , a9 = Object.prototype.propertyIsEnumerable
      , T0 = (a, e, t) => e in a ? e9(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Ss = (a, e) => {
        for (var t in e || (e = {}))
            t9.call(e, t) && T0(a, t, e[t]);
        if (v0)
            for (var t of v0(e))
                a9.call(e, t) && T0(a, t, e[t]);
        return a
    }
    ;
    function i9(a, e) {
        if (typeof a == "string") {
            let i = document.createElement("div");
            i.innerHTML = a.trim(),
            a = i.querySelector("svg")
        }
        let t = {
            context: e,
            path: new Ci
        };
        return np(a, t, null, null),
        e
    }
    function np(a, e, t, i) {
        let r = a.children
          , {fillStyle: s, strokeStyle: o} = r9(a);
        s && t ? t = Ss(Ss({}, t), s) : s && (t = s),
        o && i ? i = Ss(Ss({}, i), o) : o && (i = o),
        e.context.fillStyle = t,
        e.context.strokeStyle = i;
        let d, h, l, u, p, y, _, v, T, A, P, I, F, D, H, N, j;
        switch (a.nodeName.toLowerCase()) {
        case "path":
            D = a.getAttribute("d"),
            H = new Ci(D),
            e.context.path(H),
            t && e.context.fill(),
            i && e.context.stroke();
            break;
        case "circle":
            _ = $e(a, "cx", 0),
            v = $e(a, "cy", 0),
            T = $e(a, "r", 0),
            e.context.ellipse(_, v, T, T),
            t && e.context.fill(),
            i && e.context.stroke();
            break;
        case "rect":
            d = $e(a, "x", 0),
            h = $e(a, "y", 0),
            N = $e(a, "width", 0),
            j = $e(a, "height", 0),
            A = $e(a, "rx", 0),
            P = $e(a, "ry", 0),
            A || P ? e.context.roundRect(d, h, N, j, A || P) : e.context.rect(d, h, N, j),
            t && e.context.fill(),
            i && e.context.stroke();
            break;
        case "ellipse":
            _ = $e(a, "cx", 0),
            v = $e(a, "cy", 0),
            A = $e(a, "rx", 0),
            P = $e(a, "ry", 0),
            e.context.beginPath(),
            e.context.ellipse(_, v, A, P),
            t && e.context.fill(),
            i && e.context.stroke();
            break;
        case "line":
            l = $e(a, "x1", 0),
            u = $e(a, "y1", 0),
            p = $e(a, "x2", 0),
            y = $e(a, "y2", 0),
            e.context.beginPath(),
            e.context.moveTo(l, u),
            e.context.lineTo(p, y),
            i && e.context.stroke();
            break;
        case "polygon":
            F = a.getAttribute("points"),
            I = F.match(/\d+/g).map(re => parseInt(re, 10)),
            e.context.poly(I, !0),
            t && e.context.fill(),
            i && e.context.stroke();
            break;
        case "polyline":
            F = a.getAttribute("points"),
            I = F.match(/\d+/g).map(re => parseInt(re, 10)),
            e.context.poly(I, !1),
            i && e.context.stroke();
            break;
        case "g":
        case "svg":
            break;
        default:
            break
        }
        for (let re = 0; re < r.length; re++)
            np(r[re], e, t, i)
    }
    function $e(a, e, t) {
        let i = a.getAttribute(e);
        return i ? Number(i) : t
    }
    function r9(a) {
        let e = a.getAttribute("style")
          , t = {}
          , i = {}
          , r = !1
          , s = !1;
        if (e) {
            let o = e.split(";");
            for (let d = 0; d < o.length; d++) {
                let h = o[d]
                  , [l,u] = h.split(":");
                switch (l) {
                case "stroke":
                    u !== "none" && (t.color = Ee.shared.setValue(u).toNumber(),
                    s = !0);
                    break;
                case "stroke-width":
                    t.width = Number(u);
                    break;
                case "fill":
                    u !== "none" && (r = !0,
                    i.color = Ee.shared.setValue(u).toNumber());
                    break;
                case "fill-opacity":
                    i.alpha = Number(u);
                    break;
                case "stroke-opacity":
                    t.alpha = Number(u);
                    break;
                case "opacity":
                    i.alpha = Number(u),
                    t.alpha = Number(u);
                    break
                }
            }
        } else {
            let o = a.getAttribute("stroke");
            o && o !== "none" && (s = !0,
            t.color = Ee.shared.setValue(o).toNumber(),
            t.width = $e(a, "stroke-width", 1));
            let d = a.getAttribute("fill");
            d && d !== "none" && (r = !0,
            i.color = Ee.shared.setValue(d).toNumber())
        }
        return {
            strokeStyle: s ? t : null,
            fillStyle: r ? i : null
        }
    }
    var s9 = Object.defineProperty
      , hn = Object.getOwnPropertySymbols
      , op = Object.prototype.hasOwnProperty
      , cp = Object.prototype.propertyIsEnumerable
      , S0 = (a, e, t) => e in a ? s9(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , fa = (a, e) => {
        for (var t in e || (e = {}))
            op.call(e, t) && S0(a, t, e[t]);
        if (hn)
            for (var t of hn(e))
                cp.call(e, t) && S0(a, t, e[t]);
        return a
    }
      , n9 = (a, e) => {
        var t = {};
        for (var i in a)
            op.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && hn)
            for (var i of hn(a))
                e.indexOf(i) < 0 && cp.call(a, i) && (t[i] = a[i]);
        return t
    }
    ;
    function o9(a) {
        return Ee.isColorLike(a)
    }
    function w0(a) {
        return a instanceof Mi
    }
    function A0(a) {
        return a instanceof Nr
    }
    function c9(a, e, t) {
        let i = Ee.shared.setValue(e ?? 0);
        return a.color = i.toNumber(),
        a.alpha = i.alpha === 1 ? t.alpha : i.alpha,
        a.texture = K.WHITE,
        fa(fa({}, t), a)
    }
    function E0(a, e, t) {
        return a.fill = e,
        a.color = 16777215,
        a.texture = e.texture,
        a.matrix = e.transform,
        fa(fa({}, t), a)
    }
    function P0(a, e, t) {
        return e.buildLinearGradient(),
        a.fill = e,
        a.color = 16777215,
        a.texture = e.texture,
        a.matrix = e.transform,
        fa(fa({}, t), a)
    }
    function d9(a, e) {
        var t;
        let i = fa(fa({}, e), a);
        if (i.texture) {
            if (i.texture !== K.WHITE) {
                let o = ((t = i.matrix) == null ? void 0 : t.clone().invert()) || new ie;
                o.translate(i.texture.frame.x, i.texture.frame.y),
                o.scale(1 / i.texture.source.width, 1 / i.texture.source.height),
                i.matrix = o
            }
            let s = i.texture.source.style;
            s.addressMode === "clamp-to-edge" && (s.addressMode = "repeat",
            s.update())
        }
        let r = Ee.shared.setValue(i.color);
        return i.alpha *= r.alpha,
        i.color = r.toNumber(),
        i.matrix = i.matrix ? i.matrix.clone() : null,
        i
    }
    function $a(a, e) {
        if (a == null)
            return null;
        let t = {}
          , i = a;
        return o9(a) ? c9(t, a, e) : w0(a) ? E0(t, a, e) : A0(a) ? P0(t, a, e) : i.fill && w0(i.fill) ? E0(i, i.fill, e) : i.fill && A0(i.fill) ? P0(i, i.fill, e) : d9(i, e)
    }
    function ln(a, e) {
        let t = e
          , {width: i, alignment: r, miterLimit: s, cap: o, join: d, pixelLine: h} = t
          , l = n9(t, ["width", "alignment", "miterLimit", "cap", "join", "pixelLine"])
          , u = $a(a, l);
        return u ? fa({
            width: i,
            alignment: r,
            miterLimit: s,
            cap: o,
            join: d,
            pixelLine: h
        }, u) : null
    }
    var h9 = Object.defineProperty
      , R0 = Object.getOwnPropertySymbols
      , l9 = Object.prototype.hasOwnProperty
      , f9 = Object.prototype.propertyIsEnumerable
      , M0 = (a, e, t) => e in a ? h9(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , pi = (a, e) => {
        for (var t in e || (e = {}))
            l9.call(e, t) && M0(a, t, e[t]);
        if (R0)
            for (var t of R0(e))
                f9.call(e, t) && M0(a, t, e[t]);
        return a
    }
      , u9 = new Ce
      , C0 = new ie
      , ph = class Kt extends xt {
        constructor() {
            super(...arguments),
            this.uid = Be("graphicsContext"),
            this.dirty = !0,
            this.batchMode = "auto",
            this.instructions = [],
            this._activePath = new Ci,
            this._transform = new ie,
            this._fillStyle = pi({}, Kt.defaultFillStyle),
            this._strokeStyle = pi({}, Kt.defaultStrokeStyle),
            this._stateStack = [],
            this._tick = 0,
            this._bounds = new qe,
            this._boundsDirty = !0
        }
        clone() {
            let e = new Kt;
            return e.batchMode = this.batchMode,
            e.instructions = this.instructions.slice(),
            e._activePath = this._activePath.clone(),
            e._transform = this._transform.clone(),
            e._fillStyle = pi({}, this._fillStyle),
            e._strokeStyle = pi({}, this._strokeStyle),
            e._stateStack = this._stateStack.slice(),
            e._bounds = this._bounds.clone(),
            e._boundsDirty = !0,
            e
        }
        get fillStyle() {
            return this._fillStyle
        }
        set fillStyle(e) {
            this._fillStyle = $a(e, Kt.defaultFillStyle)
        }
        get strokeStyle() {
            return this._strokeStyle
        }
        set strokeStyle(e) {
            this._strokeStyle = ln(e, Kt.defaultStrokeStyle)
        }
        setFillStyle(e) {
            return this._fillStyle = $a(e, Kt.defaultFillStyle),
            this
        }
        setStrokeStyle(e) {
            return this._strokeStyle = $a(e, Kt.defaultStrokeStyle),
            this
        }
        texture(e, t, i, r, s, o) {
            return this.instructions.push({
                action: "texture",
                data: {
                    image: e,
                    dx: i || 0,
                    dy: r || 0,
                    dw: s || e.frame.width,
                    dh: o || e.frame.height,
                    transform: this._transform.clone(),
                    alpha: this._fillStyle.alpha,
                    style: t ? Ee.shared.setValue(t).toNumber() : 16777215
                }
            }),
            this.onUpdate(),
            this
        }
        beginPath() {
            return this._activePath = new Ci,
            this
        }
        fill(e, t) {
            let i, r = this.instructions[this.instructions.length - 1];
            return this._tick === 0 && r && r.action === "stroke" ? i = r.data.path : i = this._activePath.clone(),
            i ? (e != null && (t !== void 0 && typeof e == "number" && (e = {
                color: e,
                alpha: t
            }),
            this._fillStyle = $a(e, Kt.defaultFillStyle)),
            this.instructions.push({
                action: "fill",
                data: {
                    style: this.fillStyle,
                    path: i
                }
            }),
            this.onUpdate(),
            this._initNextPathLocation(),
            this._tick = 0,
            this) : this
        }
        _initNextPathLocation() {
            let {x: e, y: t} = this._activePath.getLastPoint(Ce.shared);
            this._activePath.clear(),
            this._activePath.moveTo(e, t)
        }
        stroke(e) {
            let t, i = this.instructions[this.instructions.length - 1];
            return this._tick === 0 && i && i.action === "fill" ? t = i.data.path : t = this._activePath.clone(),
            t ? (e != null && (this._strokeStyle = ln(e, Kt.defaultStrokeStyle)),
            this.instructions.push({
                action: "stroke",
                data: {
                    style: this.strokeStyle,
                    path: t
                }
            }),
            this.onUpdate(),
            this._initNextPathLocation(),
            this._tick = 0,
            this) : this
        }
        cut() {
            for (let e = 0; e < 2; e++) {
                let t = this.instructions[this.instructions.length - 1 - e]
                  , i = this._activePath.clone();
                if (t && (t.action === "stroke" || t.action === "fill"))
                    if (t.data.hole)
                        t.data.hole.addPath(i);
                    else {
                        t.data.hole = i;
                        break
                    }
            }
            return this._initNextPathLocation(),
            this
        }
        arc(e, t, i, r, s, o) {
            this._tick++;
            let d = this._transform;
            return this._activePath.arc(d.a * e + d.c * t + d.tx, d.b * e + d.d * t + d.ty, i, r, s, o),
            this
        }
        arcTo(e, t, i, r, s) {
            this._tick++;
            let o = this._transform;
            return this._activePath.arcTo(o.a * e + o.c * t + o.tx, o.b * e + o.d * t + o.ty, o.a * i + o.c * r + o.tx, o.b * i + o.d * r + o.ty, s),
            this
        }
        arcToSvg(e, t, i, r, s, o, d) {
            this._tick++;
            let h = this._transform;
            return this._activePath.arcToSvg(e, t, i, r, s, h.a * o + h.c * d + h.tx, h.b * o + h.d * d + h.ty),
            this
        }
        bezierCurveTo(e, t, i, r, s, o, d) {
            this._tick++;
            let h = this._transform;
            return this._activePath.bezierCurveTo(h.a * e + h.c * t + h.tx, h.b * e + h.d * t + h.ty, h.a * i + h.c * r + h.tx, h.b * i + h.d * r + h.ty, h.a * s + h.c * o + h.tx, h.b * s + h.d * o + h.ty, d),
            this
        }
        closePath() {
            var e;
            return this._tick++,
            (e = this._activePath) == null || e.closePath(),
            this
        }
        ellipse(e, t, i, r) {
            return this._tick++,
            this._activePath.ellipse(e, t, i, r, this._transform.clone()),
            this
        }
        circle(e, t, i) {
            return this._tick++,
            this._activePath.circle(e, t, i, this._transform.clone()),
            this
        }
        path(e) {
            return this._tick++,
            this._activePath.addPath(e, this._transform.clone()),
            this
        }
        lineTo(e, t) {
            this._tick++;
            let i = this._transform;
            return this._activePath.lineTo(i.a * e + i.c * t + i.tx, i.b * e + i.d * t + i.ty),
            this
        }
        moveTo(e, t) {
            this._tick++;
            let i = this._transform
              , r = this._activePath.instructions
              , s = i.a * e + i.c * t + i.tx
              , o = i.b * e + i.d * t + i.ty;
            return r.length === 1 && r[0].action === "moveTo" ? (r[0].data[0] = s,
            r[0].data[1] = o,
            this) : (this._activePath.moveTo(s, o),
            this)
        }
        quadraticCurveTo(e, t, i, r, s) {
            this._tick++;
            let o = this._transform;
            return this._activePath.quadraticCurveTo(o.a * e + o.c * t + o.tx, o.b * e + o.d * t + o.ty, o.a * i + o.c * r + o.tx, o.b * i + o.d * r + o.ty, s),
            this
        }
        rect(e, t, i, r) {
            return this._tick++,
            this._activePath.rect(e, t, i, r, this._transform.clone()),
            this
        }
        roundRect(e, t, i, r, s) {
            return this._tick++,
            this._activePath.roundRect(e, t, i, r, s, this._transform.clone()),
            this
        }
        poly(e, t) {
            return this._tick++,
            this._activePath.poly(e, t, this._transform.clone()),
            this
        }
        regularPoly(e, t, i, r, s=0, o) {
            return this._tick++,
            this._activePath.regularPoly(e, t, i, r, s, o),
            this
        }
        roundPoly(e, t, i, r, s, o) {
            return this._tick++,
            this._activePath.roundPoly(e, t, i, r, s, o),
            this
        }
        roundShape(e, t, i, r) {
            return this._tick++,
            this._activePath.roundShape(e, t, i, r),
            this
        }
        filletRect(e, t, i, r, s) {
            return this._tick++,
            this._activePath.filletRect(e, t, i, r, s),
            this
        }
        chamferRect(e, t, i, r, s, o) {
            return this._tick++,
            this._activePath.chamferRect(e, t, i, r, s, o),
            this
        }
        star(e, t, i, r, s=0, o=0) {
            return this._tick++,
            this._activePath.star(e, t, i, r, s, o, this._transform.clone()),
            this
        }
        svg(e) {
            return this._tick++,
            i9(e, this),
            this
        }
        restore() {
            let e = this._stateStack.pop();
            return e && (this._transform = e.transform,
            this._fillStyle = e.fillStyle,
            this._strokeStyle = e.strokeStyle),
            this
        }
        save() {
            return this._stateStack.push({
                transform: this._transform.clone(),
                fillStyle: pi({}, this._fillStyle),
                strokeStyle: pi({}, this._strokeStyle)
            }),
            this
        }
        getTransform() {
            return this._transform
        }
        resetTransform() {
            return this._transform.identity(),
            this
        }
        rotate(e) {
            return this._transform.rotate(e),
            this
        }
        scale(e, t=e) {
            return this._transform.scale(e, t),
            this
        }
        setTransform(e, t, i, r, s, o) {
            return e instanceof ie ? (this._transform.set(e.a, e.b, e.c, e.d, e.tx, e.ty),
            this) : (this._transform.set(e, t, i, r, s, o),
            this)
        }
        transform(e, t, i, r, s, o) {
            return e instanceof ie ? (this._transform.append(e),
            this) : (C0.set(e, t, i, r, s, o),
            this._transform.append(C0),
            this)
        }
        translate(e, t=e) {
            return this._transform.translate(e, t),
            this
        }
        clear() {
            return this._activePath.clear(),
            this.instructions.length = 0,
            this.resetTransform(),
            this.onUpdate(),
            this
        }
        onUpdate() {
            this.dirty || (this.emit("update", this, 16),
            this.dirty = !0,
            this._boundsDirty = !0)
        }
        get bounds() {
            if (!this._boundsDirty)
                return this._bounds;
            let e = this._bounds;
            e.clear();
            for (let t = 0; t < this.instructions.length; t++) {
                let i = this.instructions[t]
                  , r = i.action;
                if (r === "fill") {
                    let s = i.data;
                    e.addBounds(s.path.bounds)
                } else if (r === "texture") {
                    let s = i.data;
                    e.addFrame(s.dx, s.dy, s.dx + s.dw, s.dy + s.dh, s.transform)
                }
                if (r === "stroke") {
                    let s = i.data
                      , o = s.style.alignment
                      , d = s.style.width * (1 - o)
                      , h = s.path.bounds;
                    e.addFrame(h.minX - d, h.minY - d, h.maxX + d, h.maxY + d)
                }
            }
            return e
        }
        containsPoint(e) {
            var t;
            if (!this.bounds.containsPoint(e.x, e.y))
                return !1;
            let i = this.instructions
              , r = !1;
            for (let s = 0; s < i.length; s++) {
                let o = i[s]
                  , d = o.data
                  , h = d.path;
                if (!o.action || !h)
                    continue;
                let l = d.style
                  , u = h.shapePath.shapePrimitives;
                for (let p = 0; p < u.length; p++) {
                    let y = u[p].shape;
                    if (!l || !y)
                        continue;
                    let _ = u[p].transform
                      , v = _ ? _.applyInverse(e, u9) : e;
                    if (o.action === "fill")
                        r = y.contains(v.x, v.y);
                    else {
                        let A = l;
                        r = y.strokeContains(v.x, v.y, A.width, A.alignment)
                    }
                    let T = d.hole;
                    if (T) {
                        let A = (t = T.shapePath) == null ? void 0 : t.shapePrimitives;
                        if (A)
                            for (let P = 0; P < A.length; P++)
                                A[P].shape.contains(v.x, v.y) && (r = !1)
                    }
                    if (r)
                        return !0
                }
            }
            return r
        }
        destroy(e=!1) {
            if (this._stateStack.length = 0,
            this._transform = null,
            this.emit("destroy", this),
            this.removeAllListeners(),
            typeof e == "boolean" ? e : e?.texture) {
                let t = typeof e == "boolean" ? e : e?.textureSource;
                this._fillStyle.texture && this._fillStyle.texture.destroy(t),
                this._strokeStyle.texture && this._strokeStyle.texture.destroy(t)
            }
            this._fillStyle = null,
            this._strokeStyle = null,
            this.instructions = null,
            this._activePath = null,
            this._bounds = null,
            this._stateStack = null,
            this.customShader = null,
            this._transform = null
        }
    }
    ;
    ph.defaultFillStyle = {
        color: 16777215,
        alpha: 1,
        texture: K.WHITE,
        matrix: null,
        fill: null
    },
    ph.defaultStrokeStyle = {
        width: 1,
        color: 16777215,
        alpha: 1,
        alignment: .5,
        miterLimit: 10,
        cap: "butt",
        join: "miter",
        texture: K.WHITE,
        matrix: null,
        fill: null,
        pixelLine: !1
    };
    var dt = ph
      , O0 = ["align", "breakWords", "cssOverrides", "fontVariant", "fontWeight", "leading", "letterSpacing", "lineHeight", "padding", "textBaseline", "trim", "whiteSpace", "wordWrap", "wordWrapWidth", "fontFamily", "fontStyle", "fontSize"];
    function dp(a) {
        let e = []
          , t = 0;
        for (let i = 0; i < O0.length; i++) {
            let r = `_${O0[i]}`;
            e[t++] = a[r]
        }
        return t = hp(a._fill, e, t),
        t = b9(a._stroke, e, t),
        t = p9(a.dropShadow, e, t),
        e.join("-")
    }
    function hp(a, e, t) {
        var i;
        return a && (e[t++] = a.color,
        e[t++] = a.alpha,
        e[t++] = (i = a.fill) == null ? void 0 : i.styleKey),
        t
    }
    function b9(a, e, t) {
        return a && (t = hp(a, e, t),
        e[t++] = a.width,
        e[t++] = a.alignment,
        e[t++] = a.cap,
        e[t++] = a.join,
        e[t++] = a.miterLimit),
        t
    }
    function p9(a, e, t) {
        return a && (e[t++] = a.alpha,
        e[t++] = a.angle,
        e[t++] = a.blur,
        e[t++] = a.distance,
        e[t++] = Ee.shared.setValue(a.color).toNumber()),
        t
    }
    var g9 = Object.defineProperty
      , m9 = Object.defineProperties
      , _9 = Object.getOwnPropertyDescriptors
      , I0 = Object.getOwnPropertySymbols
      , y9 = Object.prototype.hasOwnProperty
      , x9 = Object.prototype.propertyIsEnumerable
      , G0 = (a, e, t) => e in a ? g9(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , ut = (a, e) => {
        for (var t in e || (e = {}))
            y9.call(e, t) && G0(a, t, e[t]);
        if (I0)
            for (var t of I0(e))
                x9.call(e, t) && G0(a, t, e[t]);
        return a
    }
      , v9 = (a, e) => m9(a, _9(e))
      , gh = class yi extends xt {
        constructor(e={}) {
            super(),
            T9(e);
            let t = ut(ut({}, yi.defaultTextStyle), e);
            for (let i in t) {
                let r = i;
                this[r] = t[i]
            }
            this.update()
        }
        get align() {
            return this._align
        }
        set align(e) {
            this._align = e,
            this.update()
        }
        get breakWords() {
            return this._breakWords
        }
        set breakWords(e) {
            this._breakWords = e,
            this.update()
        }
        get dropShadow() {
            return this._dropShadow
        }
        set dropShadow(e) {
            e !== null && typeof e == "object" ? this._dropShadow = this._createProxy(ut(ut({}, yi.defaultDropShadow), e)) : this._dropShadow = e ? this._createProxy(ut({}, yi.defaultDropShadow)) : null,
            this.update()
        }
        get fontFamily() {
            return this._fontFamily
        }
        set fontFamily(e) {
            this._fontFamily = e,
            this.update()
        }
        get fontSize() {
            return this._fontSize
        }
        set fontSize(e) {
            typeof e == "string" ? this._fontSize = parseInt(e, 10) : this._fontSize = e,
            this.update()
        }
        get fontStyle() {
            return this._fontStyle
        }
        set fontStyle(e) {
            this._fontStyle = e.toLowerCase(),
            this.update()
        }
        get fontVariant() {
            return this._fontVariant
        }
        set fontVariant(e) {
            this._fontVariant = e,
            this.update()
        }
        get fontWeight() {
            return this._fontWeight
        }
        set fontWeight(e) {
            this._fontWeight = e,
            this.update()
        }
        get leading() {
            return this._leading
        }
        set leading(e) {
            this._leading = e,
            this.update()
        }
        get letterSpacing() {
            return this._letterSpacing
        }
        set letterSpacing(e) {
            this._letterSpacing = e,
            this.update()
        }
        get lineHeight() {
            return this._lineHeight
        }
        set lineHeight(e) {
            this._lineHeight = e,
            this.update()
        }
        get padding() {
            return this._padding
        }
        set padding(e) {
            this._padding = e,
            this.update()
        }
        get trim() {
            return this._trim
        }
        set trim(e) {
            this._trim = e,
            this.update()
        }
        get textBaseline() {
            return this._textBaseline
        }
        set textBaseline(e) {
            this._textBaseline = e,
            this.update()
        }
        get whiteSpace() {
            return this._whiteSpace
        }
        set whiteSpace(e) {
            this._whiteSpace = e,
            this.update()
        }
        get wordWrap() {
            return this._wordWrap
        }
        set wordWrap(e) {
            this._wordWrap = e,
            this.update()
        }
        get wordWrapWidth() {
            return this._wordWrapWidth
        }
        set wordWrapWidth(e) {
            this._wordWrapWidth = e,
            this.update()
        }
        get fill() {
            return this._originalFill
        }
        set fill(e) {
            e !== this._originalFill && (this._originalFill = e,
            this._isFillStyle(e) && (this._originalFill = this._createProxy(ut(ut({}, dt.defaultFillStyle), e), () => {
                this._fill = $a(ut({}, this._originalFill), dt.defaultFillStyle)
            }
            )),
            this._fill = $a(e === 0 ? "black" : e, dt.defaultFillStyle),
            this.update())
        }
        get stroke() {
            return this._originalStroke
        }
        set stroke(e) {
            e !== this._originalStroke && (this._originalStroke = e,
            this._isFillStyle(e) && (this._originalStroke = this._createProxy(ut(ut({}, dt.defaultStrokeStyle), e), () => {
                this._stroke = ln(ut({}, this._originalStroke), dt.defaultStrokeStyle)
            }
            )),
            this._stroke = ln(e, dt.defaultStrokeStyle),
            this.update())
        }
        _generateKey() {
            return this._styleKey = dp(this),
            this._styleKey
        }
        update() {
            this._styleKey = null,
            this.emit("update", this)
        }
        reset() {
            let e = yi.defaultTextStyle;
            for (let t in e)
                this[t] = e[t]
        }
        get styleKey() {
            return this._styleKey || this._generateKey()
        }
        clone() {
            return new yi({
                align: this.align,
                breakWords: this.breakWords,
                dropShadow: this._dropShadow ? ut({}, this._dropShadow) : null,
                fill: this._fill,
                fontFamily: this.fontFamily,
                fontSize: this.fontSize,
                fontStyle: this.fontStyle,
                fontVariant: this.fontVariant,
                fontWeight: this.fontWeight,
                leading: this.leading,
                letterSpacing: this.letterSpacing,
                lineHeight: this.lineHeight,
                padding: this.padding,
                stroke: this._stroke,
                textBaseline: this.textBaseline,
                whiteSpace: this.whiteSpace,
                wordWrap: this.wordWrap,
                wordWrapWidth: this.wordWrapWidth
            })
        }
        destroy(e=!1) {
            var t, i, r, s;
            if (this.removeAllListeners(),
            typeof e == "boolean" ? e : e?.texture) {
                let o = typeof e == "boolean" ? e : e?.textureSource;
                (t = this._fill) != null && t.texture && this._fill.texture.destroy(o),
                (i = this._originalFill) != null && i.texture && this._originalFill.texture.destroy(o),
                (r = this._stroke) != null && r.texture && this._stroke.texture.destroy(o),
                (s = this._originalStroke) != null && s.texture && this._originalStroke.texture.destroy(o)
            }
            this._fill = null,
            this._stroke = null,
            this.dropShadow = null,
            this._originalStroke = null,
            this._originalFill = null
        }
        _createProxy(e, t) {
            return new Proxy(e,{
                set: (i, r, s) => (i[r] = s,
                t?.(r, s),
                this.update(),
                !0)
            })
        }
        _isFillStyle(e) {
            return (e ?? null) !== null && !(Ee.isColorLike(e) || e instanceof Nr || e instanceof Mi)
        }
    }
    ;
    gh.defaultDropShadow = {
        alpha: 1,
        angle: Math.PI / 6,
        blur: 0,
        color: "black",
        distance: 5
    },
    gh.defaultTextStyle = {
        align: "left",
        breakWords: !1,
        dropShadow: null,
        fill: "black",
        fontFamily: "Arial",
        fontSize: 26,
        fontStyle: "normal",
        fontVariant: "normal",
        fontWeight: "normal",
        leading: 0,
        letterSpacing: 0,
        lineHeight: 0,
        padding: 0,
        stroke: null,
        textBaseline: "alphabetic",
        trim: !1,
        whiteSpace: "pre",
        wordWrap: !1,
        wordWrapWidth: 100
    };
    var Pt = gh;
    function T9(a) {
        var e, t, i, r, s;
        let o = a;
        if (typeof o.dropShadow == "boolean" && o.dropShadow) {
            let d = Pt.defaultDropShadow;
            a.dropShadow = {
                alpha: (e = o.dropShadowAlpha) != null ? e : d.alpha,
                angle: (t = o.dropShadowAngle) != null ? t : d.angle,
                blur: (i = o.dropShadowBlur) != null ? i : d.blur,
                color: (r = o.dropShadowColor) != null ? r : d.color,
                distance: (s = o.dropShadowDistance) != null ? s : d.distance
            }
        }
        if (o.strokeThickness !== void 0) {
            let d = o.stroke
              , h = {};
            if (Ee.isColorLike(d))
                h.color = d;
            else if (d instanceof Nr || d instanceof Mi)
                h.fill = d;
            else if (Object.hasOwnProperty.call(d, "color") || Object.hasOwnProperty.call(d, "fill"))
                h = d;
            else
                throw new Error("Invalid stroke value.");
            a.stroke = v9(ut({}, h), {
                width: o.strokeThickness
            })
        }
        if (Array.isArray(o.fillGradientStops)) {
            let d;
            a.fontSize == null ? a.fontSize = Pt.defaultTextStyle.fontSize : typeof a.fontSize == "string" ? d = parseInt(a.fontSize, 10) : d = a.fontSize;
            let h = new Nr(0,0,0,d * 1.7)
              , l = o.fillGradientStops.map(u => Ee.shared.setValue(u).toNumber());
            l.forEach( (u, p) => {
                let y = p / (l.length - 1);
                h.addColorStop(y, u)
            }
            ),
            a.fill = {
                fill: h
            }
        }
    }
    var S9 = new qe;
    function lp(a, e, t, i) {
        let r = S9;
        r.minX = 0,
        r.minY = 0,
        r.maxX = a.width / i | 0,
        r.maxY = a.height / i | 0;
        let s = ze.getOptimalTexture(r.width, r.height, i, !1);
        return s.source.uploadMethodId = "image",
        s.source.resource = a,
        s.source.alphaMode = "premultiply-alpha-on-upload",
        s.frame.width = e / i,
        s.frame.height = t / i,
        s.source.emit("update", s.source),
        s.updateUvs(),
        s
    }
    var w9 = ["serif", "sans-serif", "monospace", "cursive", "fantasy", "system-ui"];
    function fn(a) {
        let e = typeof a.fontSize == "number" ? `${a.fontSize}px` : a.fontSize
          , t = a.fontFamily;
        Array.isArray(a.fontFamily) || (t = a.fontFamily.split(","));
        for (let i = t.length - 1; i >= 0; i--) {
            let r = t[i].trim();
            !/([\"\'])[^\'\"]+\1/.test(r) && !w9.includes(r) && (r = `"${r}"`),
            t[i] = r
        }
        return `${a.fontStyle} ${a.fontVariant} ${a.fontWeight} ${e} ${t.join(",")}`
    }
    var ed = {
        willReadFrequently: !0
    }
      , jt = class ee {
        static get experimentalLetterSpacingSupported() {
            let e = ee._experimentalLetterSpacingSupported;
            if (e !== void 0) {
                let t = xe.get().getCanvasRenderingContext2D().prototype;
                e = ee._experimentalLetterSpacingSupported = "letterSpacing"in t || "textLetterSpacing"in t
            }
            return e
        }
        constructor(e, t, i, r, s, o, d, h, l) {
            this.text = e,
            this.style = t,
            this.width = i,
            this.height = r,
            this.lines = s,
            this.lineWidths = o,
            this.lineHeight = d,
            this.maxLineWidth = h,
            this.fontProperties = l
        }
        static measureText(e=" ", t, i=ee._canvas, r=t.wordWrap) {
            var s;
            let o = `${e}:${t.styleKey}`;
            if (ee._measurementCache[o])
                return ee._measurementCache[o];
            let d = fn(t)
              , h = ee.measureFont(d);
            h.fontSize === 0 && (h.fontSize = t.fontSize,
            h.ascent = t.fontSize);
            let l = ee.__context;
            l.font = d;
            let u = (r ? ee._wordWrap(e, t, i) : e).split(/(?:\r\n|\r|\n)/)
              , p = new Array(u.length)
              , y = 0;
            for (let P = 0; P < u.length; P++) {
                let I = ee._measureText(u[P], t.letterSpacing, l);
                p[P] = I,
                y = Math.max(y, I)
            }
            let _ = ((s = t._stroke) == null ? void 0 : s.width) || 0
              , v = y + _;
            t.dropShadow && (v += t.dropShadow.distance);
            let T = t.lineHeight || h.fontSize
              , A = Math.max(T, h.fontSize + _) + (u.length - 1) * (T + t.leading);
            return t.dropShadow && (A += t.dropShadow.distance),
            new ee(e,t,v,A,u,p,T + t.leading,y,h)
        }
        static _measureText(e, t, i) {
            let r = !1;
            ee.experimentalLetterSpacingSupported && (ee.experimentalLetterSpacing ? (i.letterSpacing = `${t}px`,
            i.textLetterSpacing = `${t}px`,
            r = !0) : (i.letterSpacing = "0px",
            i.textLetterSpacing = "0px"));
            let s = i.measureText(e)
              , o = s.width
              , d = -s.actualBoundingBoxLeft
              , h = s.actualBoundingBoxRight - d;
            if (o > 0)
                if (r)
                    o -= t,
                    h -= t;
                else {
                    let l = (ee.graphemeSegmenter(e).length - 1) * t;
                    o += l,
                    h += l
                }
            return Math.max(o, h)
        }
        static _wordWrap(e, t, i=ee._canvas) {
            let r = i.getContext("2d", ed)
              , s = 0
              , o = ""
              , d = ""
              , h = Object.create(null)
              , {letterSpacing: l, whiteSpace: u} = t
              , p = ee._collapseSpaces(u)
              , y = ee._collapseNewlines(u)
              , _ = !p
              , v = t.wordWrapWidth + l
              , T = ee._tokenize(e);
            for (let A = 0; A < T.length; A++) {
                let P = T[A];
                if (ee._isNewline(P)) {
                    if (!y) {
                        d += ee._addLine(o),
                        _ = !p,
                        o = "",
                        s = 0;
                        continue
                    }
                    P = " "
                }
                if (p) {
                    let F = ee.isBreakingSpace(P)
                      , D = ee.isBreakingSpace(o[o.length - 1]);
                    if (F && D)
                        continue
                }
                let I = ee._getFromCache(P, l, h, r);
                if (I > v)
                    if (o !== "" && (d += ee._addLine(o),
                    o = "",
                    s = 0),
                    ee.canBreakWords(P, t.breakWords)) {
                        let F = ee.wordWrapSplit(P);
                        for (let D = 0; D < F.length; D++) {
                            let H = F[D]
                              , N = H
                              , j = 1;
                            for (; F[D + j]; ) {
                                let ce = F[D + j];
                                if (!ee.canBreakChars(N, ce, P, D, t.breakWords))
                                    H += ce;
                                else
                                    break;
                                N = ce,
                                j++
                            }
                            D += j - 1;
                            let re = ee._getFromCache(H, l, h, r);
                            re + s > v && (d += ee._addLine(o),
                            _ = !1,
                            o = "",
                            s = 0),
                            o += H,
                            s += re
                        }
                    } else {
                        o.length > 0 && (d += ee._addLine(o),
                        o = "",
                        s = 0);
                        let F = A === T.length - 1;
                        d += ee._addLine(P, !F),
                        _ = !1,
                        o = "",
                        s = 0
                    }
                else
                    I + s > v && (_ = !1,
                    d += ee._addLine(o),
                    o = "",
                    s = 0),
                    (o.length > 0 || !ee.isBreakingSpace(P) || _) && (o += P,
                    s += I)
            }
            return d += ee._addLine(o, !1),
            d
        }
        static _addLine(e, t=!0) {
            return e = ee._trimRight(e),
            e = t ? `${e}
` : e,
            e
        }
        static _getFromCache(e, t, i, r) {
            let s = i[e];
            return typeof s != "number" && (s = ee._measureText(e, t, r) + t,
            i[e] = s),
            s
        }
        static _collapseSpaces(e) {
            return e === "normal" || e === "pre-line"
        }
        static _collapseNewlines(e) {
            return e === "normal"
        }
        static _trimRight(e) {
            if (typeof e != "string")
                return "";
            for (let t = e.length - 1; t >= 0; t--) {
                let i = e[t];
                if (!ee.isBreakingSpace(i))
                    break;
                e = e.slice(0, -1)
            }
            return e
        }
        static _isNewline(e) {
            return typeof e != "string" ? !1 : ee._newlines.includes(e.charCodeAt(0))
        }
        static isBreakingSpace(e, t) {
            return typeof e != "string" ? !1 : ee._breakingSpaces.includes(e.charCodeAt(0))
        }
        static _tokenize(e) {
            let t = []
              , i = "";
            if (typeof e != "string")
                return t;
            for (let r = 0; r < e.length; r++) {
                let s = e[r]
                  , o = e[r + 1];
                if (ee.isBreakingSpace(s, o) || ee._isNewline(s)) {
                    i !== "" && (t.push(i),
                    i = ""),
                    t.push(s);
                    continue
                }
                i += s
            }
            return i !== "" && t.push(i),
            t
        }
        static canBreakWords(e, t) {
            return t
        }
        static canBreakChars(e, t, i, r, s) {
            return !0
        }
        static wordWrapSplit(e) {
            return ee.graphemeSegmenter(e)
        }
        static measureFont(e) {
            if (ee._fonts[e])
                return ee._fonts[e];
            let t = ee._context;
            t.font = e;
            let i = t.measureText(ee.METRICS_STRING + ee.BASELINE_SYMBOL)
              , r = {
                ascent: i.actualBoundingBoxAscent,
                descent: i.actualBoundingBoxDescent,
                fontSize: i.actualBoundingBoxAscent + i.actualBoundingBoxDescent
            };
            return ee._fonts[e] = r,
            r
        }
        static clearMetrics(e="") {
            e ? delete ee._fonts[e] : ee._fonts = {}
        }
        static get _canvas() {
            if (!ee.__canvas) {
                let e;
                try {
                    let t = new OffscreenCanvas(0,0)
                      , i = t.getContext("2d", ed);
                    if (i != null && i.measureText)
                        return ee.__canvas = t,
                        t;
                    e = xe.get().createCanvas()
                } catch {
                    e = xe.get().createCanvas()
                }
                e.width = e.height = 10,
                ee.__canvas = e
            }
            return ee.__canvas
        }
        static get _context() {
            return ee.__context || (ee.__context = ee._canvas.getContext("2d", ed)),
            ee.__context
        }
    }
    ;
    jt.METRICS_STRING = "|\xC9q\xC5",
    jt.BASELINE_SYMBOL = "M",
    jt.BASELINE_MULTIPLIER = 1.4,
    jt.HEIGHT_MULTIPLIER = 2,
    jt.graphemeSegmenter = ( () => {
        if (typeof Intl?.Segmenter == "function") {
            let a = new Intl.Segmenter;
            return e => [...a.segment(e)].map(t => t.segment)
        }
        return a => [...a]
    }
    )(),
    jt.experimentalLetterSpacing = !1,
    jt._fonts = {},
    jt._newlines = [10, 13],
    jt._breakingSpaces = [9, 32, 8192, 8193, 8194, 8195, 8196, 8197, 8198, 8200, 8201, 8202, 8287, 12288],
    jt._measurementCache = {};
    var oa = jt;
    function un(a, e) {
        var t;
        if (a.texture === K.WHITE && !a.fill)
            return Ee.shared.setValue(a.color).setAlpha((t = a.alpha) != null ? t : 1).toHexa();
        if (a.fill) {
            if (a.fill instanceof Mi) {
                let i = a.fill
                  , r = e.createPattern(i.texture.source.resource, "repeat")
                  , s = i.transform.copyTo(ie.shared);
                return s.scale(i.texture.frame.width, i.texture.frame.height),
                r.setTransform(s),
                r
            } else if (a.fill instanceof Nr) {
                let i = a.fill;
                if (i.type === "linear") {
                    let r = e.createLinearGradient(i.x0, i.y0, i.x1, i.y1);
                    return i.gradientStops.forEach(s => {
                        r.addColorStop(s.offset, Ee.shared.setValue(s.color).toHex())
                    }
                    ),
                    r
                }
            }
        } else {
            let i = e.createPattern(a.texture.source.resource, "repeat")
              , r = a.matrix.copyTo(ie.shared);
            return r.scale(a.texture.frame.width, a.texture.frame.height),
            i.setTransform(r),
            i
        }
        return "red"
    }
    var bn = class {
        constructor(e) {
            this._activeTextures = {},
            this._renderer = e
        }
        getTextureSize(e, t, i) {
            let r = oa.measureText(e || " ", i)
              , s = Math.ceil(Math.ceil(Math.max(1, r.width) + i.padding * 2) * t)
              , o = Math.ceil(Math.ceil(Math.max(1, r.height) + i.padding * 2) * t);
            return s = Math.ceil(s - 1e-6),
            o = Math.ceil(o - 1e-6),
            s = Ei(s),
            o = Ei(o),
            {
                width: s,
                height: o
            }
        }
        getTexture(e, t, i, r) {
            typeof e == "string" && (e = {
                text: e,
                style: i,
                resolution: t
            }),
            e.style instanceof Pt || (e.style = new Pt(e.style));
            let {texture: s, canvasAndContext: o} = this.createTextureAndCanvas(e);
            return this._renderer.texture.initSource(s._source),
            da.returnCanvasAndContext(o),
            s
        }
        createTextureAndCanvas(e) {
            var t;
            let {text: i, style: r} = e
              , s = (t = e.resolution) != null ? t : this._renderer.resolution
              , o = oa.measureText(i || " ", r)
              , d = Math.ceil(Math.ceil(Math.max(1, o.width) + r.padding * 2) * s)
              , h = Math.ceil(Math.ceil(Math.max(1, o.height) + r.padding * 2) * s)
              , l = da.getOptimalCanvasAndContext(d, h)
              , {canvas: u} = l;
            this.renderTextToCanvas(i, r, s, l);
            let p = lp(u, d, h, s);
            if (r.trim) {
                let y = M7(u, s);
                p.frame.copyFrom(y),
                p.updateUvs()
            }
            return {
                texture: p,
                canvasAndContext: l
            }
        }
        getManagedTexture(e) {
            e._resolution = e._autoResolution ? this._renderer.resolution : e.resolution;
            let t = e._getKey();
            if (this._activeTextures[t])
                return this._increaseReferenceCount(t),
                this._activeTextures[t].texture;
            let {texture: i, canvasAndContext: r} = this.createTextureAndCanvas(e);
            return this._activeTextures[t] = {
                canvasAndContext: r,
                texture: i,
                usageCount: 1
            },
            i
        }
        _increaseReferenceCount(e) {
            this._activeTextures[e].usageCount++
        }
        decreaseReferenceCount(e) {
            let t = this._activeTextures[e];
            if (t.usageCount--,
            t.usageCount === 0) {
                da.returnCanvasAndContext(t.canvasAndContext),
                ze.returnTexture(t.texture);
                let i = t.texture.source;
                i.resource = null,
                i.uploadMethodId = "unknown",
                i.alphaMode = "no-premultiply-alpha",
                this._activeTextures[e] = null
            }
        }
        getReferenceCount(e) {
            return this._activeTextures[e].usageCount
        }
        renderTextToCanvas(e, t, i, r) {
            var s, o, d, h, l;
            let {canvas: u, context: p} = r
              , y = fn(t)
              , _ = oa.measureText(e || " ", t)
              , v = _.lines
              , T = _.lineHeight
              , A = _.lineWidths
              , P = _.maxLineWidth
              , I = _.fontProperties
              , F = u.height;
            if (p.resetTransform(),
            p.scale(i, i),
            p.textBaseline = t.textBaseline,
            (s = t._stroke) != null && s.width) {
                let j = t._stroke;
                p.lineWidth = j.width,
                p.miterLimit = j.miterLimit,
                p.lineJoin = j.join,
                p.lineCap = j.cap
            }
            p.font = y;
            let D, H, N = t.dropShadow ? 2 : 1;
            for (let j = 0; j < N; ++j) {
                let re = t.dropShadow && j === 0
                  , ce = re ? Math.ceil(Math.max(1, F) + t.padding * 2) : 0
                  , Z = ce * i;
                if (re) {
                    p.fillStyle = "black",
                    p.strokeStyle = "black";
                    let te = t.dropShadow
                      , Ie = te.color
                      , Tt = te.alpha;
                    p.shadowColor = Ee.shared.setValue(Ie).setAlpha(Tt).toRgbaString();
                    let ne = te.blur * i
                      , de = te.distance * i;
                    p.shadowBlur = ne,
                    p.shadowOffsetX = Math.cos(te.angle) * de,
                    p.shadowOffsetY = Math.sin(te.angle) * de + Z
                } else
                    p.fillStyle = t._fill ? un(t._fill, p) : null,
                    (o = t._stroke) != null && o.width && (p.strokeStyle = un(t._stroke, p)),
                    p.shadowColor = "black";
                let q = (T - I.fontSize) / 2;
                T - I.fontSize < 0 && (q = 0);
                let se = (h = (d = t._stroke) == null ? void 0 : d.width) != null ? h : 0;
                for (let te = 0; te < v.length; te++)
                    D = se / 2,
                    H = se / 2 + te * T + I.ascent + q,
                    t.align === "right" ? D += P - A[te] : t.align === "center" && (D += (P - A[te]) / 2),
                    (l = t._stroke) != null && l.width && this._drawLetterSpacing(v[te], t, r, D + t.padding, H + t.padding - ce, !0),
                    t._fill !== void 0 && this._drawLetterSpacing(v[te], t, r, D + t.padding, H + t.padding - ce)
            }
        }
        _drawLetterSpacing(e, t, i, r, s, o=!1) {
            let {context: d} = i
              , h = t.letterSpacing
              , l = !1;
            if (oa.experimentalLetterSpacingSupported && (oa.experimentalLetterSpacing ? (d.letterSpacing = `${h}px`,
            d.textLetterSpacing = `${h}px`,
            l = !0) : (d.letterSpacing = "0px",
            d.textLetterSpacing = "0px")),
            h === 0 || l) {
                o ? d.strokeText(e, r, s) : d.fillText(e, r, s);
                return
            }
            let u = r
              , p = oa.graphemeSegmenter(e)
              , y = d.measureText(e).width
              , _ = 0;
            for (let v = 0; v < p.length; ++v) {
                let T = p[v];
                o ? d.strokeText(T, u, s) : d.fillText(T, u, s);
                let A = "";
                for (let P = v + 1; P < p.length; ++P)
                    A += p[P];
                _ = d.measureText(A).width,
                u += y - _ + h,
                y = _
            }
        }
        destroy() {
            this._activeTextures = null
        }
    }
    ;
    bn.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem, B.CanvasSystem],
        name: "canvasText"
    },
    pe.add(bn),
    pe.add(dn);
    var A9 = Object.defineProperty, pn = Object.getOwnPropertySymbols, fp = Object.prototype.hasOwnProperty, up = Object.prototype.propertyIsEnumerable, B0 = (a, e, t) => e in a ? A9(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t, E9 = (a, e) => {
        for (var t in e || (e = {}))
            fp.call(e, t) && B0(a, t, e[t]);
        if (pn)
            for (var t of pn(e))
                up.call(e, t) && B0(a, t, e[t]);
        return a
    }
    , P9 = (a, e) => {
        var t = {};
        for (var i in a)
            fp.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && pn)
            for (var i of pn(a))
                e.indexOf(i) < 0 && up.call(a, i) && (t[i] = a[i]);
        return t
    }
    , We = class a extends la {
        constructor(e) {
            e instanceof dt && (e = {
                context: e
            });
            let t = e || {}
              , {context: i, roundPixels: r} = t
              , s = P9(t, ["context", "roundPixels"]);
            super(E9({
                label: "Graphics"
            }, s)),
            this.renderPipeId = "graphics",
            i ? this._context = i : this._context = this._ownedContext = new dt,
            this._context.on("update", this.onViewUpdate, this),
            this.allowChildren = !1,
            this.roundPixels = r ?? !1
        }
        set context(e) {
            e !== this._context && (this._context.off("update", this.onViewUpdate, this),
            this._context = e,
            this._context.on("update", this.onViewUpdate, this),
            this.onViewUpdate())
        }
        get context() {
            return this._context
        }
        get bounds() {
            return this._context.bounds
        }
        updateBounds() {}
        containsPoint(e) {
            return this._context.containsPoint(e)
        }
        destroy(e) {
            this._ownedContext && !e ? this._ownedContext.destroy(e) : (e === !0 || e?.context === !0) && this._context.destroy(e),
            this._ownedContext = null,
            this._context = null,
            super.destroy(e)
        }
        _callContextMethod(e, t) {
            return this.context[e](...t),
            this
        }
        setFillStyle(...e) {
            return this._callContextMethod("setFillStyle", e)
        }
        setStrokeStyle(...e) {
            return this._callContextMethod("setStrokeStyle", e)
        }
        fill(...e) {
            return this._callContextMethod("fill", e)
        }
        stroke(...e) {
            return this._callContextMethod("stroke", e)
        }
        texture(...e) {
            return this._callContextMethod("texture", e)
        }
        beginPath() {
            return this._callContextMethod("beginPath", [])
        }
        cut() {
            return this._callContextMethod("cut", [])
        }
        arc(...e) {
            return this._callContextMethod("arc", e)
        }
        arcTo(...e) {
            return this._callContextMethod("arcTo", e)
        }
        arcToSvg(...e) {
            return this._callContextMethod("arcToSvg", e)
        }
        bezierCurveTo(...e) {
            return this._callContextMethod("bezierCurveTo", e)
        }
        closePath() {
            return this._callContextMethod("closePath", [])
        }
        ellipse(...e) {
            return this._callContextMethod("ellipse", e)
        }
        circle(...e) {
            return this._callContextMethod("circle", e)
        }
        path(...e) {
            return this._callContextMethod("path", e)
        }
        lineTo(...e) {
            return this._callContextMethod("lineTo", e)
        }
        moveTo(...e) {
            return this._callContextMethod("moveTo", e)
        }
        quadraticCurveTo(...e) {
            return this._callContextMethod("quadraticCurveTo", e)
        }
        rect(...e) {
            return this._callContextMethod("rect", e)
        }
        roundRect(...e) {
            return this._callContextMethod("roundRect", e)
        }
        poly(...e) {
            return this._callContextMethod("poly", e)
        }
        regularPoly(...e) {
            return this._callContextMethod("regularPoly", e)
        }
        roundPoly(...e) {
            return this._callContextMethod("roundPoly", e)
        }
        roundShape(...e) {
            return this._callContextMethod("roundShape", e)
        }
        filletRect(...e) {
            return this._callContextMethod("filletRect", e)
        }
        chamferRect(...e) {
            return this._callContextMethod("chamferRect", e)
        }
        star(...e) {
            return this._callContextMethod("star", e)
        }
        svg(...e) {
            return this._callContextMethod("svg", e)
        }
        restore(...e) {
            return this._callContextMethod("restore", e)
        }
        save() {
            return this._callContextMethod("save", [])
        }
        getTransform() {
            return this.context.getTransform()
        }
        resetTransform() {
            return this._callContextMethod("resetTransform", [])
        }
        rotateTransform(...e) {
            return this._callContextMethod("rotate", e)
        }
        scaleTransform(...e) {
            return this._callContextMethod("scale", e)
        }
        setTransform(...e) {
            return this._callContextMethod("setTransform", e)
        }
        transform(...e) {
            return this._callContextMethod("transform", e)
        }
        translateTransform(...e) {
            return this._callContextMethod("translate", e)
        }
        clear() {
            return this._callContextMethod("clear", [])
        }
        get fillStyle() {
            return this._context.fillStyle
        }
        set fillStyle(e) {
            this._context.fillStyle = e
        }
        get strokeStyle() {
            return this._context.strokeStyle
        }
        set strokeStyle(e) {
            this._context.strokeStyle = e
        }
        clone(e=!1) {
            return e ? new a(this._context.clone()) : (this._ownedContext = null,
            new a(this._context))
        }
        lineStyle(e, t, i) {
            let r = {};
            return e && (r.width = e),
            t && (r.color = t),
            i && (r.alpha = i),
            this.context.strokeStyle = r,
            this
        }
        beginFill(e, t) {
            let i = {};
            return e !== void 0 && (i.color = e),
            t !== void 0 && (i.alpha = t),
            this.context.fillStyle = i,
            this
        }
        endFill() {
            this.context.fill();
            let e = this.context.strokeStyle;
            return (e.width !== dt.defaultStrokeStyle.width || e.color !== dt.defaultStrokeStyle.color || e.alpha !== dt.defaultStrokeStyle.alpha) && this.context.stroke(),
            this
        }
        drawCircle(...e) {
            return this._callContextMethod("circle", e)
        }
        drawEllipse(...e) {
            return this._callContextMethod("ellipse", e)
        }
        drawPolygon(...e) {
            return this._callContextMethod("poly", e)
        }
        drawRect(...e) {
            return this._callContextMethod("rect", e)
        }
        drawRoundedRect(...e) {
            return this._callContextMethod("roundRect", e)
        }
        drawStar(...e) {
            return this._callContextMethod("star", e)
        }
    }
    , R9 = {
        name: "local-uniform-msdf-bit",
        vertex: {
            header: `
struct LocalUniforms {
uColor:vec4<f32>,
uTransformMatrix:mat3x3<f32>,
uDistance: f32,
uRound:f32,
}

@group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
`,
            main: `
vColor *= localUniforms.uColor;
modelMatrix *= localUniforms.uTransformMatrix;
`,
            end: `
if(localUniforms.uRound == 1)
{
vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
}
`
        },
        fragment: {
            header: `
struct LocalUniforms {
uColor:vec4<f32>,
uTransformMatrix:mat3x3<f32>,
uDistance: f32
}

@group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;
`,
            main: ` 
outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));
`
        }
    }, M9 = {
        name: "local-uniform-msdf-bit",
        vertex: {
            header: `
uniform mat3 uTransformMatrix;
uniform vec4 uColor;
uniform float uRound;
`,
            main: `
vColor *= uColor;
modelMatrix *= uTransformMatrix;
`,
            end: `
if(uRound == 1.)
{
gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
}
`
        },
        fragment: {
            header: `
uniform float uDistance;
`,
            main: ` 
outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));
`
        }
    }, C9 = {
        name: "msdf-bit",
        fragment: {
            header: `
fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {

// MSDF
var median = msdfColor.r + msdfColor.g + msdfColor.b -
min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
max(msdfColor.r, max(msdfColor.g, msdfColor.b));

// SDF
median = min(median, msdfColor.a);

var screenPxDistance = distance * (median - 0.5);
var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);
if (median < 0.01) {
alpha = 0.0;
} else if (median > 0.99) {
alpha = 1.0;
}

// Gamma correction for coverage-like alpha
var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));
var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);
var coverage: f32 = pow(shapeColor.a * alpha, gamma);

return coverage;

}
`
        }
    }, O9 = {
        name: "msdf-bit",
        fragment: {
            header: `
float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {

// MSDF
float median = msdfColor.r + msdfColor.g + msdfColor.b -
            min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -
            max(msdfColor.r, max(msdfColor.g, msdfColor.b));

// SDF
median = min(median, msdfColor.a);

float screenPxDistance = distance * (median - 0.5);
float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);

if (median < 0.01) {
alpha = 0.0;
} else if (median > 0.99) {
alpha = 1.0;
}

// Gamma correction for coverage-like alpha
float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));
float gamma = mix(1.0, 1.0 / 2.2, luma);
float coverage = pow(shapeColor.a * alpha, gamma);  

return coverage;
}
`
        }
    }, td, ad, mh = class extends ht {
        constructor() {
            let e = new Je({
                uColor: {
                    value: new Float32Array([1, 1, 1, 1]),
                    type: "vec4<f32>"
                },
                uTransformMatrix: {
                    value: new ie,
                    type: "mat3x3<f32>"
                },
                uDistance: {
                    value: 4,
                    type: "f32"
                },
                uRound: {
                    value: 0,
                    type: "f32"
                }
            })
              , t = Ii();
            td != null || (td = Vr({
                name: "sdf-shader",
                bits: [yl, vl(t), R9, C9, Yr]
            })),
            ad != null || (ad = Wr({
                name: "sdf-shader",
                bits: [xl, Tl(t), M9, O9, $r]
            })),
            super({
                glProgram: ad,
                gpuProgram: td,
                resources: {
                    localUniforms: e,
                    batchSamplers: Sl(t)
                }
            })
        }
    }
    , id = 0, F0 = 500;
    function Jt(...a) {
        id !== F0 && id++
    }
    var gn = class extends xt {
        constructor() {
            super(...arguments),
            this.chars = Object.create(null),
            this.lineHeight = 0,
            this.fontFamily = "",
            this.fontMetrics = {
                fontSize: 0,
                ascent: 0,
                descent: 0
            },
            this.baseLineOffset = 0,
            this.distanceField = {
                type: "none",
                range: 0
            },
            this.pages = [],
            this.applyFillAsTint = !0,
            this.baseMeasurementFontSize = 100,
            this.baseRenderedFontSize = 100
        }
        get font() {
            return this.fontFamily
        }
        get pageTextures() {
            return this.pages
        }
        get size() {
            return this.fontMetrics.fontSize
        }
        get distanceFieldRange() {
            return this.distanceField.range
        }
        get distanceFieldType() {
            return this.distanceField.type
        }
        destroy(e=!1) {
            var t;
            this.emit("destroy", this),
            this.removeAllListeners();
            for (let i in this.chars)
                (t = this.chars[i].texture) == null || t.destroy();
            this.chars = null,
            e && (this.pages.forEach(i => i.texture.destroy(!0)),
            this.pages = null)
        }
    }
    ;
    function bp(a) {
        if (a === "")
            return [];
        typeof a == "string" && (a = [a]);
        let e = [];
        for (let t = 0, i = a.length; t < i; t++) {
            let r = a[t];
            if (Array.isArray(r)) {
                if (r.length !== 2)
                    throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${r.length}.`);
                if (r[0].length === 0 || r[1].length === 0)
                    throw new Error("[BitmapFont]: Invalid character delimiter.");
                let s = r[0].charCodeAt(0)
                  , o = r[1].charCodeAt(0);
                if (o < s)
                    throw new Error("[BitmapFont]: Invalid character range.");
                for (let d = s, h = o; d <= h; d++)
                    e.push(String.fromCharCode(d))
            } else
                e.push(...Array.from(r))
        }
        if (e.length === 0)
            throw new Error("[BitmapFont]: Empty set when resolving characters.");
        return e
    }
    var I9 = Object.defineProperty
      , D0 = Object.getOwnPropertySymbols
      , G9 = Object.prototype.hasOwnProperty
      , B9 = Object.prototype.propertyIsEnumerable
      , k0 = (a, e, t) => e in a ? I9(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , U0 = (a, e) => {
        for (var t in e || (e = {}))
            G9.call(e, t) && k0(a, t, e[t]);
        if (D0)
            for (var t of D0(e))
                B9.call(e, t) && k0(a, t, e[t]);
        return a
    }
      , pp = class gp extends gn {
        constructor(e) {
            var t, i, r;
            super(),
            this.resolution = 1,
            this.pages = [],
            this._padding = 0,
            this._measureCache = Object.create(null),
            this._currentChars = [],
            this._currentX = 0,
            this._currentY = 0,
            this._currentPageIndex = -1,
            this._skipKerning = !1;
            let s = U0(U0({}, gp.defaultOptions), e);
            this._textureSize = s.textureSize,
            this._mipmap = s.mipmap;
            let o = s.style.clone();
            s.overrideFill && (o._fill.color = 16777215,
            o._fill.alpha = 1,
            o._fill.texture = K.WHITE,
            o._fill.fill = null),
            this.applyFillAsTint = s.overrideFill;
            let d = o.fontSize;
            o.fontSize = this.baseMeasurementFontSize;
            let h = fn(o);
            s.overrideSize ? o._stroke && (o._stroke.width *= this.baseRenderedFontSize / d) : o.fontSize = this.baseRenderedFontSize = d,
            this._style = o,
            this._skipKerning = (t = s.skipKerning) != null ? t : !1,
            this.resolution = (i = s.resolution) != null ? i : 1,
            this._padding = (r = s.padding) != null ? r : 4,
            this.fontMetrics = oa.measureFont(h),
            this.lineHeight = o.lineHeight || this.fontMetrics.fontSize || o.fontSize
        }
        ensureCharacters(e) {
            var t, i, r, s;
            let o = bp(e).filter(D => !this._currentChars.includes(D)).filter( (D, H, N) => N.indexOf(D) === H);
            if (!o.length)
                return;
            this._currentChars = [...this._currentChars, ...o];
            let d;
            this._currentPageIndex === -1 ? d = this._nextPage() : d = this.pages[this._currentPageIndex];
            let {canvas: h, context: l} = d.canvasAndContext
              , u = d.texture.source
              , p = this._style
              , y = this._currentX
              , _ = this._currentY
              , v = this.baseRenderedFontSize / this.baseMeasurementFontSize
              , T = this._padding * v
              , A = 0
              , P = !1
              , I = h.width / this.resolution
              , F = h.height / this.resolution;
            for (let D = 0; D < o.length; D++) {
                let H = o[D]
                  , N = oa.measureText(H, p, h, !1);
                N.lineHeight = N.height;
                let j = N.width * v
                  , re = Math.ceil((p.fontStyle === "italic" ? 2 : 1) * j)
                  , ce = N.height * v
                  , Z = re + T * 2
                  , q = ce + T * 2;
                if (P = !1,
                H !== `
` && H !== "\r" && H !== "	" && H !== " " && (P = !0,
                A = Math.ceil(Math.max(q, A))),
                y + Z > I && (_ += A,
                A = q,
                y = 0,
                _ + A > F)) {
                    u.update();
                    let te = this._nextPage();
                    h = te.canvasAndContext.canvas,
                    l = te.canvasAndContext.context,
                    u = te.texture.source,
                    _ = 0
                }
                let se = j / v - ((i = (t = p.dropShadow) == null ? void 0 : t.distance) != null ? i : 0) - ((s = (r = p._stroke) == null ? void 0 : r.width) != null ? s : 0);
                if (this.chars[H] = {
                    id: H.codePointAt(0),
                    xOffset: -this._padding,
                    yOffset: -this._padding,
                    xAdvance: se,
                    kerning: {}
                },
                P) {
                    this._drawGlyph(l, N, y + T, _ + T, v, p);
                    let te = u.width * v
                      , Ie = u.height * v
                      , Tt = new Pe(y / te * u.width,_ / Ie * u.height,Z / te * u.width,q / Ie * u.height);
                    this.chars[H].texture = new K({
                        source: u,
                        frame: Tt
                    }),
                    y += Math.ceil(Z)
                }
            }
            u.update(),
            this._currentX = y,
            this._currentY = _,
            this._skipKerning && this._applyKerning(o, l)
        }
        get pageTextures() {
            return this.pages
        }
        _applyKerning(e, t) {
            let i = this._measureCache;
            for (let r = 0; r < e.length; r++) {
                let s = e[r];
                for (let o = 0; o < this._currentChars.length; o++) {
                    let d = this._currentChars[o]
                      , h = i[s];
                    h || (h = i[s] = t.measureText(s).width);
                    let l = i[d];
                    l || (l = i[d] = t.measureText(d).width);
                    let u = t.measureText(s + d).width
                      , p = u - (h + l);
                    p && (this.chars[s].kerning[d] = p),
                    u = t.measureText(s + d).width,
                    p = u - (h + l),
                    p && (this.chars[d].kerning[s] = p)
                }
            }
        }
        _nextPage() {
            this._currentPageIndex++;
            let e = this.resolution
              , t = da.getOptimalCanvasAndContext(this._textureSize, this._textureSize, e);
            this._setupContext(t.context, this._style, e);
            let i = e * (this.baseRenderedFontSize / this.baseMeasurementFontSize)
              , r = new K({
                source: new Ca({
                    resource: t.canvas,
                    resolution: i,
                    alphaMode: "premultiply-alpha-on-upload",
                    autoGenerateMipmaps: this._mipmap
                })
            })
              , s = {
                canvasAndContext: t,
                texture: r
            };
            return this.pages[this._currentPageIndex] = s,
            s
        }
        _setupContext(e, t, i) {
            var r;
            t.fontSize = this.baseRenderedFontSize,
            e.scale(i, i),
            e.font = fn(t),
            t.fontSize = this.baseMeasurementFontSize,
            e.textBaseline = t.textBaseline;
            let s = t._stroke
              , o = (r = s?.width) != null ? r : 0;
            if (s && (e.lineWidth = o,
            e.lineJoin = s.join,
            e.miterLimit = s.miterLimit,
            e.strokeStyle = un(s, e)),
            t._fill && (e.fillStyle = un(t._fill, e)),
            t.dropShadow) {
                let d = t.dropShadow
                  , h = Ee.shared.setValue(d.color).toArray()
                  , l = d.blur * i
                  , u = d.distance * i;
                e.shadowColor = `rgba(${h[0] * 255},${h[1] * 255},${h[2] * 255},${d.alpha})`,
                e.shadowBlur = l,
                e.shadowOffsetX = Math.cos(d.angle) * u,
                e.shadowOffsetY = Math.sin(d.angle) * u
            } else
                e.shadowColor = "black",
                e.shadowBlur = 0,
                e.shadowOffsetX = 0,
                e.shadowOffsetY = 0
        }
        _drawGlyph(e, t, i, r, s, o) {
            var d;
            let h = t.text
              , l = t.fontProperties
              , u = o._stroke
              , p = ((d = u?.width) != null ? d : 0) * s
              , y = i + p / 2
              , _ = r - p / 2
              , v = l.descent * s
              , T = t.lineHeight * s;
            o.stroke && p && e.strokeText(h, y, _ + T - v),
            o._fill && e.fillText(h, y, _ + T - v)
        }
        destroy() {
            super.destroy();
            for (let e = 0; e < this.pages.length; e++) {
                let {canvasAndContext: t, texture: i} = this.pages[e];
                da.returnCanvasAndContext(t),
                i.destroy(!0)
            }
            this.pages = null
        }
    }
    ;
    pp.defaultOptions = {
        textureSize: 512,
        style: new Pt,
        mipmap: !0
    };
    var L0 = pp;
    function mp(a, e, t, i) {
        let r = {
            width: 0,
            height: 0,
            offsetY: 0,
            scale: e.fontSize / t.baseMeasurementFontSize,
            lines: [{
                width: 0,
                charPositions: [],
                spaceWidth: 0,
                spacesIndex: [],
                chars: []
            }]
        };
        r.offsetY = t.baseLineOffset;
        let s = r.lines[0]
          , o = null
          , d = !0
          , h = {
            spaceWord: !1,
            width: 0,
            start: 0,
            index: 0,
            positions: [],
            chars: []
        }
          , l = v => {
            let T = s.width;
            for (let A = 0; A < h.index; A++) {
                let P = v.positions[A];
                s.chars.push(v.chars[A]),
                s.charPositions.push(P + T)
            }
            s.width += v.width,
            d = !1,
            h.width = 0,
            h.index = 0,
            h.chars.length = 0
        }
          , u = () => {
            let v = s.chars.length - 1;
            if (i) {
                let T = s.chars[v];
                for (; T === " "; )
                    s.width -= t.chars[T].xAdvance,
                    T = s.chars[--v]
            }
            r.width = Math.max(r.width, s.width),
            s = {
                width: 0,
                charPositions: [],
                chars: [],
                spaceWidth: 0,
                spacesIndex: []
            },
            d = !0,
            r.lines.push(s),
            r.height += t.lineHeight
        }
          , p = t.baseMeasurementFontSize / e.fontSize
          , y = e.letterSpacing * p
          , _ = e.wordWrapWidth * p;
        for (let v = 0; v < a.length + 1; v++) {
            let T, A = v === a.length;
            A || (T = a[v]);
            let P = t.chars[T] || t.chars[" "];
            if (/(?:\s)/.test(T) || T === "\r" || T === `
` || A) {
                if (!d && e.wordWrap && s.width + h.width - y > _ ? (u(),
                l(h),
                A || s.charPositions.push(0)) : (h.start = s.width,
                l(h),
                A || s.charPositions.push(0)),
                T === "\r" || T === `
`)
                    s.width !== 0 && u();
                else if (!A) {
                    let I = P.xAdvance + (P.kerning[o] || 0) + y;
                    s.width += I,
                    s.spaceWidth = I,
                    s.spacesIndex.push(s.charPositions.length),
                    s.chars.push(T)
                }
            } else {
                let I = P.kerning[o] || 0
                  , F = P.xAdvance + I + y;
                h.positions[h.index++] = h.width + I,
                h.chars.push(T),
                h.width += F
            }
            o = T
        }
        return u(),
        e.align === "center" ? F9(r) : e.align === "right" ? D9(r) : e.align === "justify" && k9(r),
        r
    }
    function F9(a) {
        for (let e = 0; e < a.lines.length; e++) {
            let t = a.lines[e]
              , i = a.width / 2 - t.width / 2;
            for (let r = 0; r < t.charPositions.length; r++)
                t.charPositions[r] += i
        }
    }
    function D9(a) {
        for (let e = 0; e < a.lines.length; e++) {
            let t = a.lines[e]
              , i = a.width - t.width;
            for (let r = 0; r < t.charPositions.length; r++)
                t.charPositions[r] += i
        }
    }
    function k9(a) {
        let e = a.width;
        for (let t = 0; t < a.lines.length; t++) {
            let i = a.lines[t]
              , r = 0
              , s = i.spacesIndex[r++]
              , o = 0
              , d = i.spacesIndex.length
              , h = (e - i.width) / d;
            for (let l = 0; l < i.charPositions.length; l++)
                l === s && (s = i.spacesIndex[r++],
                o += h),
                i.charPositions[l] += o
        }
    }
    var U9 = Object.defineProperty
      , N0 = Object.getOwnPropertySymbols
      , L9 = Object.prototype.hasOwnProperty
      , N9 = Object.prototype.propertyIsEnumerable
      , j0 = (a, e, t) => e in a ? U9(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , rd = (a, e) => {
        for (var t in e || (e = {}))
            L9.call(e, t) && j0(a, t, e[t]);
        if (N0)
            for (var t of N0(e))
                N9.call(e, t) && j0(a, t, e[t]);
        return a
    }
      , ws = 0
      , j9 = class {
        constructor() {
            this.ALPHA = [["a", "z"], ["A", "Z"], " "],
            this.NUMERIC = [["0", "9"]],
            this.ALPHANUMERIC = [["a", "z"], ["A", "Z"], ["0", "9"], " "],
            this.ASCII = [[" ", "~"]],
            this.defaultOptions = {
                chars: this.ALPHANUMERIC,
                resolution: 1,
                padding: 4,
                skipKerning: !1
            }
        }
        getFont(a, e) {
            var t;
            let i = `${e.fontFamily}-bitmap`
              , r = !0;
            if (e._fill.fill && !e._stroke)
                i += e._fill.fill.styleKey,
                r = !1;
            else if (e._stroke || e.dropShadow) {
                let o = e.styleKey;
                o = o.substring(0, o.lastIndexOf("-")),
                i = `${o}-bitmap`,
                r = !1
            }
            if (!Oe.has(i)) {
                let o = new L0(rd({
                    style: e,
                    overrideFill: r,
                    overrideSize: !0
                }, this.defaultOptions));
                ws++,
                ws > 50 && Jt("BitmapText", `You have dynamically created ${ws} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),
                o.once("destroy", () => {
                    ws--,
                    Oe.remove(i)
                }
                ),
                Oe.set(i, o)
            }
            let s = Oe.get(i);
            return (t = s.ensureCharacters) == null || t.call(s, a),
            s
        }
        getLayout(a, e, t=!0) {
            let i = this.getFont(a, e);
            return mp([...a], e, i, t)
        }
        measureText(a, e, t=!0) {
            return this.getLayout(a, e, t)
        }
        install(...a) {
            var e, t, i, r;
            let s = a[0];
            typeof s == "string" && (s = {
                name: s,
                style: a[1],
                chars: (e = a[2]) == null ? void 0 : e.chars,
                resolution: (t = a[2]) == null ? void 0 : t.resolution,
                padding: (i = a[2]) == null ? void 0 : i.padding,
                skipKerning: (r = a[2]) == null ? void 0 : r.skipKerning
            });
            let o = s?.name;
            if (!o)
                throw new Error("[BitmapFontManager] Property `name` is required.");
            s = rd(rd({}, this.defaultOptions), s);
            let d = s.style
              , h = d instanceof Pt ? d : new Pt(d)
              , l = h._fill.fill !== null && h._fill.fill !== void 0
              , u = new L0({
                style: h,
                overrideFill: l,
                skipKerning: s.skipKerning,
                padding: s.padding,
                resolution: s.resolution,
                overrideSize: !1
            })
              , p = bp(s.chars);
            return u.ensureCharacters(p.join("")),
            Oe.set(`${o}-bitmap`, u),
            u.once("destroy", () => Oe.remove(`${o}-bitmap`)),
            u
        }
        uninstall(a) {
            let e = `${a}-bitmap`
              , t = Oe.get(e);
            t && t.destroy()
        }
    }
      , mn = new j9
      , _n = class {
        constructor(e) {
            this._gpuBitmapText = {},
            this._destroyRenderableBound = this.destroyRenderable.bind(this),
            this._renderer = e,
            this._renderer.renderableGC.addManagedHash(this, "_gpuBitmapText")
        }
        validateRenderable(e) {
            let t = this._getGpuBitmapText(e);
            return e._didTextUpdate && (e._didTextUpdate = !1,
            this._updateContext(e, t)),
            this._renderer.renderPipes.graphics.validateRenderable(t)
        }
        addRenderable(e, t) {
            let i = this._getGpuBitmapText(e);
            X0(e, i),
            e._didTextUpdate && (e._didTextUpdate = !1,
            this._updateContext(e, i)),
            this._renderer.renderPipes.graphics.addRenderable(i, t),
            i.context.customShader && this._updateDistanceField(e)
        }
        destroyRenderable(e) {
            e.off("destroyed", this._destroyRenderableBound),
            this._destroyRenderableByUid(e.uid)
        }
        _destroyRenderableByUid(e) {
            let t = this._gpuBitmapText[e].context;
            t.customShader && (ye.return(t.customShader),
            t.customShader = null),
            ye.return(this._gpuBitmapText[e]),
            this._gpuBitmapText[e] = null
        }
        updateRenderable(e) {
            let t = this._getGpuBitmapText(e);
            X0(e, t),
            this._renderer.renderPipes.graphics.updateRenderable(t),
            t.context.customShader && this._updateDistanceField(e)
        }
        _updateContext(e, t) {
            let {context: i} = t
              , r = mn.getFont(e.text, e._style);
            i.clear(),
            r.distanceField.type !== "none" && (i.customShader || (i.customShader = ye.get(mh)));
            let s = Array.from(e.text)
              , o = e._style
              , d = r.baseLineOffset
              , h = mp(s, o, r, !0)
              , l = 0
              , u = o.padding
              , p = h.scale
              , y = h.width
              , _ = h.height + h.offsetY;
            o._stroke && (y += o._stroke.width / p,
            _ += o._stroke.width / p),
            i.translate(-e._anchor._x * y - u, -e._anchor._y * _ - u).scale(p, p);
            let v = r.applyFillAsTint ? o._fill.color : 16777215;
            for (let T = 0; T < h.lines.length; T++) {
                let A = h.lines[T];
                for (let P = 0; P < A.charPositions.length; P++) {
                    let I = s[l++]
                      , F = r.chars[I];
                    F != null && F.texture && i.texture(F.texture, v || "black", Math.round(A.charPositions[P] + F.xOffset), Math.round(d + F.yOffset))
                }
                d += r.lineHeight
            }
        }
        _getGpuBitmapText(e) {
            return this._gpuBitmapText[e.uid] || this.initGpuText(e)
        }
        initGpuText(e) {
            let t = ye.get(We);
            return this._gpuBitmapText[e.uid] = t,
            this._updateContext(e, t),
            e.on("destroyed", this._destroyRenderableBound),
            this._gpuBitmapText[e.uid]
        }
        _updateDistanceField(e) {
            let t = this._getGpuBitmapText(e).context
              , i = e._style.fontFamily
              , r = Oe.get(`${i}-bitmap`)
              , {a: s, b: o, c: d, d: h} = e.groupTransform
              , l = Math.sqrt(s * s + o * o)
              , u = Math.sqrt(d * d + h * h)
              , p = (Math.abs(l) + Math.abs(u)) / 2
              , y = r.baseRenderedFontSize / e._style.fontSize
              , _ = p * r.distanceField.range * (1 / y);
            t.customShader.resources.localUniforms.uniforms.uDistance = _
        }
        destroy() {
            for (let e in this._gpuBitmapText)
                this._destroyRenderableByUid(e);
            this._gpuBitmapText = null,
            this._renderer = null
        }
    }
    ;
    _n.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "bitmapText"
    };
    function X0(a, e) {
        e.groupTransform = a.groupTransform,
        e.groupColorAlpha = a.groupColorAlpha,
        e.groupColor = a.groupColor,
        e.groupBlendMode = a.groupBlendMode,
        e.globalDisplayStatus = a.globalDisplayStatus,
        e.groupTransform = a.groupTransform,
        e.localDisplayStatus = a.localDisplayStatus,
        e.groupAlpha = a.groupAlpha,
        e._roundPixels = a._roundPixels
    }
    pe.add(_n);
    var yn = class {
        constructor(e) {
            this._gpuText = Object.create(null),
            this._destroyRenderableBound = this.destroyRenderable.bind(this),
            this._renderer = e,
            this._renderer.runners.resolutionChange.add(this),
            this._renderer.renderableGC.addManagedHash(this, "_gpuText")
        }
        resolutionChange() {
            for (let e in this._gpuText) {
                let t = this._gpuText[e];
                if (!t)
                    continue;
                let i = t.batchableSprite.renderable;
                i._autoResolution && (i._resolution = this._renderer.resolution,
                i.onViewUpdate())
            }
        }
        validateRenderable(e) {
            let t = this._getGpuText(e)
              , i = e._getKey();
            return t.textureNeedsUploading ? (t.textureNeedsUploading = !1,
            !0) : t.currentKey !== i
        }
        addRenderable(e, t) {
            let i = this._getGpuText(e).batchableSprite;
            e._didTextUpdate && this._updateText(e),
            this._renderer.renderPipes.batch.addToBatch(i, t)
        }
        updateRenderable(e) {
            let t = this._getGpuText(e).batchableSprite;
            e._didTextUpdate && this._updateText(e),
            t._batcher.updateElement(t)
        }
        destroyRenderable(e) {
            e.off("destroyed", this._destroyRenderableBound),
            this._destroyRenderableById(e.uid)
        }
        _destroyRenderableById(e) {
            let t = this._gpuText[e];
            this._renderer.htmlText.decreaseReferenceCount(t.currentKey),
            ye.return(t.batchableSprite),
            this._gpuText[e] = null
        }
        _updateText(e) {
            let t = e._getKey()
              , i = this._getGpuText(e)
              , r = i.batchableSprite;
            i.currentKey !== t && this._updateGpuText(e).catch(s => {}
            ),
            e._didTextUpdate = !1,
            nh(r, e)
        }
        async _updateGpuText(e) {
            var t;
            e._didTextUpdate = !1;
            let i = this._getGpuText(e);
            if (i.generatingTexture)
                return;
            let r = e._getKey();
            this._renderer.htmlText.decreaseReferenceCount(i.currentKey),
            i.generatingTexture = !0,
            i.currentKey = r;
            let s = (t = e.resolution) != null ? t : this._renderer.resolution
              , o = await this._renderer.htmlText.getManagedTexture(e.text, s, e._style, e._getKey())
              , d = i.batchableSprite;
            d.texture = i.texture = o,
            i.generatingTexture = !1,
            i.textureNeedsUploading = !0,
            e.onViewUpdate(),
            nh(d, e)
        }
        _getGpuText(e) {
            return this._gpuText[e.uid] || this.initGpuText(e)
        }
        initGpuText(e) {
            let t = {
                texture: K.EMPTY,
                currentKey: "--",
                batchableSprite: ye.get(Ri),
                textureNeedsUploading: !1,
                generatingTexture: !1
            }
              , i = t.batchableSprite;
            return i.renderable = e,
            i.transform = e.groupTransform,
            i.texture = K.EMPTY,
            i.bounds = {
                minX: 0,
                maxX: 1,
                minY: 0,
                maxY: 0
            },
            i.roundPixels = this._renderer._roundPixels | e._roundPixels,
            e._resolution = e._autoResolution ? this._renderer.resolution : e.resolution,
            this._gpuText[e.uid] = t,
            e.on("destroyed", this._destroyRenderableBound),
            t
        }
        destroy() {
            for (let e in this._gpuText)
                this._destroyRenderableById(e);
            this._gpuText = null,
            this._renderer = null
        }
    }
    ;
    yn.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "htmlText"
    };
    function X9() {
        let {userAgent: a} = xe.get().getNavigator();
        return /^((?!chrome|android).)*safari/i.test(a)
    }
    var H0 = "http://www.w3.org/2000/svg"
      , z0 = "http://www.w3.org/1999/xhtml"
      , xn = class {
        constructor() {
            this.svgRoot = document.createElementNS(H0, "svg"),
            this.foreignObject = document.createElementNS(H0, "foreignObject"),
            this.domElement = document.createElementNS(z0, "div"),
            this.styleElement = document.createElementNS(z0, "style"),
            this.image = new Image;
            let {foreignObject: e, svgRoot: t, styleElement: i, domElement: r} = this;
            e.setAttribute("width", "10000"),
            e.setAttribute("height", "10000"),
            e.style.overflow = "hidden",
            t.appendChild(e),
            e.appendChild(i),
            e.appendChild(r)
        }
    }
    ;
    function H9(a) {
        let e = a._stroke
          , t = a._fill
          , i = [`div { ${[`color: ${Ee.shared.setValue(t.color).toHex()}`, `font-size: ${a.fontSize}px`, `font-family: ${a.fontFamily}`, `font-weight: ${a.fontWeight}`, `font-style: ${a.fontStyle}`, `font-variant: ${a.fontVariant}`, `letter-spacing: ${a.letterSpacing}px`, `text-align: ${a.align}`, `padding: ${a.padding}px`, `white-space: ${a.whiteSpace === "pre" && a.wordWrap ? "pre-wrap" : a.whiteSpace}`, ...a.lineHeight ? [`line-height: ${a.lineHeight}px`] : [], ...a.wordWrap ? [`word-wrap: ${a.breakWords ? "break-all" : "break-word"}`, `max-width: ${a.wordWrapWidth}px`] : [], ...e ? [yp(e)] : [], ...a.dropShadow ? [_p(a.dropShadow)] : [], ...a.cssOverrides].join(";")} }`];
        return z9(a.tagStyles, i),
        i.join(" ")
    }
    function _p(a) {
        let e = Ee.shared.setValue(a.color).setAlpha(a.alpha).toHexa()
          , t = Math.round(Math.cos(a.angle) * a.distance)
          , i = Math.round(Math.sin(a.angle) * a.distance)
          , r = `${t}px ${i}px`;
        return a.blur > 0 ? `text-shadow: ${r} ${a.blur}px ${e}` : `text-shadow: ${r} ${e}`
    }
    function yp(a) {
        return [`-webkit-text-stroke-width: ${a.width}px`, `-webkit-text-stroke-color: ${Ee.shared.setValue(a.color).toHex()}`, `text-stroke-width: ${a.width}px`, `text-stroke-color: ${Ee.shared.setValue(a.color).toHex()}`, "paint-order: stroke"].join(";")
    }
    var V0 = {
        fontSize: "font-size: {{VALUE}}px",
        fontFamily: "font-family: {{VALUE}}",
        fontWeight: "font-weight: {{VALUE}}",
        fontStyle: "font-style: {{VALUE}}",
        fontVariant: "font-variant: {{VALUE}}",
        letterSpacing: "letter-spacing: {{VALUE}}px",
        align: "text-align: {{VALUE}}",
        padding: "padding: {{VALUE}}px",
        whiteSpace: "white-space: {{VALUE}}",
        lineHeight: "line-height: {{VALUE}}px",
        wordWrapWidth: "max-width: {{VALUE}}px"
    }
      , W0 = {
        fill: a => `color: ${Ee.shared.setValue(a).toHex()}`,
        breakWords: a => `word-wrap: ${a ? "break-all" : "break-word"}`,
        stroke: yp,
        dropShadow: _p
    };
    function z9(a, e) {
        for (let t in a) {
            let i = a[t]
              , r = [];
            for (let s in i)
                W0[s] ? r.push(W0[s](i[s])) : V0[s] && r.push(V0[s].replace("{{VALUE}}", i[s]));
            e.push(`${t} { ${r.join(";")} }`)
        }
    }
    var V9 = Object.defineProperty
      , Y0 = Object.getOwnPropertySymbols
      , W9 = Object.prototype.hasOwnProperty
      , Y9 = Object.prototype.propertyIsEnumerable
      , $0 = (a, e, t) => e in a ? V9(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , $9 = (a, e) => {
        for (var t in e || (e = {}))
            W9.call(e, t) && $0(a, t, e[t]);
        if (Y0)
            for (var t of Y0(e))
                Y9.call(e, t) && $0(a, t, e[t]);
        return a
    }
      , vn = class a extends Pt {
        constructor(e={}) {
            var t, i;
            super(e),
            this._cssOverrides = [],
            (t = this.cssOverrides) != null || (this.cssOverrides = e.cssOverrides),
            this.tagStyles = (i = e.tagStyles) != null ? i : {}
        }
        set cssOverrides(e) {
            this._cssOverrides = e instanceof Array ? e : [e],
            this.update()
        }
        get cssOverrides() {
            return this._cssOverrides
        }
        _generateKey() {
            return this._styleKey = dp(this) + this._cssOverrides.join("-"),
            this._styleKey
        }
        update() {
            this._cssStyle = null,
            super.update()
        }
        clone() {
            return new a({
                align: this.align,
                breakWords: this.breakWords,
                dropShadow: this.dropShadow ? $9({}, this.dropShadow) : null,
                fill: this._fill,
                fontFamily: this.fontFamily,
                fontSize: this.fontSize,
                fontStyle: this.fontStyle,
                fontVariant: this.fontVariant,
                fontWeight: this.fontWeight,
                letterSpacing: this.letterSpacing,
                lineHeight: this.lineHeight,
                padding: this.padding,
                stroke: this._stroke,
                whiteSpace: this.whiteSpace,
                wordWrap: this.wordWrap,
                wordWrapWidth: this.wordWrapWidth,
                cssOverrides: this.cssOverrides
            })
        }
        get cssStyle() {
            return this._cssStyle || (this._cssStyle = H9(this)),
            this._cssStyle
        }
        addOverride(...e) {
            let t = e.filter(i => !this.cssOverrides.includes(i));
            t.length > 0 && (this.cssOverrides.push(...t),
            this.update())
        }
        removeOverride(...e) {
            let t = e.filter(i => this.cssOverrides.includes(i));
            t.length > 0 && (this.cssOverrides = this.cssOverrides.filter(i => !t.includes(i)),
            this.update())
        }
        set fill(e) {
            super.fill = e
        }
        set stroke(e) {
            super.stroke = e
        }
    }
    ;
    function K9(a, e) {
        let t = e.fontFamily
          , i = []
          , r = {}
          , s = /font-family:([^;"\s]+)/g
          , o = a.match(s);
        function d(h) {
            r[h] || (i.push(h),
            r[h] = !0)
        }
        if (Array.isArray(t))
            for (let h = 0; h < t.length; h++)
                d(t[h]);
        else
            d(t);
        o && o.forEach(h => {
            let l = h.split(":")[1].trim();
            d(l)
        }
        );
        for (let h in e.tagStyles) {
            let l = e.tagStyles[h].fontFamily;
            d(l)
        }
        return i
    }
    async function q9(a) {
        let e = await (await xe.get().fetch(a)).blob()
          , t = new FileReader;
        return await new Promise( (i, r) => {
            t.onloadend = () => i(t.result),
            t.onerror = r,
            t.readAsDataURL(e)
        }
        )
    }
    async function K0(a, e) {
        let t = await q9(e);
        return `@font-face {
font-family: "${a.fontFamily}";
src: url('${t}');
font-weight: ${a.fontWeight};
font-style: ${a.fontStyle};
}`
    }
    var As = new Map;
    async function Z9(a, e, t) {
        let i = a.filter(r => Oe.has(`${r}-and-url`)).map( (r, s) => {
            if (!As.has(r)) {
                let {url: o} = Oe.get(`${r}-and-url`);
                s === 0 ? As.set(r, K0({
                    fontWeight: e.fontWeight,
                    fontStyle: e.fontStyle,
                    fontFamily: r
                }, o)) : As.set(r, K0({
                    fontWeight: t.fontWeight,
                    fontStyle: t.fontStyle,
                    fontFamily: r
                }, o))
            }
            return As.get(r)
        }
        );
        return (await Promise.all(i)).join(`
`)
    }
    function Q9(a, e, t, i, r) {
        let {domElement: s, styleElement: o, svgRoot: d} = r;
        s.innerHTML = `<style>${e.cssStyle}</style><div style='padding:0;'>${a}</div>`,
        s.setAttribute("style", `transform: scale(${t});transform-origin: top left; display: inline-block`),
        o.textContent = i;
        let {width: h, height: l} = r.image;
        return d.setAttribute("width", h.toString()),
        d.setAttribute("height", l.toString()),
        new XMLSerializer().serializeToString(d)
    }
    function J9(a, e) {
        let t = da.getOptimalCanvasAndContext(a.width, a.height, e)
          , {context: i} = t;
        return i.clearRect(0, 0, a.width, a.height),
        i.drawImage(a, 0, 0),
        t
    }
    function eg(a, e, t) {
        return new Promise(async i => {
            t && await new Promise(r => setTimeout(r, 100)),
            a.onload = () => {
                i()
            }
            ,
            a.src = `data:image/svg+xml;charset=utf8,${encodeURIComponent(e)}`,
            a.crossOrigin = "anonymous"
        }
        )
    }
    var q0;
    function xp(a, e, t, i) {
        i || (i = q0 || (q0 = new xn));
        let {domElement: r, styleElement: s, svgRoot: o} = i;
        r.innerHTML = `<style>${e.cssStyle};</style><div style='padding:0'>${a}</div>`,
        r.setAttribute("style", "transform-origin: top left; display: inline-block"),
        t && (s.textContent = t),
        document.body.appendChild(o);
        let d = r.getBoundingClientRect();
        o.remove();
        let h = e.padding * 2;
        return {
            width: d.width - h,
            height: d.height - h
        }
    }
    var Ar = class {
        constructor(e) {
            this._activeTextures = {},
            this._renderer = e,
            this._createCanvas = e.type === yt.WEBGPU
        }
        getTexture(e) {
            return this._buildTexturePromise(e.text, e.resolution, e.style)
        }
        getManagedTexture(e, t, i, r) {
            if (this._activeTextures[r])
                return this._increaseReferenceCount(r),
                this._activeTextures[r].promise;
            let s = this._buildTexturePromise(e, t, i).then(o => (this._activeTextures[r].texture = o,
            o));
            return this._activeTextures[r] = {
                texture: null,
                promise: s,
                usageCount: 1
            },
            s
        }
        async _buildTexturePromise(e, t, i) {
            let r = ye.get(xn)
              , s = K9(e, i)
              , o = await Z9(s, i, vn.defaultTextStyle)
              , d = xp(e, i, o, r)
              , h = Math.ceil(Math.ceil(Math.max(1, d.width) + i.padding * 2) * t)
              , l = Math.ceil(Math.ceil(Math.max(1, d.height) + i.padding * 2) * t)
              , u = r.image
              , p = 2;
            u.width = (h | 0) + p,
            u.height = (l | 0) + p;
            let y = Q9(e, i, t, o, r);
            await eg(u, y, X9() && s.length > 0);
            let _ = u, v;
            this._createCanvas && (v = J9(u, t));
            let T = lp(v ? v.canvas : _, u.width - p, u.height - p, t);
            return this._createCanvas && (this._renderer.texture.initSource(T.source),
            da.returnCanvasAndContext(v)),
            ye.return(r),
            T
        }
        _increaseReferenceCount(e) {
            this._activeTextures[e].usageCount++
        }
        decreaseReferenceCount(e) {
            let t = this._activeTextures[e];
            t && (t.usageCount--,
            t.usageCount === 0 && (t.texture ? this._cleanUp(t) : t.promise.then(i => {
                t.texture = i,
                this._cleanUp(t)
            }
            ).catch( () => {}
            ),
            this._activeTextures[e] = null))
        }
        _cleanUp(e) {
            ze.returnTexture(e.texture),
            e.texture.source.resource = null,
            e.texture.source.uploadMethodId = "unknown"
        }
        getReferenceCount(e) {
            return this._activeTextures[e].usageCount
        }
        destroy() {
            this._activeTextures = null
        }
    }
    ;
    Ar.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem, B.CanvasSystem],
        name: "htmlText"
    },
    Ar.defaultFontOptions = {
        fontFamily: "Arial",
        fontStyle: "normal",
        fontWeight: "normal"
    },
    pe.add(Ar),
    pe.add(yn);
    var tg = Object.defineProperty
      , Z0 = Object.getOwnPropertySymbols
      , ag = Object.prototype.hasOwnProperty
      , ig = Object.prototype.propertyIsEnumerable
      , Q0 = (a, e, t) => e in a ? tg(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , J0 = (a, e) => {
        for (var t in e || (e = {}))
            ag.call(e, t) && Q0(a, t, e[t]);
        if (Z0)
            for (var t of Z0(e))
                ig.call(e, t) && Q0(a, t, e[t]);
        return a
    }
      , vp = class Tp extends Zt {
        constructor(...e) {
            var t;
            let i = (t = e[0]) != null ? t : {};
            i instanceof Float32Array && (i = {
                positions: i,
                uvs: e[1],
                indices: e[2]
            }),
            i = J0(J0({}, Tp.defaultOptions), i);
            let r = i.positions || new Float32Array([0, 0, 1, 0, 1, 1, 0, 1])
              , s = i.uvs;
            s || (i.positions ? s = new Float32Array(r.length) : s = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]));
            let o = i.indices || new Uint32Array([0, 1, 2, 0, 2, 3])
              , d = i.shrinkBuffersToFit
              , h = new rt({
                data: r,
                label: "attribute-mesh-positions",
                shrinkToFit: d,
                usage: ve.VERTEX | ve.COPY_DST
            })
              , l = new rt({
                data: s,
                label: "attribute-mesh-uvs",
                shrinkToFit: d,
                usage: ve.VERTEX | ve.COPY_DST
            })
              , u = new rt({
                data: o,
                label: "index-mesh-buffer",
                shrinkToFit: d,
                usage: ve.INDEX | ve.COPY_DST
            });
            super({
                attributes: {
                    aPosition: {
                        buffer: h,
                        format: "float32x2",
                        stride: 2 * 4,
                        offset: 0
                    },
                    aUV: {
                        buffer: l,
                        format: "float32x2",
                        stride: 2 * 4,
                        offset: 0
                    }
                },
                indexBuffer: u,
                topology: i.topology
            }),
            this.batchMode = "auto"
        }
        get positions() {
            return this.attributes.aPosition.buffer.data
        }
        set positions(e) {
            this.attributes.aPosition.buffer.data = e
        }
        get uvs() {
            return this.attributes.aUV.buffer.data
        }
        set uvs(e) {
            this.attributes.aUV.buffer.data = e
        }
        get indices() {
            return this.indexBuffer.data
        }
        set indices(e) {
            this.indexBuffer.data = e
        }
    }
    ;
    vp.defaultOptions = {
        topology: "triangle-list",
        shrinkBuffersToFit: !1
    };
    var qr = vp, rg = Object.defineProperty, sg = Object.defineProperties, ng = Object.getOwnPropertyDescriptors, eb = Object.getOwnPropertySymbols, og = Object.prototype.hasOwnProperty, cg = Object.prototype.propertyIsEnumerable, tb = (a, e, t) => e in a ? rg(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t, ab = (a, e) => {
        for (var t in e || (e = {}))
            og.call(e, t) && tb(a, t, e[t]);
        if (eb)
            for (var t of eb(e))
                cg.call(e, t) && tb(a, t, e[t]);
        return a
    }
    , ib = (a, e) => sg(a, ng(e)), Er = {
        name: "local-uniform-bit",
        vertex: {
            header: `

struct LocalUniforms {
uTransformMatrix:mat3x3<f32>,
uColor:vec4<f32>,
uRound:f32,
}

@group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;
`,
            main: `
vColor *= localUniforms.uColor;
modelMatrix *= localUniforms.uTransformMatrix;
`,
            end: `
if(localUniforms.uRound == 1)
{
vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
}
`
        }
    }, dg = ib(ab({}, Er), {
        vertex: ib(ab({}, Er.vertex), {
            header: Er.vertex.header.replace("group(1)", "group(2)")
        })
    }), El = {
        name: "local-uniform-bit",
        vertex: {
            header: `

uniform mat3 uTransformMatrix;
uniform vec4 uColor;
uniform float uRound;
`,
            main: `
vColor *= uColor;
modelMatrix = uTransformMatrix;
`,
            end: `
if(uRound == 1.)
{
gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
}
`
        }
    }, hg = {
        name: "tiling-bit",
        vertex: {
            header: `
struct TilingUniforms {
uMapCoord:mat3x3<f32>,
uClampFrame:vec4<f32>,
uClampOffset:vec2<f32>,
uTextureTransform:mat3x3<f32>,
uSizeAnchor:vec4<f32>
};

@group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
@group(2) @binding(1) var uTexture: texture_2d<f32>;
@group(2) @binding(2) var uSampler: sampler;
`,
            main: `
uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;

position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;
`
        },
        fragment: {
            header: `
struct TilingUniforms {
uMapCoord:mat3x3<f32>,
uClampFrame:vec4<f32>,
uClampOffset:vec2<f32>,
uTextureTransform:mat3x3<f32>,
uSizeAnchor:vec4<f32>
};

@group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;
@group(2) @binding(1) var uTexture: texture_2d<f32>;
@group(2) @binding(2) var uSampler: sampler;
`,
            main: `

var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);
coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;
var unclamped = coord;
coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);

var bias = 0.;

if(unclamped.x == coord.x && unclamped.y == coord.y)
{
bias = -32.;
} 

outColor = textureSampleBias(uTexture, uSampler, coord, bias);
`
        }
    }, lg = {
        name: "tiling-bit",
        vertex: {
            header: `
uniform mat3 uTextureTransform;
uniform vec4 uSizeAnchor;

`,
            main: `
uv = (uTextureTransform * vec3(aUV, 1.0)).xy;

position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;
`
        },
        fragment: {
            header: `
uniform sampler2D uTexture;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;
`,
            main: `

vec2 coord = vUV + ceil(uClampOffset - vUV);
coord = (uMapCoord * vec3(coord, 1.0)).xy;
vec2 unclamped = coord;
coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0

`
        }
    }, sd, nd, _h = class extends ht {
        constructor() {
            sd != null || (sd = Vr({
                name: "tiling-sprite-shader",
                bits: [Er, hg, Yr]
            })),
            nd != null || (nd = Wr({
                name: "tiling-sprite-shader",
                bits: [El, lg, $r]
            }));
            let e = new Je({
                uMapCoord: {
                    value: new ie,
                    type: "mat3x3<f32>"
                },
                uClampFrame: {
                    value: new Float32Array([0, 0, 1, 1]),
                    type: "vec4<f32>"
                },
                uClampOffset: {
                    value: new Float32Array([0, 0]),
                    type: "vec2<f32>"
                },
                uTextureTransform: {
                    value: new ie,
                    type: "mat3x3<f32>"
                },
                uSizeAnchor: {
                    value: new Float32Array([100, 100, .5, .5]),
                    type: "vec4<f32>"
                }
            });
            super({
                glProgram: nd,
                gpuProgram: sd,
                resources: {
                    localUniforms: new Je({
                        uTransformMatrix: {
                            value: new ie,
                            type: "mat3x3<f32>"
                        },
                        uColor: {
                            value: new Float32Array([1, 1, 1, 1]),
                            type: "vec4<f32>"
                        },
                        uRound: {
                            value: 0,
                            type: "f32"
                        }
                    }),
                    tilingUniforms: e,
                    uTexture: K.EMPTY.source,
                    uSampler: K.EMPTY.source.style
                }
            })
        }
        updateUniforms(e, t, i, r, s, o) {
            let d = this.resources.tilingUniforms
              , h = o.width
              , l = o.height
              , u = o.textureMatrix
              , p = d.uniforms.uTextureTransform;
            p.set(i.a * h / e, i.b * h / t, i.c * l / e, i.d * l / t, i.tx / e, i.ty / t),
            p.invert(),
            d.uniforms.uMapCoord = u.mapCoord,
            d.uniforms.uClampFrame = u.uClampFrame,
            d.uniforms.uClampOffset = u.uClampOffset,
            d.uniforms.uTextureTransform = p,
            d.uniforms.uSizeAnchor[0] = e,
            d.uniforms.uSizeAnchor[1] = t,
            d.uniforms.uSizeAnchor[2] = r,
            d.uniforms.uSizeAnchor[3] = s,
            o && (this.resources.uTexture = o.source,
            this.resources.uSampler = o.source.style)
        }
    }
    , yh = class extends qr {
        constructor() {
            super({
                positions: new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
                uvs: new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
                indices: new Uint32Array([0, 1, 2, 0, 2, 3])
            })
        }
    }
    ;
    function fg(a, e) {
        let t = a.anchor.x
          , i = a.anchor.y;
        e[0] = -t * a.width,
        e[1] = -i * a.height,
        e[2] = (1 - t) * a.width,
        e[3] = -i * a.height,
        e[4] = (1 - t) * a.width,
        e[5] = (1 - i) * a.height,
        e[6] = -t * a.width,
        e[7] = (1 - i) * a.height
    }
    function ug(a, e, t, i) {
        let r = 0
          , s = a.length / (e || 2)
          , o = i.a
          , d = i.b
          , h = i.c
          , l = i.d
          , u = i.tx
          , p = i.ty;
        for (t *= e; r < s; ) {
            let y = a[t]
              , _ = a[t + 1];
            a[t] = o * y + h * _ + u,
            a[t + 1] = d * y + l * _ + p,
            t += e,
            r++
        }
    }
    function bg(a, e) {
        let t = a.texture
          , i = t.frame.width
          , r = t.frame.height
          , s = 0
          , o = 0;
        a.applyAnchorToTexture && (s = a.anchor.x,
        o = a.anchor.y),
        e[0] = e[6] = -s,
        e[2] = e[4] = 1 - s,
        e[1] = e[3] = -o,
        e[5] = e[7] = 1 - o;
        let d = ie.shared;
        d.copyFrom(a._tileTransform.matrix),
        d.tx /= a.width,
        d.ty /= a.height,
        d.invert(),
        d.scale(a.width / i, a.height / r),
        ug(e, 2, 0, d)
    }
    var Es = new yh
      , Tn = class {
        constructor(e) {
            this._state = Et.default2d,
            this._tilingSpriteDataHash = Object.create(null),
            this._destroyRenderableBound = this.destroyRenderable.bind(this),
            this._renderer = e,
            this._renderer.renderableGC.addManagedHash(this, "_tilingSpriteDataHash")
        }
        validateRenderable(e) {
            let t = this._getTilingSpriteData(e)
              , i = t.canBatch;
            this._updateCanBatch(e);
            let r = t.canBatch;
            if (r && r === i) {
                let {batchableMesh: s} = t;
                return !s._batcher.checkAndUpdateTexture(s, e.texture)
            }
            return i !== r
        }
        addRenderable(e, t) {
            let i = this._renderer.renderPipes.batch;
            this._updateCanBatch(e);
            let r = this._getTilingSpriteData(e)
              , {geometry: s, canBatch: o} = r;
            if (o) {
                r.batchableMesh || (r.batchableMesh = new Lr);
                let d = r.batchableMesh;
                e.didViewUpdate && (this._updateBatchableMesh(e),
                d.geometry = s,
                d.renderable = e,
                d.transform = e.groupTransform,
                d.setTexture(e._texture)),
                d.roundPixels = this._renderer._roundPixels | e._roundPixels,
                i.addToBatch(d, t)
            } else
                i.break(t),
                r.shader || (r.shader = new _h),
                this.updateRenderable(e),
                t.add(e)
        }
        execute(e) {
            let {shader: t} = this._tilingSpriteDataHash[e.uid];
            t.groups[0] = this._renderer.globalUniforms.bindGroup;
            let i = t.resources.localUniforms.uniforms;
            i.uTransformMatrix = e.groupTransform,
            i.uRound = this._renderer._roundPixels | e._roundPixels,
            Kr(e.groupColorAlpha, i.uColor, 0),
            this._state.blendMode = Ir(e.groupBlendMode, e.texture._source),
            this._renderer.encoder.draw({
                geometry: Es,
                shader: t,
                state: this._state
            })
        }
        updateRenderable(e) {
            let t = this._getTilingSpriteData(e)
              , {canBatch: i} = t;
            if (i) {
                let {batchableMesh: r} = t;
                e.didViewUpdate && this._updateBatchableMesh(e),
                r._batcher.updateElement(r)
            } else if (e.didViewUpdate) {
                let {shader: r} = t;
                r.updateUniforms(e.width, e.height, e._tileTransform.matrix, e.anchor.x, e.anchor.y, e.texture)
            }
        }
        destroyRenderable(e) {
            var t;
            let i = this._getTilingSpriteData(e);
            i.batchableMesh = null,
            (t = i.shader) == null || t.destroy(),
            this._tilingSpriteDataHash[e.uid] = null,
            e.off("destroyed", this._destroyRenderableBound)
        }
        _getTilingSpriteData(e) {
            return this._tilingSpriteDataHash[e.uid] || this._initTilingSpriteData(e)
        }
        _initTilingSpriteData(e) {
            let t = new qr({
                indices: Es.indices,
                positions: Es.positions.slice(),
                uvs: Es.uvs.slice()
            });
            return this._tilingSpriteDataHash[e.uid] = {
                canBatch: !0,
                renderable: e,
                geometry: t
            },
            e.on("destroyed", this._destroyRenderableBound),
            this._tilingSpriteDataHash[e.uid]
        }
        _updateBatchableMesh(e) {
            let t = this._getTilingSpriteData(e)
              , {geometry: i} = t
              , r = e.texture.source.style;
            r.addressMode !== "repeat" && (r.addressMode = "repeat",
            r.update()),
            bg(e, i.uvs),
            fg(e, i.positions)
        }
        destroy() {
            for (let e in this._tilingSpriteDataHash)
                this.destroyRenderable(this._tilingSpriteDataHash[e].renderable);
            this._tilingSpriteDataHash = null,
            this._renderer = null
        }
        _updateCanBatch(e) {
            let t = this._getTilingSpriteData(e)
              , i = e.texture
              , r = !0;
            return this._renderer.type === yt.WEBGL && (r = this._renderer.context.supports.nonPowOf2wrapping),
            t.canBatch = i.textureMatrix.isSimple && (r || i.source.isPowerOfTwo),
            t.canBatch
        }
    }
    ;
    Tn.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "tilingSprite"
    },
    pe.add(Tn);
    var pg = Object.defineProperty
      , rb = Object.getOwnPropertySymbols
      , gg = Object.prototype.hasOwnProperty
      , mg = Object.prototype.propertyIsEnumerable
      , sb = (a, e, t) => e in a ? pg(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , nb = (a, e) => {
        for (var t in e || (e = {}))
            gg.call(e, t) && sb(a, t, e[t]);
        if (rb)
            for (var t of rb(e))
                mg.call(e, t) && sb(a, t, e[t]);
        return a
    }
      , Sp = class wp extends qr {
        constructor(...e) {
            var t;
            super({});
            let i = (t = e[0]) != null ? t : {};
            typeof i == "number" && (i = {
                width: i,
                height: e[1],
                verticesX: e[2],
                verticesY: e[3]
            }),
            this.build(i)
        }
        build(e) {
            var t, i, r, s;
            e = nb(nb({}, wp.defaultOptions), e),
            this.verticesX = (t = this.verticesX) != null ? t : e.verticesX,
            this.verticesY = (i = this.verticesY) != null ? i : e.verticesY,
            this.width = (r = this.width) != null ? r : e.width,
            this.height = (s = this.height) != null ? s : e.height;
            let o = this.verticesX * this.verticesY
              , d = []
              , h = []
              , l = []
              , u = this.verticesX - 1
              , p = this.verticesY - 1
              , y = this.width / u
              , _ = this.height / p;
            for (let T = 0; T < o; T++) {
                let A = T % this.verticesX
                  , P = T / this.verticesX | 0;
                d.push(A * y, P * _),
                h.push(A / u, P / p)
            }
            let v = u * p;
            for (let T = 0; T < v; T++) {
                let A = T % u
                  , P = T / u | 0
                  , I = P * this.verticesX + A
                  , F = P * this.verticesX + A + 1
                  , D = (P + 1) * this.verticesX + A
                  , H = (P + 1) * this.verticesX + A + 1;
                l.push(I, F, D, F, H, D)
            }
            this.buffers[0].data = new Float32Array(d),
            this.buffers[1].data = new Float32Array(h),
            this.indexBuffer.data = new Uint32Array(l),
            this.buffers[0].update(),
            this.buffers[1].update(),
            this.indexBuffer.update()
        }
    }
    ;
    Sp.defaultOptions = {
        width: 100,
        height: 100,
        verticesX: 10,
        verticesY: 10
    };
    var Ap = Sp
      , _g = Object.defineProperty
      , ob = Object.getOwnPropertySymbols
      , yg = Object.prototype.hasOwnProperty
      , xg = Object.prototype.propertyIsEnumerable
      , cb = (a, e, t) => e in a ? _g(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , db = (a, e) => {
        for (var t in e || (e = {}))
            yg.call(e, t) && cb(a, t, e[t]);
        if (ob)
            for (var t of ob(e))
                xg.call(e, t) && cb(a, t, e[t]);
        return a
    }
      , Ep = class Pp extends Ap {
        constructor(e={}) {
            e = db(db({}, Pp.defaultOptions), e),
            super({
                width: e.width,
                height: e.height,
                verticesX: 4,
                verticesY: 4
            }),
            this.update(e)
        }
        update(e) {
            var t, i, r, s, o, d, h, l;
            this.width = (t = e.width) != null ? t : this.width,
            this.height = (i = e.height) != null ? i : this.height,
            this._originalWidth = (r = e.originalWidth) != null ? r : this._originalWidth,
            this._originalHeight = (s = e.originalHeight) != null ? s : this._originalHeight,
            this._leftWidth = (o = e.leftWidth) != null ? o : this._leftWidth,
            this._rightWidth = (d = e.rightWidth) != null ? d : this._rightWidth,
            this._topHeight = (h = e.topHeight) != null ? h : this._topHeight,
            this._bottomHeight = (l = e.bottomHeight) != null ? l : this._bottomHeight,
            this.updateUvs(),
            this.updatePositions()
        }
        updatePositions() {
            let e = this.positions
              , t = this._leftWidth + this._rightWidth
              , i = this.width > t ? 1 : this.width / t
              , r = this._topHeight + this._bottomHeight
              , s = this.height > r ? 1 : this.height / r
              , o = Math.min(i, s);
            e[9] = e[11] = e[13] = e[15] = this._topHeight * o,
            e[17] = e[19] = e[21] = e[23] = this.height - this._bottomHeight * o,
            e[25] = e[27] = e[29] = e[31] = this.height,
            e[2] = e[10] = e[18] = e[26] = this._leftWidth * o,
            e[4] = e[12] = e[20] = e[28] = this.width - this._rightWidth * o,
            e[6] = e[14] = e[22] = e[30] = this.width,
            this.getBuffer("aPosition").update()
        }
        updateUvs() {
            let e = this.uvs;
            e[0] = e[8] = e[16] = e[24] = 0,
            e[1] = e[3] = e[5] = e[7] = 0,
            e[6] = e[14] = e[22] = e[30] = 1,
            e[25] = e[27] = e[29] = e[31] = 1;
            let t = 1 / this._originalWidth
              , i = 1 / this._originalHeight;
            e[2] = e[10] = e[18] = e[26] = t * this._leftWidth,
            e[9] = e[11] = e[13] = e[15] = i * this._topHeight,
            e[4] = e[12] = e[20] = e[28] = 1 - t * this._rightWidth,
            e[17] = e[19] = e[21] = e[23] = 1 - i * this._bottomHeight,
            this.getBuffer("aUV").update()
        }
    }
    ;
    Ep.defaultOptions = {
        width: 100,
        height: 100,
        leftWidth: 10,
        topHeight: 10,
        rightWidth: 10,
        bottomHeight: 10,
        originalWidth: 100,
        originalHeight: 100
    };
    var Wa = Ep
      , Sn = class {
        constructor(e) {
            this._gpuSpriteHash = Object.create(null),
            this._destroyRenderableBound = this.destroyRenderable.bind(this),
            this._renderer = e,
            this._renderer.renderableGC.addManagedHash(this, "_gpuSpriteHash")
        }
        addRenderable(e, t) {
            let i = this._getGpuSprite(e);
            e.didViewUpdate && this._updateBatchableSprite(e, i),
            this._renderer.renderPipes.batch.addToBatch(i, t)
        }
        updateRenderable(e) {
            let t = this._gpuSpriteHash[e.uid];
            e.didViewUpdate && this._updateBatchableSprite(e, t),
            t._batcher.updateElement(t)
        }
        validateRenderable(e) {
            let t = this._getGpuSprite(e);
            return !t._batcher.checkAndUpdateTexture(t, e._texture)
        }
        destroyRenderable(e) {
            let t = this._gpuSpriteHash[e.uid];
            ye.return(t.geometry),
            ye.return(t),
            this._gpuSpriteHash[e.uid] = null,
            e.off("destroyed", this._destroyRenderableBound)
        }
        _updateBatchableSprite(e, t) {
            t.geometry.update(e),
            t.setTexture(e._texture)
        }
        _getGpuSprite(e) {
            return this._gpuSpriteHash[e.uid] || this._initGPUSprite(e)
        }
        _initGPUSprite(e) {
            let t = ye.get(Lr);
            return t.geometry = ye.get(Wa),
            t.renderable = e,
            t.transform = e.groupTransform,
            t.texture = e._texture,
            t.roundPixels = this._renderer._roundPixels | e._roundPixels,
            this._gpuSpriteHash[e.uid] = t,
            e.didViewUpdate || this._updateBatchableSprite(e, t),
            e.on("destroyed", this._destroyRenderableBound),
            t
        }
        destroy() {
            for (let e in this._gpuSpriteHash)
                this._gpuSpriteHash[e].geometry.destroy();
            this._gpuSpriteHash = null,
            this._renderer = null
        }
    }
    ;
    Sn.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "nineSliceSprite"
    },
    pe.add(Sn);
    var wn = class {
        constructor(e) {
            this._renderer = e
        }
        push(e, t, i) {
            this._renderer.renderPipes.batch.break(i),
            i.add({
                renderPipeId: "filter",
                canBundle: !1,
                action: "pushFilter",
                container: t,
                filterEffect: e
            })
        }
        pop(e, t, i) {
            this._renderer.renderPipes.batch.break(i),
            i.add({
                renderPipeId: "filter",
                action: "popFilter",
                canBundle: !1
            })
        }
        execute(e) {
            e.action === "pushFilter" ? this._renderer.filter.push(e) : e.action === "popFilter" && this._renderer.filter.pop()
        }
        destroy() {
            this._renderer = null
        }
    }
    ;
    wn.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "filter"
    };
    function vg(a, e) {
        e.clear();
        let t = e.matrix;
        for (let i = 0; i < a.length; i++) {
            let r = a[i];
            r.globalDisplayStatus < 7 || (e.matrix = r.worldTransform,
            e.addBounds(r.bounds))
        }
        return e.matrix = t,
        e
    }
    var Tg = new Zt({
        attributes: {
            aPosition: {
                buffer: new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
                format: "float32x2",
                stride: 2 * 4,
                offset: 0
            }
        },
        indexBuffer: new Uint32Array([0, 1, 2, 0, 2, 3])
    })
      , An = class {
        constructor(e) {
            this._filterStackIndex = 0,
            this._filterStack = [],
            this._filterGlobalUniforms = new Je({
                uInputSize: {
                    value: new Float32Array(4),
                    type: "vec4<f32>"
                },
                uInputPixel: {
                    value: new Float32Array(4),
                    type: "vec4<f32>"
                },
                uInputClamp: {
                    value: new Float32Array(4),
                    type: "vec4<f32>"
                },
                uOutputFrame: {
                    value: new Float32Array(4),
                    type: "vec4<f32>"
                },
                uGlobalFrame: {
                    value: new Float32Array(4),
                    type: "vec4<f32>"
                },
                uOutputTexture: {
                    value: new Float32Array(4),
                    type: "vec4<f32>"
                }
            }),
            this._globalFilterBindGroup = new Ht({}),
            this.renderer = e
        }
        get activeBackTexture() {
            var e;
            return (e = this._activeFilterData) == null ? void 0 : e.backTexture
        }
        push(e) {
            var t, i;
            let r = this.renderer
              , s = e.filterEffect.filters;
            this._filterStack[this._filterStackIndex] || (this._filterStack[this._filterStackIndex] = this._getFilterData());
            let o = this._filterStack[this._filterStackIndex];
            if (this._filterStackIndex++,
            s.length === 0) {
                o.skip = !0;
                return
            }
            let d = o.bounds;
            if (e.renderables ? vg(e.renderables, d) : e.filterEffect.filterArea ? (d.clear(),
            d.addRect(e.filterEffect.filterArea),
            d.applyMatrix(e.container.worldTransform)) : e.container.getFastGlobalBounds(!0, d),
            e.container) {
                let T = (e.container.renderGroup || e.container.parentRenderGroup).cacheToLocalTransform;
                T && d.applyMatrix(T)
            }
            let h = r.renderTarget.renderTarget.colorTexture.source
              , l = 1 / 0
              , u = 0
              , p = !0
              , y = !1
              , _ = !1
              , v = !0;
            for (let T = 0; T < s.length; T++) {
                let A = s[T];
                if (l = Math.min(l, A.resolution === "inherit" ? h._resolution : A.resolution),
                u += A.padding,
                A.antialias === "off" ? p = !1 : A.antialias === "inherit" && p && (p = h.antialias),
                A.clipToViewport || (v = !1),
                !(A.compatibleRenderers & r.type)) {
                    _ = !1;
                    break
                }
                if (A.blendRequired && !((i = (t = r.backBuffer) == null ? void 0 : t.useBackBuffer) == null || i)) {
                    _ = !1;
                    break
                }
                _ = A.enabled || _,
                y || (y = A.blendRequired)
            }
            if (!_) {
                o.skip = !0;
                return
            }
            if (v) {
                let T = r.renderTarget.rootViewPort
                  , A = r.renderTarget.renderTarget.resolution;
                d.fitBounds(0, T.width / A, 0, T.height / A)
            }
            if (d.scale(l).ceil().scale(1 / l).pad(u | 0),
            !d.isPositive) {
                o.skip = !0;
                return
            }
            o.skip = !1,
            o.bounds = d,
            o.blendRequired = y,
            o.container = e.container,
            o.filterEffect = e.filterEffect,
            o.previousRenderSurface = r.renderTarget.renderSurface,
            o.inputTexture = ze.getOptimalTexture(d.width, d.height, l, p),
            r.renderTarget.bind(o.inputTexture, !0),
            r.globalUniforms.push({
                offset: d
            })
        }
        pop() {
            let e = this.renderer;
            this._filterStackIndex--;
            let t = this._filterStack[this._filterStackIndex];
            if (t.skip)
                return;
            this._activeFilterData = t;
            let i = t.inputTexture
              , r = t.bounds
              , s = K.EMPTY;
            if (e.renderTarget.finishRenderPass(),
            t.blendRequired) {
                let d = this._filterStackIndex > 0 ? this._filterStack[this._filterStackIndex - 1].bounds : null
                  , h = e.renderTarget.getRenderTarget(t.previousRenderSurface);
                s = this.getBackTexture(h, r, d)
            }
            t.backTexture = s;
            let o = t.filterEffect.filters;
            if (this._globalFilterBindGroup.setResource(i.source.style, 2),
            this._globalFilterBindGroup.setResource(s.source, 3),
            e.globalUniforms.pop(),
            o.length === 1)
                o[0].apply(this, i, t.previousRenderSurface, !1),
                ze.returnTexture(i);
            else {
                let d = t.inputTexture
                  , h = ze.getOptimalTexture(r.width, r.height, d.source._resolution, !1)
                  , l = 0;
                for (l = 0; l < o.length - 1; ++l) {
                    o[l].apply(this, d, h, !0);
                    let u = d;
                    d = h,
                    h = u
                }
                o[l].apply(this, d, t.previousRenderSurface, !1),
                ze.returnTexture(d),
                ze.returnTexture(h)
            }
            t.blendRequired && ze.returnTexture(s)
        }
        getBackTexture(e, t, i) {
            let r = e.colorTexture.source._resolution
              , s = ze.getOptimalTexture(t.width, t.height, r, !1)
              , o = t.minX
              , d = t.minY;
            i && (o -= i.minX,
            d -= i.minY),
            o = Math.floor(o * r),
            d = Math.floor(d * r);
            let h = Math.ceil(t.width * r)
              , l = Math.ceil(t.height * r);
            return this.renderer.renderTarget.copyToTexture(e, s, {
                x: o,
                y: d
            }, {
                width: h,
                height: l
            }, {
                x: 0,
                y: 0
            }),
            s
        }
        applyFilter(e, t, i, r) {
            let s = this.renderer
              , o = this._filterStack[this._filterStackIndex]
              , d = o.bounds
              , h = Ce.shared
              , l = o.previousRenderSurface === i
              , u = this.renderer.renderTarget.rootRenderTarget.colorTexture.source._resolution
              , p = this._filterStackIndex - 1;
            for (; p > 0 && this._filterStack[p].skip; )
                --p;
            p > 0 && (u = this._filterStack[p].inputTexture.source._resolution);
            let y = this._filterGlobalUniforms
              , _ = y.uniforms
              , v = _.uOutputFrame
              , T = _.uInputSize
              , A = _.uInputPixel
              , P = _.uInputClamp
              , I = _.uGlobalFrame
              , F = _.uOutputTexture;
            if (l) {
                let N = this._filterStackIndex;
                for (; N > 0; ) {
                    N--;
                    let j = this._filterStack[this._filterStackIndex - 1];
                    if (!j.skip) {
                        h.x = j.bounds.minX,
                        h.y = j.bounds.minY;
                        break
                    }
                }
                v[0] = d.minX - h.x,
                v[1] = d.minY - h.y
            } else
                v[0] = 0,
                v[1] = 0;
            v[2] = t.frame.width,
            v[3] = t.frame.height,
            T[0] = t.source.width,
            T[1] = t.source.height,
            T[2] = 1 / T[0],
            T[3] = 1 / T[1],
            A[0] = t.source.pixelWidth,
            A[1] = t.source.pixelHeight,
            A[2] = 1 / A[0],
            A[3] = 1 / A[1],
            P[0] = .5 * A[2],
            P[1] = .5 * A[3],
            P[2] = t.frame.width * T[2] - .5 * A[2],
            P[3] = t.frame.height * T[3] - .5 * A[3];
            let D = this.renderer.renderTarget.rootRenderTarget.colorTexture;
            I[0] = h.x * u,
            I[1] = h.y * u,
            I[2] = D.source.width * u,
            I[3] = D.source.height * u;
            let H = this.renderer.renderTarget.getRenderTarget(i);
            if (s.renderTarget.bind(i, !!r),
            i instanceof K ? (F[0] = i.frame.width,
            F[1] = i.frame.height) : (F[0] = H.width,
            F[1] = H.height),
            F[2] = H.isRoot ? -1 : 1,
            y.update(),
            s.renderPipes.uniformBatch) {
                let N = s.renderPipes.uniformBatch.getUboResource(y);
                this._globalFilterBindGroup.setResource(N, 0)
            } else
                this._globalFilterBindGroup.setResource(y, 0);
            this._globalFilterBindGroup.setResource(t.source, 1),
            this._globalFilterBindGroup.setResource(t.source.style, 2),
            e.groups[0] = this._globalFilterBindGroup,
            s.encoder.draw({
                geometry: Tg,
                shader: e,
                state: e._state,
                topology: "triangle-list"
            }),
            s.type === yt.WEBGL && s.renderTarget.finishRenderPass()
        }
        _getFilterData() {
            return {
                skip: !1,
                inputTexture: null,
                bounds: new qe,
                container: null,
                filterEffect: null,
                blendRequired: !1,
                previousRenderSurface: null
            }
        }
        calculateSpriteMatrix(e, t) {
            let i = this._activeFilterData
              , r = e.set(i.inputTexture._source.width, 0, 0, i.inputTexture._source.height, i.bounds.minX, i.bounds.minY)
              , s = t.worldTransform.copyTo(ie.shared)
              , o = t.renderGroup || t.parentRenderGroup;
            return o && o.cacheToLocalTransform && s.prepend(o.cacheToLocalTransform),
            s.invert(),
            r.prepend(s),
            r.scale(1 / t.texture.frame.width, 1 / t.texture.frame.height),
            r.translate(t.anchor.x, t.anchor.y),
            r
        }
    }
    ;
    An.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem],
        name: "filter"
    },
    pe.add(An),
    pe.add(wn);
    var Sg = {
        __proto__: null
    }
      , xh = [];
    pe.handleByNamedList(B.Environment, xh);
    async function wg(a) {
        if (!a)
            for (let e = 0; e < xh.length; e++) {
                let t = xh[e];
                if (t.value.test()) {
                    await t.value.load();
                    return
                }
            }
    }
    var dr;
    function Rp() {
        if (typeof dr == "boolean")
            return dr;
        try {
            dr = new Function("param1","param2","param3","return param1[param2] === param3;")({
                a: "b"
            }, "a", "b") === !0
        } catch {
            dr = !1
        }
        return dr
    }
    var mt = (a => (a[a.NONE = 0] = "NONE",
    a[a.COLOR = 16384] = "COLOR",
    a[a.STENCIL = 1024] = "STENCIL",
    a[a.DEPTH = 256] = "DEPTH",
    a[a.COLOR_DEPTH = 16640] = "COLOR_DEPTH",
    a[a.COLOR_STENCIL = 17408] = "COLOR_STENCIL",
    a[a.DEPTH_STENCIL = 1280] = "DEPTH_STENCIL",
    a[a.ALL = 17664] = "ALL",
    a))(mt || {})
      , En = class {
        constructor(e) {
            this.items = [],
            this._name = e
        }
        emit(e, t, i, r, s, o, d, h) {
            let {name: l, items: u} = this;
            for (let p = 0, y = u.length; p < y; p++)
                u[p][l](e, t, i, r, s, o, d, h);
            return this
        }
        add(e) {
            return e[this._name] && (this.remove(e),
            this.items.push(e)),
            this
        }
        remove(e) {
            let t = this.items.indexOf(e);
            return t !== -1 && this.items.splice(t, 1),
            this
        }
        contains(e) {
            return this.items.indexOf(e) !== -1
        }
        removeAll() {
            return this.items.length = 0,
            this
        }
        destroy() {
            this.removeAll(),
            this.items = null,
            this._name = null
        }
        get empty() {
            return this.items.length === 0
        }
        get name() {
            return this._name
        }
    }
      , Ag = Object.defineProperty
      , hb = Object.getOwnPropertySymbols
      , Eg = Object.prototype.hasOwnProperty
      , Pg = Object.prototype.propertyIsEnumerable
      , lb = (a, e, t) => e in a ? Ag(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Ps = (a, e) => {
        for (var t in e || (e = {}))
            Eg.call(e, t) && lb(a, t, e[t]);
        if (hb)
            for (var t of hb(e))
                Pg.call(e, t) && lb(a, t, e[t]);
        return a
    }
      , Rg = ["init", "destroy", "contextChange", "resolutionChange", "resetState", "renderEnd", "renderStart", "render", "update", "postrender", "prerender"]
      , Mp = class Cp extends xt {
        constructor(e) {
            var t;
            super(),
            this.runners = Object.create(null),
            this.renderPipes = Object.create(null),
            this._initOptions = {},
            this._systemsHash = Object.create(null),
            this.type = e.type,
            this.name = e.name,
            this.config = e;
            let i = [...Rg, ...(t = this.config.runners) != null ? t : []];
            this._addRunners(...i),
            this._unsafeEvalCheck()
        }
        async init(e={}) {
            let t = e.skipExtensionImports === !0 ? !0 : e.manageImports === !1;
            await wg(t),
            this._addSystems(this.config.systems),
            this._addPipes(this.config.renderPipes, this.config.renderPipeAdaptors);
            for (let i in this._systemsHash) {
                let r = this._systemsHash[i].constructor.defaultOptions;
                e = Ps(Ps({}, r), e)
            }
            e = Ps(Ps({}, Cp.defaultOptions), e),
            this._roundPixels = e.roundPixels ? 1 : 0;
            for (let i = 0; i < this.runners.init.items.length; i++)
                await this.runners.init.items[i].init(e);
            this._initOptions = e
        }
        render(e, t) {
            var i, r;
            let s = e;
            if (s instanceof le && (s = {
                container: s
            },
            t && (s.target = t.renderTexture)),
            s.target || (s.target = this.view.renderTarget),
            s.target === this.view.renderTarget && (this._lastObjectRendered = s.container,
            (i = s.clearColor) != null || (s.clearColor = this.background.colorRgba),
            (r = s.clear) != null || (s.clear = this.background.clearBeforeRender)),
            s.clearColor) {
                let o = Array.isArray(s.clearColor) && s.clearColor.length === 4;
                s.clearColor = o ? s.clearColor : Ee.shared.setValue(s.clearColor).toArray()
            }
            s.transform || (s.container.updateLocalTransform(),
            s.transform = s.container.localTransform),
            s.container.enableRenderGroup(),
            this.runners.prerender.emit(s),
            this.runners.renderStart.emit(s),
            this.runners.render.emit(s),
            this.runners.renderEnd.emit(s),
            this.runners.postrender.emit(s)
        }
        resize(e, t, i) {
            let r = this.view.resolution;
            this.view.resize(e, t, i),
            this.emit("resize", this.view.screen.width, this.view.screen.height, this.view.resolution),
            i !== void 0 && i !== r && this.runners.resolutionChange.emit(i)
        }
        clear(e={}) {
            var t;
            let i = this;
            e.target || (e.target = i.renderTarget.renderTarget),
            e.clearColor || (e.clearColor = this.background.colorRgba),
            (t = e.clear) != null || (e.clear = mt.ALL);
            let {clear: r, clearColor: s, target: o} = e;
            Ee.shared.setValue(s ?? this.background.colorRgba),
            i.renderTarget.clear(o, r, Ee.shared.toArray())
        }
        get resolution() {
            return this.view.resolution
        }
        set resolution(e) {
            this.view.resolution = e,
            this.runners.resolutionChange.emit(e)
        }
        get width() {
            return this.view.texture.frame.width
        }
        get height() {
            return this.view.texture.frame.height
        }
        get canvas() {
            return this.view.canvas
        }
        get lastObjectRendered() {
            return this._lastObjectRendered
        }
        get renderingToScreen() {
            return this.renderTarget.renderingToScreen
        }
        get screen() {
            return this.view.screen
        }
        _addRunners(...e) {
            e.forEach(t => {
                this.runners[t] = new En(t)
            }
            )
        }
        _addSystems(e) {
            let t;
            for (t in e) {
                let i = e[t];
                this._addSystem(i.value, i.name)
            }
        }
        _addSystem(e, t) {
            let i = new e(this);
            if (this[t])
                throw new Error(`Whoops! The name "${t}" is already in use`);
            this[t] = i,
            this._systemsHash[t] = i;
            for (let r in this.runners)
                this.runners[r].add(i);
            return this
        }
        _addPipes(e, t) {
            let i = t.reduce( (r, s) => (r[s.name] = s.value,
            r), {});
            e.forEach(r => {
                let s = r.value
                  , o = r.name
                  , d = i[o];
                this.renderPipes[o] = new s(this,d ? new d : null)
            }
            )
        }
        destroy(e=!1) {
            this.runners.destroy.items.reverse(),
            this.runners.destroy.emit(e),
            Object.values(this.runners).forEach(t => {
                t.destroy()
            }
            ),
            this._systemsHash = null,
            this.renderPipes = null
        }
        generateTexture(e) {
            return this.textureGenerator.generateTexture(e)
        }
        get roundPixels() {
            return !!this._roundPixels
        }
        _unsafeEvalCheck() {
            if (!Rp())
                throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")
        }
        resetState() {
            this.runners.resetState.emit()
        }
    }
    ;
    Mp.defaultOptions = {
        resolution: 1,
        failIfMajorPerformanceCaveat: !1,
        roundPixels: !1
    };
    var Lo = Mp, od;
    function No(a) {
        return od !== void 0 || (od = ( () => {
            var e;
            let t = {
                stencil: !0,
                failIfMajorPerformanceCaveat: a ?? Lo.defaultOptions.failIfMajorPerformanceCaveat
            };
            try {
                if (!xe.get().getWebGLRenderingContext())
                    return !1;
                let i = xe.get().createCanvas().getContext("webgl", t)
                  , r = !!((e = i?.getContextAttributes()) != null && e.stencil);
                if (i) {
                    let s = i.getExtension("WEBGL_lose_context");
                    s && s.loseContext()
                }
                return i = null,
                r
            } catch {
                return !1
            }
        }
        )()),
        od
    }
    var cd;
    async function jo(a={}) {
        return cd !== void 0 || (cd = await (async () => {
            let e = xe.get().getNavigator().gpu;
            if (!e)
                return !1;
            try {
                return await (await e.requestAdapter(a)).requestDevice(),
                !0
            } catch {
                return !1
            }
        }
        )()),
        cd
    }
    var Mg = Object.defineProperty
      , fb = Object.getOwnPropertySymbols
      , Cg = Object.prototype.hasOwnProperty
      , Og = Object.prototype.propertyIsEnumerable
      , ub = (a, e, t) => e in a ? Mg(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , hr = (a, e) => {
        for (var t in e || (e = {}))
            Cg.call(e, t) && ub(a, t, e[t]);
        if (fb)
            for (var t of fb(e))
                Og.call(e, t) && ub(a, t, e[t]);
        return a
    }
      , bb = ["webgl", "webgpu", "canvas"];
    async function Xo(a) {
        var e;
        let t = [];
        a.preference ? (t.push(a.preference),
        bb.forEach(o => {
            o !== a.preference && t.push(o)
        }
        )) : t = bb.slice();
        let i, r = {};
        for (let o = 0; o < t.length; o++) {
            let d = t[o];
            if (d === "webgpu" && await jo()) {
                let {WebGPURenderer: h} = await Promise.resolve().then(function() {
                    return fT
                });
                i = h,
                r = hr(hr({}, a), a.webgpu);
                break
            } else if (d === "webgl" && No((e = a.failIfMajorPerformanceCaveat) != null ? e : Lo.defaultOptions.failIfMajorPerformanceCaveat)) {
                let {WebGLRenderer: h} = await Promise.resolve().then(function() {
                    return Xv
                });
                i = h,
                r = hr(hr({}, a), a.webgl);
                break
            } else if (d === "canvas")
                throw r = hr({}, a),
                new Error("CanvasRenderer is not yet implemented")
        }
        if (delete r.webgpu,
        delete r.webgl,
        !i)
            throw new Error("No available renderer for the current environment");
        let s = new i;
        return await s.init(r),
        s
    }
    var Pn = "8.7.3"
      , Rn = class {
        static init() {
            var e;
            (e = globalThis.__PIXI_APP_INIT__) == null || e.call(globalThis, this, Pn)
        }
        static destroy() {}
    }
    ;
    Rn.extension = B.Application;
    var Mn = class {
        constructor(e) {
            this._renderer = e
        }
        init() {
            var e;
            (e = globalThis.__PIXI_RENDERER_INIT__) == null || e.call(globalThis, this._renderer, Pn)
        }
        destroy() {
            this._renderer = null
        }
    }
    ;
    Mn.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem],
        name: "initHook",
        priority: -10
    };
    var Ig = Object.defineProperty
      , pb = Object.getOwnPropertySymbols
      , Gg = Object.prototype.hasOwnProperty
      , Bg = Object.prototype.propertyIsEnumerable
      , gb = (a, e, t) => e in a ? Ig(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Fg = (a, e) => {
        for (var t in e || (e = {}))
            Gg.call(e, t) && gb(a, t, e[t]);
        if (pb)
            for (var t of pb(e))
                Bg.call(e, t) && gb(a, t, e[t]);
        return a
    }
      , Op = class vh {
        constructor(...e) {
            this.stage = new le
        }
        async init(e) {
            e = Fg({}, e),
            this.renderer = await Xo(e),
            vh._plugins.forEach(t => {
                t.init.call(this, e)
            }
            )
        }
        render() {
            this.renderer.render({
                container: this.stage
            })
        }
        get canvas() {
            return this.renderer.canvas
        }
        get view() {
            return this.renderer.canvas
        }
        get screen() {
            return this.renderer.screen
        }
        destroy(e=!1, t=!1) {
            let i = vh._plugins.slice(0);
            i.reverse(),
            i.forEach(r => {
                r.destroy.call(this)
            }
            ),
            this.stage.destroy(t),
            this.stage = null,
            this.renderer.destroy(e),
            this.renderer = null
        }
    }
    ;
    Op._plugins = [];
    var Dg = Op;
    pe.handleByList(B.Application, Dg._plugins),
    pe.add(Rn);
    var Cn = class extends gn {
        constructor(e, t) {
            var i;
            super();
            let {textures: r, data: s} = e;
            Object.keys(s.pages).forEach(o => {
                let d = s.pages[parseInt(o, 10)]
                  , h = r[d.id];
                this.pages.push({
                    texture: h
                })
            }
            ),
            Object.keys(s.chars).forEach(o => {
                var d;
                let h = s.chars[o]
                  , {frame: l, source: u} = r[h.page]
                  , p = new Pe(h.x + l.x,h.y + l.y,h.width,h.height)
                  , y = new K({
                    source: u,
                    frame: p
                });
                this.chars[o] = {
                    id: o.codePointAt(0),
                    xOffset: h.xOffset,
                    yOffset: h.yOffset,
                    xAdvance: h.xAdvance,
                    kerning: (d = h.kerning) != null ? d : {},
                    texture: y
                }
            }
            ),
            this.baseRenderedFontSize = s.fontSize,
            this.baseMeasurementFontSize = s.fontSize,
            this.fontMetrics = {
                ascent: 0,
                descent: 0,
                fontSize: s.fontSize
            },
            this.baseLineOffset = s.baseLineOffset,
            this.lineHeight = s.lineHeight,
            this.fontFamily = s.fontFamily,
            this.distanceField = (i = s.distanceField) != null ? i : {
                type: "none",
                range: 0
            },
            this.url = t
        }
        destroy() {
            super.destroy();
            for (let e = 0; e < this.pages.length; e++) {
                let {texture: t} = this.pages[e];
                t.destroy(!0)
            }
            this.pages = null
        }
        static install(e) {
            mn.install(e)
        }
        static uninstall(e) {
            mn.uninstall(e)
        }
    }
      , dd = {
        test(a) {
            return typeof a == "string" && a.startsWith("info face=")
        },
        parse(a) {
            var e, t, i;
            let r = a.match(/^[a-z]+\s+.+$/gm)
              , s = {
                info: [],
                common: [],
                page: [],
                char: [],
                chars: [],
                kerning: [],
                kernings: [],
                distanceField: []
            };
            for (let v in r) {
                let T = r[v].match(/^[a-z]+/gm)[0]
                  , A = r[v].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm)
                  , P = {};
                for (let I in A) {
                    let F = A[I].split("=")
                      , D = F[0]
                      , H = F[1].replace(/"/gm, "")
                      , N = parseFloat(H)
                      , j = isNaN(N) ? H : N;
                    P[D] = j
                }
                s[T].push(P)
            }
            let o = {
                chars: {},
                pages: [],
                lineHeight: 0,
                fontSize: 0,
                fontFamily: "",
                distanceField: null,
                baseLineOffset: 0
            }
              , [d] = s.info
              , [h] = s.common
              , [l] = (e = s.distanceField) != null ? e : [];
            l && (o.distanceField = {
                range: parseInt(l.distanceRange, 10),
                type: l.fieldType
            }),
            o.fontSize = parseInt(d.size, 10),
            o.fontFamily = d.face,
            o.lineHeight = parseInt(h.lineHeight, 10);
            let u = s.page;
            for (let v = 0; v < u.length; v++)
                o.pages.push({
                    id: parseInt(u[v].id, 10) || 0,
                    file: u[v].file
                });
            let p = {};
            o.baseLineOffset = o.lineHeight - parseInt(h.base, 10);
            let y = s.char;
            for (let v = 0; v < y.length; v++) {
                let T = y[v]
                  , A = parseInt(T.id, 10)
                  , P = (i = (t = T.letter) != null ? t : T.char) != null ? i : String.fromCharCode(A);
                P === "space" && (P = " "),
                p[A] = P,
                o.chars[P] = {
                    id: A,
                    page: parseInt(T.page, 10) || 0,
                    x: parseInt(T.x, 10),
                    y: parseInt(T.y, 10),
                    width: parseInt(T.width, 10),
                    height: parseInt(T.height, 10),
                    xOffset: parseInt(T.xoffset, 10),
                    yOffset: parseInt(T.yoffset, 10),
                    xAdvance: parseInt(T.xadvance, 10),
                    kerning: {}
                }
            }
            let _ = s.kerning || [];
            for (let v = 0; v < _.length; v++) {
                let T = parseInt(_[v].first, 10)
                  , A = parseInt(_[v].second, 10)
                  , P = parseInt(_[v].amount, 10);
                o.chars[p[A]].kerning[p[T]] = P
            }
            return o
        }
    }
      , mb = {
        test(a) {
            let e = a;
            return typeof e != "string" && "getElementsByTagName"in e && e.getElementsByTagName("page").length && e.getElementsByTagName("info")[0].getAttribute("face") !== null
        },
        parse(a) {
            var e, t;
            let i = {
                chars: {},
                pages: [],
                lineHeight: 0,
                fontSize: 0,
                fontFamily: "",
                distanceField: null,
                baseLineOffset: 0
            }
              , r = a.getElementsByTagName("info")[0]
              , s = a.getElementsByTagName("common")[0]
              , o = a.getElementsByTagName("distanceField")[0];
            o && (i.distanceField = {
                type: o.getAttribute("fieldType"),
                range: parseInt(o.getAttribute("distanceRange"), 10)
            });
            let d = a.getElementsByTagName("page")
              , h = a.getElementsByTagName("char")
              , l = a.getElementsByTagName("kerning");
            i.fontSize = parseInt(r.getAttribute("size"), 10),
            i.fontFamily = r.getAttribute("face"),
            i.lineHeight = parseInt(s.getAttribute("lineHeight"), 10);
            for (let p = 0; p < d.length; p++)
                i.pages.push({
                    id: parseInt(d[p].getAttribute("id"), 10) || 0,
                    file: d[p].getAttribute("file")
                });
            let u = {};
            i.baseLineOffset = i.lineHeight - parseInt(s.getAttribute("base"), 10);
            for (let p = 0; p < h.length; p++) {
                let y = h[p]
                  , _ = parseInt(y.getAttribute("id"), 10)
                  , v = (t = (e = y.getAttribute("letter")) != null ? e : y.getAttribute("char")) != null ? t : String.fromCharCode(_);
                v === "space" && (v = " "),
                u[_] = v,
                i.chars[v] = {
                    id: _,
                    page: parseInt(y.getAttribute("page"), 10) || 0,
                    x: parseInt(y.getAttribute("x"), 10),
                    y: parseInt(y.getAttribute("y"), 10),
                    width: parseInt(y.getAttribute("width"), 10),
                    height: parseInt(y.getAttribute("height"), 10),
                    xOffset: parseInt(y.getAttribute("xoffset"), 10),
                    yOffset: parseInt(y.getAttribute("yoffset"), 10),
                    xAdvance: parseInt(y.getAttribute("xadvance"), 10),
                    kerning: {}
                }
            }
            for (let p = 0; p < l.length; p++) {
                let y = parseInt(l[p].getAttribute("first"), 10)
                  , _ = parseInt(l[p].getAttribute("second"), 10)
                  , v = parseInt(l[p].getAttribute("amount"), 10);
                i.chars[u[_]].kerning[u[y]] = v
            }
            return i
        }
    }
      , _b = {
        test(a) {
            return typeof a == "string" && a.includes("<font>") ? mb.test(xe.get().parseXML(a)) : !1
        },
        parse(a) {
            return mb.parse(xe.get().parseXML(a))
        }
    }
      , kg = [".xml", ".fnt"]
      , Ug = {
        extension: {
            type: B.CacheParser,
            name: "cacheBitmapFont"
        },
        test: a => a instanceof Cn,
        getCacheableAssets(a, e) {
            let t = {};
            return a.forEach(i => {
                t[i] = e,
                t[`${i}-bitmap`] = e
            }
            ),
            t[`${e.fontFamily}-bitmap`] = e,
            t
        }
    }
      , Lg = {
        extension: {
            type: B.LoadParser,
            priority: Rt.Normal
        },
        name: "loadBitmapFont",
        test(a) {
            return kg.includes(_t.extname(a).toLowerCase())
        },
        async testParse(a) {
            return dd.test(a) || _b.test(a)
        },
        async parse(a, e, t) {
            let i = dd.test(a) ? dd.parse(a) : _b.parse(a)
              , {src: r} = e
              , {pages: s} = i
              , o = []
              , d = i.distanceField ? {
                scaleMode: "linear",
                alphaMode: "premultiply-alpha-on-upload",
                autoGenerateMipmaps: !1,
                resolution: 1
            } : {};
            for (let u = 0; u < s.length; ++u) {
                let p = s[u].file
                  , y = _t.join(_t.dirname(r), p);
                y = Ud(y, r),
                o.push({
                    src: y,
                    data: d
                })
            }
            let h = await t.load(o)
              , l = o.map(u => h[u.src]);
            return new Cn({
                data: i,
                textures: l
            },r)
        },
        async load(a, e) {
            return await (await xe.get().fetch(a)).text()
        },
        async unload(a, e, t) {
            await Promise.all(a.pages.map(i => t.unload(i.texture.source._sourceOrigin))),
            a.destroy()
        }
    }
      , Th = class {
        constructor(e, t=!1) {
            this._loader = e,
            this._assetList = [],
            this._isLoading = !1,
            this._maxConcurrent = 1,
            this.verbose = t
        }
        add(e) {
            e.forEach(t => {
                this._assetList.push(t)
            }
            ),
            this.verbose,
            this._isActive && !this._isLoading && this._next()
        }
        async _next() {
            if (this._assetList.length && this._isActive) {
                this._isLoading = !0;
                let e = []
                  , t = Math.min(this._assetList.length, this._maxConcurrent);
                for (let i = 0; i < t; i++)
                    e.push(this._assetList.pop());
                await this._loader.load(e),
                this._isLoading = !1,
                this._next()
            }
        }
        get active() {
            return this._isActive
        }
        set active(e) {
            this._isActive !== e && (this._isActive = e,
            e && !this._isLoading && this._next())
        }
    }
      , Ng = {
        extension: {
            type: B.CacheParser,
            name: "cacheTextureArray"
        },
        test: a => Array.isArray(a) && a.every(e => e instanceof K),
        getCacheableAssets: (a, e) => {
            let t = {};
            return a.forEach(i => {
                e.forEach( (r, s) => {
                    t[i + (s === 0 ? "" : s + 1)] = r
                }
                )
            }
            ),
            t
        }
    };
    async function Ip(a) {
        if ("Image"in globalThis)
            return new Promise(e => {
                let t = new Image;
                t.onload = () => {
                    e(!0)
                }
                ,
                t.onerror = () => {
                    e(!1)
                }
                ,
                t.src = a
            }
            );
        if ("createImageBitmap"in globalThis && "fetch"in globalThis) {
            try {
                let e = await (await fetch(a)).blob();
                await createImageBitmap(e)
            } catch {
                return !1
            }
            return !0
        }
        return !1
    }
    var jg = {
        extension: {
            type: B.DetectionParser,
            priority: 1
        },
        test: async () => Ip("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),
        add: async a => [...a, "avif"],
        remove: async a => a.filter(e => e !== "avif")
    }
      , yb = ["png", "jpg", "jpeg"]
      , Xg = {
        extension: {
            type: B.DetectionParser,
            priority: -1
        },
        test: () => Promise.resolve(!0),
        add: async a => [...a, ...yb],
        remove: async a => a.filter(e => !yb.includes(e))
    }
      , Hg = "WorkerGlobalScope"in globalThis && globalThis instanceof globalThis.WorkerGlobalScope;
    function Pl(a) {
        return Hg ? !1 : document.createElement("video").canPlayType(a) !== ""
    }
    var zg = {
        extension: {
            type: B.DetectionParser,
            priority: 0
        },
        test: async () => Pl("video/mp4"),
        add: async a => [...a, "mp4", "m4v"],
        remove: async a => a.filter(e => e !== "mp4" && e !== "m4v")
    }
      , Vg = {
        extension: {
            type: B.DetectionParser,
            priority: 0
        },
        test: async () => Pl("video/ogg"),
        add: async a => [...a, "ogv"],
        remove: async a => a.filter(e => e !== "ogv")
    }
      , Wg = {
        extension: {
            type: B.DetectionParser,
            priority: 0
        },
        test: async () => Pl("video/webm"),
        add: async a => [...a, "webm"],
        remove: async a => a.filter(e => e !== "webm")
    }
      , Yg = {
        extension: {
            type: B.DetectionParser,
            priority: 0
        },
        test: async () => Ip("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),
        add: async a => [...a, "webp"],
        remove: async a => a.filter(e => e !== "webp")
    }
      , $g = Object.defineProperty
      , Kg = Object.defineProperties
      , qg = Object.getOwnPropertyDescriptors
      , xb = Object.getOwnPropertySymbols
      , Zg = Object.prototype.hasOwnProperty
      , Qg = Object.prototype.propertyIsEnumerable
      , vb = (a, e, t) => e in a ? $g(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Jg = (a, e) => {
        for (var t in e || (e = {}))
            Zg.call(e, t) && vb(a, t, e[t]);
        if (xb)
            for (var t of xb(e))
                Qg.call(e, t) && vb(a, t, e[t]);
        return a
    }
      , em = (a, e) => Kg(a, qg(e))
      , Sh = class {
        constructor() {
            this._parsers = [],
            this._parsersValidated = !1,
            this.parsers = new Proxy(this._parsers,{
                set: (e, t, i) => (this._parsersValidated = !1,
                e[t] = i,
                !0)
            }),
            this.promiseCache = {}
        }
        reset() {
            this._parsersValidated = !1,
            this.promiseCache = {}
        }
        _getLoadPromiseAndParser(e, t) {
            let i = {
                promise: null,
                parser: null
            };
            return i.promise = (async () => {
                var r, s;
                let o = null
                  , d = null;
                if (t.loadParser && (d = this._parserHash[t.loadParser]),
                !d) {
                    for (let h = 0; h < this.parsers.length; h++) {
                        let l = this.parsers[h];
                        if (l.load && (r = l.test) != null && r.call(l, e, t, this)) {
                            d = l;
                            break
                        }
                    }
                    if (!d)
                        return null
                }
                o = await d.load(e, t, this),
                i.parser = d;
                for (let h = 0; h < this.parsers.length; h++) {
                    let l = this.parsers[h];
                    l.parse && l.parse && await ((s = l.testParse) == null ? void 0 : s.call(l, o, t, this)) && (o = await l.parse(o, t, this) || o,
                    i.parser = l)
                }
                return o
            }
            )(),
            i
        }
        async load(e, t) {
            this._parsersValidated || this._validateParsers();
            let i = 0
              , r = {}
              , s = Ks(e)
              , o = Xt(e, l => ({
                alias: [l],
                src: l,
                data: {}
            }))
              , d = o.length
              , h = o.map(async l => {
                let u = _t.toAbsolute(l.src);
                if (!r[l.src])
                    try {
                        this.promiseCache[u] || (this.promiseCache[u] = this._getLoadPromiseAndParser(u, l)),
                        r[l.src] = await this.promiseCache[u].promise,
                        t && t(++i / d)
                    } catch (p) {
                        throw delete this.promiseCache[u],
                        delete r[l.src],
                        new Error(`[Loader.load] Failed to load ${u}.
${p}`)
                    }
            }
            );
            return await Promise.all(h),
            s ? r[o[0].src] : r
        }
        async unload(e) {
            let t = Xt(e, i => ({
                alias: [i],
                src: i
            })).map(async i => {
                var r, s;
                let o = _t.toAbsolute(i.src)
                  , d = this.promiseCache[o];
                if (d) {
                    let h = await d.promise;
                    delete this.promiseCache[o],
                    await ((s = (r = d.parser) == null ? void 0 : r.unload) == null ? void 0 : s.call(r, h, i, this))
                }
            }
            );
            await Promise.all(t)
        }
        _validateParsers() {
            this._parsersValidated = !0,
            this._parserHash = this._parsers.filter(e => e.name).reduce( (e, t) => (t.name && e[t.name],
            em(Jg({}, e), {
                [t.name]: t
            })), {})
        }
    }
    ;
    function Gi(a, e) {
        if (Array.isArray(e)) {
            for (let t of e)
                if (a.startsWith(`data:${t}`))
                    return !0;
            return !1
        }
        return a.startsWith(`data:${e}`)
    }
    function zt(a, e) {
        let t = a.split("?")[0]
          , i = _t.extname(t).toLowerCase();
        return Array.isArray(e) ? e.includes(i) : i === e
    }
    var tm = ".json"
      , am = "application/json"
      , im = {
        extension: {
            type: B.LoadParser,
            priority: Rt.Low
        },
        name: "loadJson",
        test(a) {
            return Gi(a, am) || zt(a, tm)
        },
        async load(a) {
            return await (await xe.get().fetch(a)).json()
        }
    }
      , rm = ".txt"
      , sm = "text/plain"
      , nm = {
        name: "loadTxt",
        extension: {
            type: B.LoadParser,
            priority: Rt.Low,
            name: "loadTxt"
        },
        test(a) {
            return Gi(a, sm) || zt(a, rm)
        },
        async load(a) {
            return await (await xe.get().fetch(a)).text()
        }
    }
      , om = Object.defineProperty
      , cm = Object.defineProperties
      , dm = Object.getOwnPropertyDescriptors
      , Tb = Object.getOwnPropertySymbols
      , hm = Object.prototype.hasOwnProperty
      , lm = Object.prototype.propertyIsEnumerable
      , Sb = (a, e, t) => e in a ? om(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , fm = (a, e) => {
        for (var t in e || (e = {}))
            hm.call(e, t) && Sb(a, t, e[t]);
        if (Tb)
            for (var t of Tb(e))
                lm.call(e, t) && Sb(a, t, e[t]);
        return a
    }
      , um = (a, e) => cm(a, dm(e))
      , bm = ["normal", "bold", "100", "200", "300", "400", "500", "600", "700", "800", "900"]
      , pm = [".ttf", ".otf", ".woff", ".woff2"]
      , gm = ["font/ttf", "font/otf", "font/woff", "font/woff2"]
      , mm = /^(--|-?[A-Z_])[0-9A-Z_-]*$/i;
    function _m(a) {
        let e = _t.extname(a)
          , t = _t.basename(a, e).replace(/(-|_)/g, " ").toLowerCase().split(" ").map(s => s.charAt(0).toUpperCase() + s.slice(1))
          , i = t.length > 0;
        for (let s of t)
            if (!s.match(mm)) {
                i = !1;
                break
            }
        let r = t.join(" ");
        return i || (r = `"${r.replace(/[\\"]/g, "\\$&")}"`),
        r
    }
    var ym = /^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;
    function xm(a) {
        return ym.test(a) ? a : encodeURI(a)
    }
    var vm = {
        extension: {
            type: B.LoadParser,
            priority: Rt.Low
        },
        name: "loadWebFont",
        test(a) {
            return Gi(a, gm) || zt(a, pm)
        },
        async load(a, e) {
            var t, i, r, s, o, d;
            let h = xe.get().getFontFaceSet();
            if (h) {
                let l = []
                  , u = (i = (t = e.data) == null ? void 0 : t.family) != null ? i : _m(a)
                  , p = (o = (s = (r = e.data) == null ? void 0 : r.weights) == null ? void 0 : s.filter(_ => bm.includes(_))) != null ? o : ["normal"]
                  , y = (d = e.data) != null ? d : {};
                for (let _ = 0; _ < p.length; _++) {
                    let v = p[_]
                      , T = new FontFace(u,`url(${xm(a)})`,um(fm({}, y), {
                        weight: v
                    }));
                    await T.load(),
                    h.add(T),
                    l.push(T)
                }
                return Oe.set(`${u}-and-url`, {
                    url: a,
                    fontFaces: l
                }),
                l.length === 1 ? l[0] : l
            }
            return null
        },
        unload(a) {
            (Array.isArray(a) ? a : [a]).forEach(e => {
                Oe.remove(`${e.family}-and-url`),
                xe.get().getFontFaceSet().delete(e)
            }
            )
        }
    };
    function Rl(a, e=1) {
        var t;
        let i = (t = ha.RETINA_PREFIX) == null ? void 0 : t.exec(a);
        return i ? parseFloat(i[1]) : e
    }
    function Ja(a, e, t) {
        a.label = t,
        a._sourceOrigin = t;
        let i = new K({
            source: a,
            label: t
        })
          , r = () => {
            delete e.promiseCache[t],
            Oe.has(t) && Oe.remove(t)
        }
        ;
        return i.source.once("destroy", () => {
            e.promiseCache[t] && r()
        }
        ),
        i.once("destroy", () => {
            a.destroyed || r()
        }
        ),
        i
    }
    var Tm = Object.defineProperty
      , On = Object.getOwnPropertySymbols
      , Gp = Object.prototype.hasOwnProperty
      , Bp = Object.prototype.propertyIsEnumerable
      , wb = (a, e, t) => e in a ? Tm(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Sm = (a, e) => {
        for (var t in e || (e = {}))
            Gp.call(e, t) && wb(a, t, e[t]);
        if (On)
            for (var t of On(e))
                Bp.call(e, t) && wb(a, t, e[t]);
        return a
    }
      , wm = (a, e) => {
        var t = {};
        for (var i in a)
            Gp.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && On)
            for (var i of On(a))
                e.indexOf(i) < 0 && Bp.call(a, i) && (t[i] = a[i]);
        return t
    }
      , Am = ".svg"
      , Em = "image/svg+xml"
      , Pm = {
        extension: {
            type: B.LoadParser,
            priority: Rt.Low,
            name: "loadSVG"
        },
        name: "loadSVG",
        config: {
            crossOrigin: "anonymous",
            parseAsGraphicsContext: !1
        },
        test(a) {
            return Gi(a, Em) || zt(a, Am)
        },
        async load(a, e, t) {
            var i, r;
            return ((r = (i = e.data) == null ? void 0 : i.parseAsGraphicsContext) != null ? r : this.config.parseAsGraphicsContext) ? Mm(a) : Rm(a, e, t, this.config.crossOrigin)
        },
        unload(a) {
            a.destroy(!0)
        }
    };
    async function Rm(a, e, t, i) {
        var r, s, o, d, h, l;
        let u = await (await xe.get().fetch(a)).blob()
          , p = URL.createObjectURL(u)
          , y = new Image;
        y.src = p,
        y.crossOrigin = i,
        await y.decode(),
        URL.revokeObjectURL(p);
        let _ = document.createElement("canvas")
          , v = _.getContext("2d")
          , T = ((r = e.data) == null ? void 0 : r.resolution) || Rl(a)
          , A = (o = (s = e.data) == null ? void 0 : s.width) != null ? o : y.width
          , P = (h = (d = e.data) == null ? void 0 : d.height) != null ? h : y.height;
        _.width = A * T,
        _.height = P * T,
        v.drawImage(y, 0, 0, A * T, P * T);
        let I = (l = e.data) != null ? l : {}
          , {parseAsGraphicsContext: F} = I
          , D = wm(I, ["parseAsGraphicsContext"])
          , H = new Ca(Sm({
            resource: _,
            alphaMode: "premultiply-alpha-on-upload",
            resolution: T
        }, D));
        return Ja(H, t, a)
    }
    async function Mm(a) {
        let e = await (await xe.get().fetch(a)).text()
          , t = new dt;
        return t.svg(e),
        t
    }
    var Cm = `(function(){"use strict";const e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";async function a(){try{if(typeof createImageBitmap!="function")return!1;const A=await(await fetch(e)).blob(),t=await createImageBitmap(A);return t.width===1&&t.height===1}catch(A){return!1}}a().then(A=>{self.postMessage(A)})})();
`
      , vi = null
      , wh = class {
        constructor() {
            vi || (vi = URL.createObjectURL(new Blob([Cm],{
                type: "application/javascript"
            }))),
            this.worker = new Worker(vi)
        }
    }
    ;
    wh.revokeObjectURL = function() {
        vi && (URL.revokeObjectURL(vi),
        vi = null)
    }
    ;
    var Om = '(function(){"use strict";async function s(a,t){const e=await fetch(a);if(!e.ok)throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${a}: ${e.status} ${e.statusText}`);const i=await e.blob();return t==="premultiplied-alpha"?createImageBitmap(i,{premultiplyAlpha:"none"}):createImageBitmap(i)}self.onmessage=async a=>{try{const t=await s(a.data.data[0],a.data.data[1]);self.postMessage({data:t,uuid:a.data.uuid,id:a.data.id},[t])}catch(t){self.postMessage({error:t,uuid:a.data.uuid,id:a.data.id})}}})();\n'
      , Ti = null
      , Fp = class {
        constructor() {
            Ti || (Ti = URL.createObjectURL(new Blob([Om],{
                type: "application/javascript"
            }))),
            this.worker = new Worker(Ti)
        }
    }
    ;
    Fp.revokeObjectURL = function() {
        Ti && (URL.revokeObjectURL(Ti),
        Ti = null)
    }
    ;
    var Ab = 0, hd, Im = class {
        constructor() {
            this._initialized = !1,
            this._createdWorkers = 0,
            this._workerPool = [],
            this._queue = [],
            this._resolveHash = {}
        }
        isImageBitmapSupported() {
            return this._isImageBitmapSupported !== void 0 ? this._isImageBitmapSupported : (this._isImageBitmapSupported = new Promise(a => {
                let {worker: e} = new wh;
                e.addEventListener("message", t => {
                    e.terminate(),
                    wh.revokeObjectURL(),
                    a(t.data)
                }
                )
            }
            ),
            this._isImageBitmapSupported)
        }
        loadImageBitmap(a, e) {
            var t;
            return this._run("loadImageBitmap", [a, (t = e?.data) == null ? void 0 : t.alphaMode])
        }
        async _initWorkers() {
            this._initialized || (this._initialized = !0)
        }
        _getWorker() {
            hd === void 0 && (hd = navigator.hardwareConcurrency || 4);
            let a = this._workerPool.pop();
            return !a && this._createdWorkers < hd && (this._createdWorkers++,
            a = new Fp().worker,
            a.addEventListener("message", e => {
                this._complete(e.data),
                this._returnWorker(e.target),
                this._next()
            }
            )),
            a
        }
        _returnWorker(a) {
            this._workerPool.push(a)
        }
        _complete(a) {
            a.error !== void 0 ? this._resolveHash[a.uuid].reject(a.error) : this._resolveHash[a.uuid].resolve(a.data),
            this._resolveHash[a.uuid] = null
        }
        async _run(a, e) {
            await this._initWorkers();
            let t = new Promise( (i, r) => {
                this._queue.push({
                    id: a,
                    arguments: e,
                    resolve: i,
                    reject: r
                })
            }
            );
            return this._next(),
            t
        }
        _next() {
            if (!this._queue.length)
                return;
            let a = this._getWorker();
            if (!a)
                return;
            let e = this._queue.pop()
              , t = e.id;
            this._resolveHash[Ab] = {
                resolve: e.resolve,
                reject: e.reject
            },
            a.postMessage({
                data: e.arguments,
                uuid: Ab++,
                id: t
            })
        }
    }
    , Eb = new Im, Gm = Object.defineProperty, Pb = Object.getOwnPropertySymbols, Bm = Object.prototype.hasOwnProperty, Fm = Object.prototype.propertyIsEnumerable, Rb = (a, e, t) => e in a ? Gm(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t, Dm = (a, e) => {
        for (var t in e || (e = {}))
            Bm.call(e, t) && Rb(a, t, e[t]);
        if (Pb)
            for (var t of Pb(e))
                Fm.call(e, t) && Rb(a, t, e[t]);
        return a
    }
    , km = [".jpeg", ".jpg", ".png", ".webp", ".avif"], Um = ["image/jpeg", "image/png", "image/webp", "image/avif"];
    async function Lm(a, e) {
        var t;
        let i = await xe.get().fetch(a);
        if (!i.ok)
            throw new Error(`[loadImageBitmap] Failed to fetch ${a}: ${i.status} ${i.statusText}`);
        let r = await i.blob();
        return ((t = e?.data) == null ? void 0 : t.alphaMode) === "premultiplied-alpha" ? createImageBitmap(r, {
            premultiplyAlpha: "none"
        }) : createImageBitmap(r)
    }
    var Dp = {
        name: "loadTextures",
        extension: {
            type: B.LoadParser,
            priority: Rt.High,
            name: "loadTextures"
        },
        config: {
            preferWorkers: !0,
            preferCreateImageBitmap: !0,
            crossOrigin: "anonymous"
        },
        test(a) {
            return Gi(a, Um) || zt(a, km)
        },
        async load(a, e, t) {
            var i;
            let r = null;
            globalThis.createImageBitmap && this.config.preferCreateImageBitmap ? this.config.preferWorkers && await Eb.isImageBitmapSupported() ? r = await Eb.loadImageBitmap(a, e) : r = await Lm(a, e) : r = await new Promise( (o, d) => {
                r = new Image,
                r.crossOrigin = this.config.crossOrigin,
                r.src = a,
                r.complete ? o(r) : (r.onload = () => {
                    o(r)
                }
                ,
                r.onerror = d)
            }
            );
            let s = new Ca(Dm({
                resource: r,
                alphaMode: "premultiply-alpha-on-upload",
                resolution: ((i = e.data) == null ? void 0 : i.resolution) || Rl(a)
            }, e.data));
            return Ja(s, t, a)
        },
        unload(a) {
            a.destroy(!0)
        }
    }
      , Nm = Object.defineProperty
      , jm = Object.defineProperties
      , Xm = Object.getOwnPropertyDescriptors
      , Mb = Object.getOwnPropertySymbols
      , Hm = Object.prototype.hasOwnProperty
      , zm = Object.prototype.propertyIsEnumerable
      , Cb = (a, e, t) => e in a ? Nm(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , ld = (a, e) => {
        for (var t in e || (e = {}))
            Hm.call(e, t) && Cb(a, t, e[t]);
        if (Mb)
            for (var t of Mb(e))
                zm.call(e, t) && Cb(a, t, e[t]);
        return a
    }
      , Ob = (a, e) => jm(a, Xm(e))
      , kp = [".mp4", ".m4v", ".webm", ".ogg", ".ogv", ".h264", ".avi", ".mov"]
      , Vm = kp.map(a => `video/${a.substring(1)}`);
    function Wm(a, e, t) {
        t === void 0 && !e.startsWith("data:") ? a.crossOrigin = $m(e) : t !== !1 && (a.crossOrigin = typeof t == "string" ? t : "anonymous")
    }
    function Ym(a) {
        return new Promise( (e, t) => {
            a.addEventListener("canplaythrough", i),
            a.addEventListener("error", r),
            a.load();
            function i() {
                s(),
                e()
            }
            function r(o) {
                s(),
                t(o)
            }
            function s() {
                a.removeEventListener("canplaythrough", i),
                a.removeEventListener("error", r)
            }
        }
        )
    }
    function $m(a, e=globalThis.location) {
        if (a.startsWith("data:"))
            return "";
        e || (e = globalThis.location);
        let t = new URL(a,document.baseURI);
        return t.hostname !== e.hostname || t.port !== e.port || t.protocol !== e.protocol ? "anonymous" : ""
    }
    var Km = {
        name: "loadVideo",
        extension: {
            type: B.LoadParser,
            name: "loadVideo"
        },
        test(a) {
            let e = Gi(a, Vm)
              , t = zt(a, kp);
            return e || t
        },
        async load(a, e, t) {
            var i, r;
            let s = ld(Ob(ld({}, Us.defaultOptions), {
                resolution: ((i = e.data) == null ? void 0 : i.resolution) || Rl(a),
                alphaMode: ((r = e.data) == null ? void 0 : r.alphaMode) || await I2()
            }), e.data)
              , o = document.createElement("video")
              , d = {
                preload: s.autoLoad !== !1 ? "auto" : void 0,
                "webkit-playsinline": s.playsinline !== !1 ? "" : void 0,
                playsinline: s.playsinline !== !1 ? "" : void 0,
                muted: s.muted === !0 ? "" : void 0,
                loop: s.loop === !0 ? "" : void 0,
                autoplay: s.autoPlay !== !1 ? "" : void 0
            };
            Object.keys(d).forEach(u => {
                let p = d[u];
                p !== void 0 && o.setAttribute(u, p)
            }
            ),
            s.muted === !0 && (o.muted = !0),
            Wm(o, a, s.crossorigin);
            let h = document.createElement("source"), l;
            if (a.startsWith("data:"))
                l = a.slice(5, a.indexOf(";"));
            else if (!a.startsWith("blob:")) {
                let u = a.split("?")[0].slice(a.lastIndexOf(".") + 1).toLowerCase();
                l = Us.MIME_TYPES[u] || `video/${u}`
            }
            return h.src = a,
            l && (h.type = l),
            new Promise(u => {
                let p = async () => {
                    let y = new Us(Ob(ld({}, s), {
                        resource: o
                    }));
                    o.removeEventListener("canplay", p),
                    e.data.preload && await Ym(o),
                    u(Ja(y, t, a))
                }
                ;
                o.addEventListener("canplay", p),
                o.appendChild(h)
            }
            )
        },
        unload(a) {
            a.destroy(!0)
        }
    }
      , Up = {
        extension: {
            type: B.ResolveParser,
            name: "resolveTexture"
        },
        test: Dp.test,
        parse: a => {
            var e, t;
            return {
                resolution: parseFloat((t = (e = ha.RETINA_PREFIX.exec(a)) == null ? void 0 : e[1]) != null ? t : "1"),
                format: a.split(".").pop(),
                src: a
            }
        }
    }
      , qm = {
        extension: {
            type: B.ResolveParser,
            priority: -2,
            name: "resolveJson"
        },
        test: a => ha.RETINA_PREFIX.test(a) && a.endsWith(".json"),
        parse: Up.parse
    }
      , Ah = class {
        constructor() {
            this._detections = [],
            this._initialized = !1,
            this.resolver = new ha,
            this.loader = new Sh,
            this.cache = Oe,
            this._backgroundLoader = new Th(this.loader),
            this._backgroundLoader.active = !0,
            this.reset()
        }
        async init(e={}) {
            var t, i, r;
            if (this._initialized)
                return;
            if (this._initialized = !0,
            e.defaultSearchParams && this.resolver.setDefaultSearchParams(e.defaultSearchParams),
            e.basePath && (this.resolver.basePath = e.basePath),
            e.bundleIdentifier && this.resolver.setBundleIdentifier(e.bundleIdentifier),
            e.manifest) {
                let h = e.manifest;
                typeof h == "string" && (h = await this.load(h)),
                this.resolver.addManifest(h)
            }
            let s = (i = (t = e.texturePreference) == null ? void 0 : t.resolution) != null ? i : 1
              , o = typeof s == "number" ? [s] : s
              , d = await this._detectFormats({
                preferredFormats: (r = e.texturePreference) == null ? void 0 : r.format,
                skipDetections: e.skipDetections,
                detections: this._detections
            });
            this.resolver.prefer({
                params: {
                    format: d,
                    resolution: o
                }
            }),
            e.preferences && this.setPreferences(e.preferences)
        }
        add(e) {
            this.resolver.add(e)
        }
        async load(e, t) {
            this._initialized || await this.init();
            let i = Ks(e)
              , r = Xt(e).map(d => {
                if (typeof d != "string") {
                    let h = this.resolver.getAlias(d);
                    return h.some(l => !this.resolver.hasKey(l)) && this.add(d),
                    Array.isArray(h) ? h[0] : h
                }
                return this.resolver.hasKey(d) || this.add({
                    alias: d,
                    src: d
                }),
                d
            }
            )
              , s = this.resolver.resolve(r)
              , o = await this._mapLoadToResolve(s, t);
            return i ? o[r[0]] : o
        }
        addBundle(e, t) {
            this.resolver.addBundle(e, t)
        }
        async loadBundle(e, t) {
            this._initialized || await this.init();
            let i = !1;
            typeof e == "string" && (i = !0,
            e = [e]);
            let r = this.resolver.resolveBundle(e)
              , s = {}
              , o = Object.keys(r)
              , d = 0
              , h = 0
              , l = () => {
                t?.(++d / h)
            }
              , u = o.map(p => {
                let y = r[p];
                return h += Object.keys(y).length,
                this._mapLoadToResolve(y, l).then(_ => {
                    s[p] = _
                }
                )
            }
            );
            return await Promise.all(u),
            i ? s[e[0]] : s
        }
        async backgroundLoad(e) {
            this._initialized || await this.init(),
            typeof e == "string" && (e = [e]);
            let t = this.resolver.resolve(e);
            this._backgroundLoader.add(Object.values(t))
        }
        async backgroundLoadBundle(e) {
            this._initialized || await this.init(),
            typeof e == "string" && (e = [e]);
            let t = this.resolver.resolveBundle(e);
            Object.values(t).forEach(i => {
                this._backgroundLoader.add(Object.values(i))
            }
            )
        }
        reset() {
            this.resolver.reset(),
            this.loader.reset(),
            this.cache.reset(),
            this._initialized = !1
        }
        get(e) {
            if (typeof e == "string")
                return Oe.get(e);
            let t = {};
            for (let i = 0; i < e.length; i++)
                t[i] = Oe.get(e[i]);
            return t
        }
        async _mapLoadToResolve(e, t) {
            let i = [...new Set(Object.values(e))];
            this._backgroundLoader.active = !1;
            let r = await this.loader.load(i, t);
            this._backgroundLoader.active = !0;
            let s = {};
            return i.forEach(o => {
                let d = r[o.src]
                  , h = [o.src];
                o.alias && h.push(...o.alias),
                h.forEach(l => {
                    s[l] = d
                }
                ),
                Oe.set(h, d)
            }
            ),
            s
        }
        async unload(e) {
            this._initialized || await this.init();
            let t = Xt(e).map(r => typeof r != "string" ? r.src : r)
              , i = this.resolver.resolve(t);
            await this._unloadFromResolved(i)
        }
        async unloadBundle(e) {
            this._initialized || await this.init(),
            e = Xt(e);
            let t = this.resolver.resolveBundle(e)
              , i = Object.keys(t).map(r => this._unloadFromResolved(t[r]));
            await Promise.all(i)
        }
        async _unloadFromResolved(e) {
            let t = Object.values(e);
            t.forEach(i => {
                Oe.remove(i.src)
            }
            ),
            await this.loader.unload(t)
        }
        async _detectFormats(e) {
            let t = [];
            e.preferredFormats && (t = Array.isArray(e.preferredFormats) ? e.preferredFormats : [e.preferredFormats]);
            for (let i of e.detections)
                e.skipDetections || await i.test() ? t = await i.add(t) : e.skipDetections || (t = await i.remove(t));
            return t = t.filter( (i, r) => t.indexOf(i) === r),
            t
        }
        get detections() {
            return this._detections
        }
        setPreferences(e) {
            this.loader.parsers.forEach(t => {
                t.config && Object.keys(t.config).filter(i => i in e).forEach(i => {
                    t.config[i] = e[i]
                }
                )
            }
            )
        }
    }
      , ge = new Ah;
    pe.handleByList(B.LoadParser, ge.loader.parsers).handleByList(B.ResolveParser, ge.resolver.parsers).handleByList(B.CacheParser, ge.cache.parsers).handleByList(B.DetectionParser, ge.detections),
    pe.add(Ng, Xg, jg, Yg, zg, Vg, Wg, im, nm, vm, Pm, Dp, Km, Lg, Ug, Up, qm);
    var Ib = {
        loader: B.LoadParser,
        resolver: B.ResolveParser,
        cache: B.CacheParser,
        detection: B.DetectionParser
    };
    pe.handle(B.Asset, a => {
        let e = a.ref;
        Object.entries(Ib).filter( ([t]) => !!e[t]).forEach( ([t,i]) => {
            var r;
            return pe.add(Object.assign(e[t], {
                extension: (r = e[t].extension) != null ? r : i
            }))
        }
        )
    }
    , a => {
        let e = a.ref;
        Object.keys(Ib).filter(t => !!e[t]).forEach(t => pe.remove(e[t]))
    }
    );
    var nS = {
        extension: {
            type: B.DetectionParser,
            priority: 3
        },
        test: async () => !!(await jo() || No()),
        add: async a => [...a, "basis"],
        remove: async a => a.filter(e => e !== "basis")
    }, Oi = class extends Fe {
        constructor(e) {
            super(e),
            this.uploadMethodId = "compressed",
            this.resource = e.resource,
            this.mipLevelCount = this.resource.length
        }
    }
    , Rs;
    function Gb() {
        if (Rs)
            return Rs;
        let a = document.createElement("canvas").getContext("webgl");
        return a ? (Rs = [...a.getExtension("EXT_texture_compression_bptc") ? ["bc6h-rgb-ufloat", "bc6h-rgb-float", "bc7-rgba-unorm", "bc7-rgba-unorm-srgb"] : [], ...a.getExtension("WEBGL_compressed_texture_s3tc") ? ["bc1-rgba-unorm", "bc2-rgba-unorm", "bc3-rgba-unorm"] : [], ...a.getExtension("WEBGL_compressed_texture_s3tc_srgb") ? ["bc1-rgba-unorm-srgb", "bc2-rgba-unorm-srgb", "bc3-rgba-unorm-srgb"] : [], ...a.getExtension("EXT_texture_compression_rgtc") ? ["bc4-r-unorm", "bc4-r-snorm", "bc5-rg-unorm", "bc5-rg-snorm"] : [], ...a.getExtension("WEBGL_compressed_texture_etc") ? ["etc2-rgb8unorm", "etc2-rgb8unorm-srgb", "etc2-rgba8unorm", "etc2-rgba8unorm-srgb", "etc2-rgb8a1unorm", "etc2-rgb8a1unorm-srgb", "eac-r11unorm", "eac-rg11unorm"] : [], ...a.getExtension("WEBGL_compressed_texture_astc") ? ["astc-4x4-unorm", "astc-4x4-unorm-srgb", "astc-5x4-unorm", "astc-5x4-unorm-srgb", "astc-5x5-unorm", "astc-5x5-unorm-srgb", "astc-6x5-unorm", "astc-6x5-unorm-srgb", "astc-6x6-unorm", "astc-6x6-unorm-srgb", "astc-8x5-unorm", "astc-8x5-unorm-srgb", "astc-8x6-unorm", "astc-8x6-unorm-srgb", "astc-8x8-unorm", "astc-8x8-unorm-srgb", "astc-10x5-unorm", "astc-10x5-unorm-srgb", "astc-10x6-unorm", "astc-10x6-unorm-srgb", "astc-10x8-unorm", "astc-10x8-unorm-srgb", "astc-10x10-unorm", "astc-10x10-unorm-srgb", "astc-12x10-unorm", "astc-12x10-unorm-srgb", "astc-12x12-unorm", "astc-12x12-unorm-srgb"] : []],
        Rs) : []
    }
    var Ms;
    async function Bb() {
        if (Ms)
            return Ms;
        let a = await xe.get().getNavigator().gpu.requestAdapter();
        return Ms = [...a.features.has("texture-compression-bc") ? ["bc1-rgba-unorm", "bc1-rgba-unorm-srgb", "bc2-rgba-unorm", "bc2-rgba-unorm-srgb", "bc3-rgba-unorm", "bc3-rgba-unorm-srgb", "bc4-r-unorm", "bc4-r-snorm", "bc5-rg-unorm", "bc5-rg-snorm", "bc6h-rgb-ufloat", "bc6h-rgb-float", "bc7-rgba-unorm", "bc7-rgba-unorm-srgb"] : [], ...a.features.has("texture-compression-etc2") ? ["etc2-rgb8unorm", "etc2-rgb8unorm-srgb", "etc2-rgb8a1unorm", "etc2-rgb8a1unorm-srgb", "etc2-rgba8unorm", "etc2-rgba8unorm-srgb", "eac-r11unorm", "eac-r11snorm", "eac-rg11unorm", "eac-rg11snorm"] : [], ...a.features.has("texture-compression-astc") ? ["astc-4x4-unorm", "astc-4x4-unorm-srgb", "astc-5x4-unorm", "astc-5x4-unorm-srgb", "astc-5x5-unorm", "astc-5x5-unorm-srgb", "astc-6x5-unorm", "astc-6x5-unorm-srgb", "astc-6x6-unorm", "astc-6x6-unorm-srgb", "astc-8x5-unorm", "astc-8x5-unorm-srgb", "astc-8x6-unorm", "astc-8x6-unorm-srgb", "astc-8x8-unorm", "astc-8x8-unorm-srgb", "astc-10x5-unorm", "astc-10x5-unorm-srgb", "astc-10x6-unorm", "astc-10x6-unorm-srgb", "astc-10x8-unorm", "astc-10x8-unorm-srgb", "astc-10x10-unorm", "astc-10x10-unorm-srgb", "astc-12x10-unorm", "astc-12x10-unorm-srgb", "astc-12x12-unorm", "astc-12x12-unorm-srgb"] : []],
        Ms
    }
    var fd;
    async function Lp() {
        return fd !== void 0 || (fd = await (async () => {
            let a = await jo()
              , e = No();
            if (a && e) {
                let t = await Bb()
                  , i = Gb();
                return t.filter(r => i.includes(r))
            } else {
                if (a)
                    return await Bb();
                if (e)
                    return Gb()
            }
            return []
        }
        )()),
        fd
    }
    var Zm = ["r8unorm", "r8snorm", "r8uint", "r8sint", "r16uint", "r16sint", "r16float", "rg8unorm", "rg8snorm", "rg8uint", "rg8sint", "r32uint", "r32sint", "r32float", "rg16uint", "rg16sint", "rg16float", "rgba8unorm", "rgba8unorm-srgb", "rgba8snorm", "rgba8uint", "rgba8sint", "bgra8unorm", "bgra8unorm-srgb", "rgb9e5ufloat", "rgb10a2unorm", "rg11b10ufloat", "rg32uint", "rg32sint", "rg32float", "rgba16uint", "rgba16sint", "rgba16float", "rgba32uint", "rgba32sint", "rgba32float", "stencil8", "depth16unorm", "depth24plus", "depth24plus-stencil8", "depth32float", "depth32float-stencil8"], Cs;
    async function Ho() {
        if (Cs !== void 0)
            return Cs;
        let a = await Lp();
        return Cs = [...Zm, ...a],
        Cs
    }
    var Qm = '(function(){"use strict";function g(r,a){const t=r.getNumImages(),s=r.getNumLevels(0);if(!r.startTranscoding())throw new Error("startTranscoding failed");const m=[];for(let e=0;e<s;++e)for(let o=0;o<t;++o){const B=r.getImageTranscodedSizeInBytes(o,e,a),f=new Uint8Array(B);if(!r.transcodeImage(f,o,e,a,1,0))throw new Error("transcodeImage failed");m.push(f)}return m}const w={"bc3-rgba-unorm":3,"bc7-rgba-unorm":6,"etc2-rgba8unorm":1,"astc-4x4-unorm":10,rgba8unorm:13,rgba4unorm:16};function d(r){const a=w[r];if(a)return a;throw new Error(`Unsupported transcoderFormat: ${r}`)}const n={jsUrl:"basis/basis_transcoder.js",wasmUrl:"basis/basis_transcoder.wasm"};let u,i,c;async function l(){if(!c){const r=new URL(n.jsUrl,location.origin).href,a=new URL(n.wasmUrl,location.origin).href;importScripts(r),c=new Promise(t=>{BASIS({locateFile:s=>a}).then(s=>{s.initializeBasis(),t(s.BasisFile)})})}return c}async function b(r,a){const t=await fetch(r);if(t.ok){const s=await t.arrayBuffer();return new a(new Uint8Array(s))}throw new Error(`Failed to load Basis texture: ${r}`)}const h=["bc7-rgba-unorm","astc-4x4-unorm","etc2-rgba8unorm","bc3-rgba-unorm","rgba8unorm"];async function p(r){const a=await l(),t=await b(r,a),s=g(t,u);return{width:t.getImageWidth(0,0),height:t.getImageHeight(0,0),format:i,resource:s,alphaMode:"no-premultiply-alpha"}}async function y(r,a,t){r&&(n.jsUrl=r),a&&(n.wasmUrl=a),i=h.filter(s=>t.includes(s))[0],u=d(i),await l()}const U={init:async r=>{const{jsUrl:a,wasmUrl:t,supportedTextures:s}=r;await y(a,t,s)},load:async r=>{var a;try{const t=await p(r.url);return{type:"load",url:r.url,success:!0,textureOptions:t,transferables:(a=t.resource)==null?void 0:a.map(s=>s.buffer)}}catch(t){throw t}}};self.onmessage=async r=>{const a=r.data,t=await U[a.type](a);t&&self.postMessage(t,t.transferables)}})();\n'
      , Si = null
      , Np = class {
        constructor() {
            Si || (Si = URL.createObjectURL(new Blob([Qm],{
                type: "application/javascript"
            }))),
            this.worker = new Worker(Si)
        }
    }
    ;
    Np.revokeObjectURL = function() {
        Si && (URL.revokeObjectURL(Si),
        Si = null)
    }
    ;
    var Fb = {
        jsUrl: "https://files.pixijs.download/transcoders/basis/basis_transcoder.js",
        wasmUrl: "https://files.pixijs.download/transcoders/basis/basis_transcoder.wasm"
    };
    var lr, jp = {};
    function Jm(a) {
        return lr || (lr = new Np().worker,
        lr.onmessage = e => {
            let {success: t, url: i, textureOptions: r} = e.data;
            jp[i](r)
        }
        ,
        lr.postMessage({
            type: "init",
            jsUrl: Fb.jsUrl,
            wasmUrl: Fb.wasmUrl,
            supportedTextures: a
        })),
        lr
    }
    function e_(a, e) {
        let t = Jm(e);
        return new Promise(i => {
            jp[a] = i,
            t.postMessage({
                type: "load",
                url: a
            })
        }
        )
    }
    var oS = {
        extension: {
            type: B.LoadParser,
            priority: Rt.High,
            name: "loadBasis"
        },
        name: "loadBasis",
        test(a) {
            return zt(a, [".basis"])
        },
        async load(a, e, t) {
            let i = await Ho()
              , r = await e_(a, i)
              , s = new Oi(r);
            return Ja(s, t, a)
        },
        unload(a) {
            Array.isArray(a) ? a.forEach(e => e.destroy(!0)) : a.destroy(!0)
        }
    };
    var t_ = {
        MAGIC: 0,
        SIZE: 1,
        FLAGS: 2,
        HEIGHT: 3,
        WIDTH: 4,
        MIPMAP_COUNT: 7,
        PIXEL_FORMAT: 19,
        PF_FLAGS: 20,
        FOURCC: 21,
        RGB_BITCOUNT: 22,
        R_BIT_MASK: 23,
        G_BIT_MASK: 24,
        B_BIT_MASK: 25,
        A_BIT_MASK: 26
    }
      , a_ = {
        DXGI_FORMAT: 0,
        RESOURCE_DIMENSION: 1,
        MISC_FLAG: 2,
        ARRAY_SIZE: 3,
        MISC_FLAGS2: 4
    }
      , Xp = (a => (a[a.DXGI_FORMAT_UNKNOWN = 0] = "DXGI_FORMAT_UNKNOWN",
    a[a.DXGI_FORMAT_R32G32B32A32_TYPELESS = 1] = "DXGI_FORMAT_R32G32B32A32_TYPELESS",
    a[a.DXGI_FORMAT_R32G32B32A32_FLOAT = 2] = "DXGI_FORMAT_R32G32B32A32_FLOAT",
    a[a.DXGI_FORMAT_R32G32B32A32_UINT = 3] = "DXGI_FORMAT_R32G32B32A32_UINT",
    a[a.DXGI_FORMAT_R32G32B32A32_SINT = 4] = "DXGI_FORMAT_R32G32B32A32_SINT",
    a[a.DXGI_FORMAT_R32G32B32_TYPELESS = 5] = "DXGI_FORMAT_R32G32B32_TYPELESS",
    a[a.DXGI_FORMAT_R32G32B32_FLOAT = 6] = "DXGI_FORMAT_R32G32B32_FLOAT",
    a[a.DXGI_FORMAT_R32G32B32_UINT = 7] = "DXGI_FORMAT_R32G32B32_UINT",
    a[a.DXGI_FORMAT_R32G32B32_SINT = 8] = "DXGI_FORMAT_R32G32B32_SINT",
    a[a.DXGI_FORMAT_R16G16B16A16_TYPELESS = 9] = "DXGI_FORMAT_R16G16B16A16_TYPELESS",
    a[a.DXGI_FORMAT_R16G16B16A16_FLOAT = 10] = "DXGI_FORMAT_R16G16B16A16_FLOAT",
    a[a.DXGI_FORMAT_R16G16B16A16_UNORM = 11] = "DXGI_FORMAT_R16G16B16A16_UNORM",
    a[a.DXGI_FORMAT_R16G16B16A16_UINT = 12] = "DXGI_FORMAT_R16G16B16A16_UINT",
    a[a.DXGI_FORMAT_R16G16B16A16_SNORM = 13] = "DXGI_FORMAT_R16G16B16A16_SNORM",
    a[a.DXGI_FORMAT_R16G16B16A16_SINT = 14] = "DXGI_FORMAT_R16G16B16A16_SINT",
    a[a.DXGI_FORMAT_R32G32_TYPELESS = 15] = "DXGI_FORMAT_R32G32_TYPELESS",
    a[a.DXGI_FORMAT_R32G32_FLOAT = 16] = "DXGI_FORMAT_R32G32_FLOAT",
    a[a.DXGI_FORMAT_R32G32_UINT = 17] = "DXGI_FORMAT_R32G32_UINT",
    a[a.DXGI_FORMAT_R32G32_SINT = 18] = "DXGI_FORMAT_R32G32_SINT",
    a[a.DXGI_FORMAT_R32G8X24_TYPELESS = 19] = "DXGI_FORMAT_R32G8X24_TYPELESS",
    a[a.DXGI_FORMAT_D32_FLOAT_S8X24_UINT = 20] = "DXGI_FORMAT_D32_FLOAT_S8X24_UINT",
    a[a.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS = 21] = "DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",
    a[a.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT = 22] = "DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",
    a[a.DXGI_FORMAT_R10G10B10A2_TYPELESS = 23] = "DXGI_FORMAT_R10G10B10A2_TYPELESS",
    a[a.DXGI_FORMAT_R10G10B10A2_UNORM = 24] = "DXGI_FORMAT_R10G10B10A2_UNORM",
    a[a.DXGI_FORMAT_R10G10B10A2_UINT = 25] = "DXGI_FORMAT_R10G10B10A2_UINT",
    a[a.DXGI_FORMAT_R11G11B10_FLOAT = 26] = "DXGI_FORMAT_R11G11B10_FLOAT",
    a[a.DXGI_FORMAT_R8G8B8A8_TYPELESS = 27] = "DXGI_FORMAT_R8G8B8A8_TYPELESS",
    a[a.DXGI_FORMAT_R8G8B8A8_UNORM = 28] = "DXGI_FORMAT_R8G8B8A8_UNORM",
    a[a.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB = 29] = "DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",
    a[a.DXGI_FORMAT_R8G8B8A8_UINT = 30] = "DXGI_FORMAT_R8G8B8A8_UINT",
    a[a.DXGI_FORMAT_R8G8B8A8_SNORM = 31] = "DXGI_FORMAT_R8G8B8A8_SNORM",
    a[a.DXGI_FORMAT_R8G8B8A8_SINT = 32] = "DXGI_FORMAT_R8G8B8A8_SINT",
    a[a.DXGI_FORMAT_R16G16_TYPELESS = 33] = "DXGI_FORMAT_R16G16_TYPELESS",
    a[a.DXGI_FORMAT_R16G16_FLOAT = 34] = "DXGI_FORMAT_R16G16_FLOAT",
    a[a.DXGI_FORMAT_R16G16_UNORM = 35] = "DXGI_FORMAT_R16G16_UNORM",
    a[a.DXGI_FORMAT_R16G16_UINT = 36] = "DXGI_FORMAT_R16G16_UINT",
    a[a.DXGI_FORMAT_R16G16_SNORM = 37] = "DXGI_FORMAT_R16G16_SNORM",
    a[a.DXGI_FORMAT_R16G16_SINT = 38] = "DXGI_FORMAT_R16G16_SINT",
    a[a.DXGI_FORMAT_R32_TYPELESS = 39] = "DXGI_FORMAT_R32_TYPELESS",
    a[a.DXGI_FORMAT_D32_FLOAT = 40] = "DXGI_FORMAT_D32_FLOAT",
    a[a.DXGI_FORMAT_R32_FLOAT = 41] = "DXGI_FORMAT_R32_FLOAT",
    a[a.DXGI_FORMAT_R32_UINT = 42] = "DXGI_FORMAT_R32_UINT",
    a[a.DXGI_FORMAT_R32_SINT = 43] = "DXGI_FORMAT_R32_SINT",
    a[a.DXGI_FORMAT_R24G8_TYPELESS = 44] = "DXGI_FORMAT_R24G8_TYPELESS",
    a[a.DXGI_FORMAT_D24_UNORM_S8_UINT = 45] = "DXGI_FORMAT_D24_UNORM_S8_UINT",
    a[a.DXGI_FORMAT_R24_UNORM_X8_TYPELESS = 46] = "DXGI_FORMAT_R24_UNORM_X8_TYPELESS",
    a[a.DXGI_FORMAT_X24_TYPELESS_G8_UINT = 47] = "DXGI_FORMAT_X24_TYPELESS_G8_UINT",
    a[a.DXGI_FORMAT_R8G8_TYPELESS = 48] = "DXGI_FORMAT_R8G8_TYPELESS",
    a[a.DXGI_FORMAT_R8G8_UNORM = 49] = "DXGI_FORMAT_R8G8_UNORM",
    a[a.DXGI_FORMAT_R8G8_UINT = 50] = "DXGI_FORMAT_R8G8_UINT",
    a[a.DXGI_FORMAT_R8G8_SNORM = 51] = "DXGI_FORMAT_R8G8_SNORM",
    a[a.DXGI_FORMAT_R8G8_SINT = 52] = "DXGI_FORMAT_R8G8_SINT",
    a[a.DXGI_FORMAT_R16_TYPELESS = 53] = "DXGI_FORMAT_R16_TYPELESS",
    a[a.DXGI_FORMAT_R16_FLOAT = 54] = "DXGI_FORMAT_R16_FLOAT",
    a[a.DXGI_FORMAT_D16_UNORM = 55] = "DXGI_FORMAT_D16_UNORM",
    a[a.DXGI_FORMAT_R16_UNORM = 56] = "DXGI_FORMAT_R16_UNORM",
    a[a.DXGI_FORMAT_R16_UINT = 57] = "DXGI_FORMAT_R16_UINT",
    a[a.DXGI_FORMAT_R16_SNORM = 58] = "DXGI_FORMAT_R16_SNORM",
    a[a.DXGI_FORMAT_R16_SINT = 59] = "DXGI_FORMAT_R16_SINT",
    a[a.DXGI_FORMAT_R8_TYPELESS = 60] = "DXGI_FORMAT_R8_TYPELESS",
    a[a.DXGI_FORMAT_R8_UNORM = 61] = "DXGI_FORMAT_R8_UNORM",
    a[a.DXGI_FORMAT_R8_UINT = 62] = "DXGI_FORMAT_R8_UINT",
    a[a.DXGI_FORMAT_R8_SNORM = 63] = "DXGI_FORMAT_R8_SNORM",
    a[a.DXGI_FORMAT_R8_SINT = 64] = "DXGI_FORMAT_R8_SINT",
    a[a.DXGI_FORMAT_A8_UNORM = 65] = "DXGI_FORMAT_A8_UNORM",
    a[a.DXGI_FORMAT_R1_UNORM = 66] = "DXGI_FORMAT_R1_UNORM",
    a[a.DXGI_FORMAT_R9G9B9E5_SHAREDEXP = 67] = "DXGI_FORMAT_R9G9B9E5_SHAREDEXP",
    a[a.DXGI_FORMAT_R8G8_B8G8_UNORM = 68] = "DXGI_FORMAT_R8G8_B8G8_UNORM",
    a[a.DXGI_FORMAT_G8R8_G8B8_UNORM = 69] = "DXGI_FORMAT_G8R8_G8B8_UNORM",
    a[a.DXGI_FORMAT_BC1_TYPELESS = 70] = "DXGI_FORMAT_BC1_TYPELESS",
    a[a.DXGI_FORMAT_BC1_UNORM = 71] = "DXGI_FORMAT_BC1_UNORM",
    a[a.DXGI_FORMAT_BC1_UNORM_SRGB = 72] = "DXGI_FORMAT_BC1_UNORM_SRGB",
    a[a.DXGI_FORMAT_BC2_TYPELESS = 73] = "DXGI_FORMAT_BC2_TYPELESS",
    a[a.DXGI_FORMAT_BC2_UNORM = 74] = "DXGI_FORMAT_BC2_UNORM",
    a[a.DXGI_FORMAT_BC2_UNORM_SRGB = 75] = "DXGI_FORMAT_BC2_UNORM_SRGB",
    a[a.DXGI_FORMAT_BC3_TYPELESS = 76] = "DXGI_FORMAT_BC3_TYPELESS",
    a[a.DXGI_FORMAT_BC3_UNORM = 77] = "DXGI_FORMAT_BC3_UNORM",
    a[a.DXGI_FORMAT_BC3_UNORM_SRGB = 78] = "DXGI_FORMAT_BC3_UNORM_SRGB",
    a[a.DXGI_FORMAT_BC4_TYPELESS = 79] = "DXGI_FORMAT_BC4_TYPELESS",
    a[a.DXGI_FORMAT_BC4_UNORM = 80] = "DXGI_FORMAT_BC4_UNORM",
    a[a.DXGI_FORMAT_BC4_SNORM = 81] = "DXGI_FORMAT_BC4_SNORM",
    a[a.DXGI_FORMAT_BC5_TYPELESS = 82] = "DXGI_FORMAT_BC5_TYPELESS",
    a[a.DXGI_FORMAT_BC5_UNORM = 83] = "DXGI_FORMAT_BC5_UNORM",
    a[a.DXGI_FORMAT_BC5_SNORM = 84] = "DXGI_FORMAT_BC5_SNORM",
    a[a.DXGI_FORMAT_B5G6R5_UNORM = 85] = "DXGI_FORMAT_B5G6R5_UNORM",
    a[a.DXGI_FORMAT_B5G5R5A1_UNORM = 86] = "DXGI_FORMAT_B5G5R5A1_UNORM",
    a[a.DXGI_FORMAT_B8G8R8A8_UNORM = 87] = "DXGI_FORMAT_B8G8R8A8_UNORM",
    a[a.DXGI_FORMAT_B8G8R8X8_UNORM = 88] = "DXGI_FORMAT_B8G8R8X8_UNORM",
    a[a.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM = 89] = "DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",
    a[a.DXGI_FORMAT_B8G8R8A8_TYPELESS = 90] = "DXGI_FORMAT_B8G8R8A8_TYPELESS",
    a[a.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB = 91] = "DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",
    a[a.DXGI_FORMAT_B8G8R8X8_TYPELESS = 92] = "DXGI_FORMAT_B8G8R8X8_TYPELESS",
    a[a.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB = 93] = "DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",
    a[a.DXGI_FORMAT_BC6H_TYPELESS = 94] = "DXGI_FORMAT_BC6H_TYPELESS",
    a[a.DXGI_FORMAT_BC6H_UF16 = 95] = "DXGI_FORMAT_BC6H_UF16",
    a[a.DXGI_FORMAT_BC6H_SF16 = 96] = "DXGI_FORMAT_BC6H_SF16",
    a[a.DXGI_FORMAT_BC7_TYPELESS = 97] = "DXGI_FORMAT_BC7_TYPELESS",
    a[a.DXGI_FORMAT_BC7_UNORM = 98] = "DXGI_FORMAT_BC7_UNORM",
    a[a.DXGI_FORMAT_BC7_UNORM_SRGB = 99] = "DXGI_FORMAT_BC7_UNORM_SRGB",
    a[a.DXGI_FORMAT_AYUV = 100] = "DXGI_FORMAT_AYUV",
    a[a.DXGI_FORMAT_Y410 = 101] = "DXGI_FORMAT_Y410",
    a[a.DXGI_FORMAT_Y416 = 102] = "DXGI_FORMAT_Y416",
    a[a.DXGI_FORMAT_NV12 = 103] = "DXGI_FORMAT_NV12",
    a[a.DXGI_FORMAT_P010 = 104] = "DXGI_FORMAT_P010",
    a[a.DXGI_FORMAT_P016 = 105] = "DXGI_FORMAT_P016",
    a[a.DXGI_FORMAT_420_OPAQUE = 106] = "DXGI_FORMAT_420_OPAQUE",
    a[a.DXGI_FORMAT_YUY2 = 107] = "DXGI_FORMAT_YUY2",
    a[a.DXGI_FORMAT_Y210 = 108] = "DXGI_FORMAT_Y210",
    a[a.DXGI_FORMAT_Y216 = 109] = "DXGI_FORMAT_Y216",
    a[a.DXGI_FORMAT_NV11 = 110] = "DXGI_FORMAT_NV11",
    a[a.DXGI_FORMAT_AI44 = 111] = "DXGI_FORMAT_AI44",
    a[a.DXGI_FORMAT_IA44 = 112] = "DXGI_FORMAT_IA44",
    a[a.DXGI_FORMAT_P8 = 113] = "DXGI_FORMAT_P8",
    a[a.DXGI_FORMAT_A8P8 = 114] = "DXGI_FORMAT_A8P8",
    a[a.DXGI_FORMAT_B4G4R4A4_UNORM = 115] = "DXGI_FORMAT_B4G4R4A4_UNORM",
    a[a.DXGI_FORMAT_P208 = 116] = "DXGI_FORMAT_P208",
    a[a.DXGI_FORMAT_V208 = 117] = "DXGI_FORMAT_V208",
    a[a.DXGI_FORMAT_V408 = 118] = "DXGI_FORMAT_V408",
    a[a.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE = 119] = "DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",
    a[a.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE = 120] = "DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",
    a[a.DXGI_FORMAT_FORCE_UINT = 121] = "DXGI_FORMAT_FORCE_UINT",
    a))(Xp || {})
      , Hp = (a => (a[a.DDS_DIMENSION_TEXTURE1D = 2] = "DDS_DIMENSION_TEXTURE1D",
    a[a.DDS_DIMENSION_TEXTURE2D = 3] = "DDS_DIMENSION_TEXTURE2D",
    a[a.DDS_DIMENSION_TEXTURE3D = 6] = "DDS_DIMENSION_TEXTURE3D",
    a))(Hp || {});
    function Ye(a) {
        return a.charCodeAt(0) + (a.charCodeAt(1) << 8) + (a.charCodeAt(2) << 16) + (a.charCodeAt(3) << 24)
    }
    var bt = (a => (a[a.UNKNOWN = 0] = "UNKNOWN",
    a[a.R8G8B8 = 20] = "R8G8B8",
    a[a.A8R8G8B8 = 21] = "A8R8G8B8",
    a[a.X8R8G8B8 = 22] = "X8R8G8B8",
    a[a.R5G6B5 = 23] = "R5G6B5",
    a[a.X1R5G5B5 = 24] = "X1R5G5B5",
    a[a.A1R5G5B5 = 25] = "A1R5G5B5",
    a[a.A4R4G4B4 = 26] = "A4R4G4B4",
    a[a.R3G3B2 = 27] = "R3G3B2",
    a[a.A8 = 28] = "A8",
    a[a.A8R3G3B2 = 29] = "A8R3G3B2",
    a[a.X4R4G4B4 = 30] = "X4R4G4B4",
    a[a.A2B10G10R10 = 31] = "A2B10G10R10",
    a[a.A8B8G8R8 = 32] = "A8B8G8R8",
    a[a.X8B8G8R8 = 33] = "X8B8G8R8",
    a[a.G16R16 = 34] = "G16R16",
    a[a.A2R10G10B10 = 35] = "A2R10G10B10",
    a[a.A16B16G16R16 = 36] = "A16B16G16R16",
    a[a.A8P8 = 40] = "A8P8",
    a[a.P8 = 41] = "P8",
    a[a.L8 = 50] = "L8",
    a[a.A8L8 = 51] = "A8L8",
    a[a.A4L4 = 52] = "A4L4",
    a[a.V8U8 = 60] = "V8U8",
    a[a.L6V5U5 = 61] = "L6V5U5",
    a[a.X8L8V8U8 = 62] = "X8L8V8U8",
    a[a.Q8W8V8U8 = 63] = "Q8W8V8U8",
    a[a.V16U16 = 64] = "V16U16",
    a[a.A2W10V10U10 = 67] = "A2W10V10U10",
    a[a.Q16W16V16U16 = 110] = "Q16W16V16U16",
    a[a.R16F = 111] = "R16F",
    a[a.G16R16F = 112] = "G16R16F",
    a[a.A16B16G16R16F = 113] = "A16B16G16R16F",
    a[a.R32F = 114] = "R32F",
    a[a.G32R32F = 115] = "G32R32F",
    a[a.A32B32G32R32F = 116] = "A32B32G32R32F",
    a[a.UYVY = Ye("UYVY")] = "UYVY",
    a[a.R8G8_B8G8 = Ye("RGBG")] = "R8G8_B8G8",
    a[a.YUY2 = Ye("YUY2")] = "YUY2",
    a[a.D3DFMT_G8R8_G8B8 = Ye("GRGB")] = "D3DFMT_G8R8_G8B8",
    a[a.DXT1 = Ye("DXT1")] = "DXT1",
    a[a.DXT2 = Ye("DXT2")] = "DXT2",
    a[a.DXT3 = Ye("DXT3")] = "DXT3",
    a[a.DXT4 = Ye("DXT4")] = "DXT4",
    a[a.DXT5 = Ye("DXT5")] = "DXT5",
    a[a.ATI1 = Ye("ATI1")] = "ATI1",
    a[a.AT1N = Ye("AT1N")] = "AT1N",
    a[a.ATI2 = Ye("ATI2")] = "ATI2",
    a[a.AT2N = Ye("AT2N")] = "AT2N",
    a[a.BC4U = Ye("BC4U")] = "BC4U",
    a[a.BC4S = Ye("BC4S")] = "BC4S",
    a[a.BC5U = Ye("BC5U")] = "BC5U",
    a[a.BC5S = Ye("BC5S")] = "BC5S",
    a[a.DX10 = Ye("DX10")] = "DX10",
    a))(bt || {})
      , Db = {
        [bt.DXT1]: "bc1-rgba-unorm",
        [bt.DXT2]: "bc2-rgba-unorm",
        [bt.DXT3]: "bc2-rgba-unorm",
        [bt.DXT4]: "bc3-rgba-unorm",
        [bt.DXT5]: "bc3-rgba-unorm",
        [bt.ATI1]: "bc4-r-unorm",
        [bt.BC4U]: "bc4-r-unorm",
        [bt.BC4S]: "bc4-r-snorm",
        [bt.ATI2]: "bc5-rg-unorm",
        [bt.BC5U]: "bc5-rg-unorm",
        [bt.BC5S]: "bc5-rg-snorm",
        36: "rgba16uint",
        110: "rgba16sint",
        111: "r16float",
        112: "rg16float",
        113: "rgba16float",
        114: "r32float",
        115: "rg32float",
        116: "rgba32float"
    }
      , pt = {
        70: "bc1-rgba-unorm",
        71: "bc1-rgba-unorm",
        72: "bc1-rgba-unorm-srgb",
        73: "bc2-rgba-unorm",
        74: "bc2-rgba-unorm",
        75: "bc2-rgba-unorm-srgb",
        76: "bc3-rgba-unorm",
        77: "bc3-rgba-unorm",
        78: "bc3-rgba-unorm-srgb",
        79: "bc4-r-unorm",
        80: "bc4-r-unorm",
        81: "bc4-r-snorm",
        82: "bc5-rg-unorm",
        83: "bc5-rg-unorm",
        84: "bc5-rg-snorm",
        94: "bc6h-rgb-ufloat",
        95: "bc6h-rgb-ufloat",
        96: "bc6h-rgb-float",
        97: "bc7-rgba-unorm",
        98: "bc7-rgba-unorm",
        99: "bc7-rgba-unorm-srgb",
        28: "rgba8unorm",
        29: "rgba8unorm-srgb",
        87: "bgra8unorm",
        91: "bgra8unorm-srgb",
        41: "r32float",
        49: "rg8unorm",
        56: "r16uint",
        61: "r8unorm",
        24: "rgb10a2unorm",
        11: "rgba16uint",
        13: "rgba16sint",
        10: "rgba16float",
        54: "r16float",
        34: "rg16float",
        16: "rg32float",
        2: "rgba32float"
    }
      , ue = {
        MAGIC_VALUE: 542327876,
        MAGIC_SIZE: 4,
        HEADER_SIZE: 124,
        HEADER_DX10_SIZE: 20,
        PIXEL_FORMAT_FLAGS: {
            ALPHAPIXELS: 1,
            ALPHA: 2,
            FOURCC: 4,
            RGB: 64,
            RGBA: 65,
            YUV: 512,
            LUMINANCE: 131072,
            LUMINANCEA: 131073
        },
        RESOURCE_MISC_TEXTURECUBE: 4,
        HEADER_FIELDS: t_,
        HEADER_DX10_FIELDS: a_,
        DXGI_FORMAT: Xp,
        D3D10_RESOURCE_DIMENSION: Hp,
        D3DFMT: bt
    }
      , i_ = {
        "bc1-rgba-unorm": 8,
        "bc1-rgba-unorm-srgb": 8,
        "bc2-rgba-unorm": 16,
        "bc2-rgba-unorm-srgb": 16,
        "bc3-rgba-unorm": 16,
        "bc3-rgba-unorm-srgb": 16,
        "bc4-r-unorm": 8,
        "bc4-r-snorm": 8,
        "bc5-rg-unorm": 16,
        "bc5-rg-snorm": 16,
        "bc6h-rgb-ufloat": 16,
        "bc6h-rgb-float": 16,
        "bc7-rgba-unorm": 16,
        "bc7-rgba-unorm-srgb": 16
    };
    function r_(a, e) {
        let {format: t, fourCC: i, width: r, height: s, dataOffset: o, mipmapCount: d} = n_(a);
        if (!e.includes(t))
            throw new Error(`Unsupported texture format: ${i} ${t}, supported: ${e}`);
        if (d <= 1)
            return {
                format: t,
                width: r,
                height: s,
                resource: [new Uint8Array(a,o)],
                alphaMode: "no-premultiply-alpha"
            };
        let h = s_(t, r, s, o, d, a);
        return {
            format: t,
            width: r,
            height: s,
            resource: h,
            alphaMode: "no-premultiply-alpha"
        }
    }
    function s_(a, e, t, i, r, s) {
        let o = []
          , d = i_[a]
          , h = e
          , l = t
          , u = i;
        for (let p = 0; p < r; ++p) {
            let y = Math.ceil(Math.max(4, h) / 4) * 4
              , _ = Math.ceil(Math.max(4, l) / 4) * 4
              , v = d ? y / 4 * _ / 4 * d : h * l * 4
              , T = new Uint8Array(s,u,v);
            o.push(T),
            u += v,
            h = Math.max(h >> 1, 1),
            l = Math.max(l >> 1, 1)
        }
        return o
    }
    function n_(a) {
        let e = new Uint32Array(a,0,ue.HEADER_SIZE / Uint32Array.BYTES_PER_ELEMENT);
        if (e[ue.HEADER_FIELDS.MAGIC] !== ue.MAGIC_VALUE)
            throw new Error("Invalid magic number in DDS header");
        let t = e[ue.HEADER_FIELDS.HEIGHT]
          , i = e[ue.HEADER_FIELDS.WIDTH]
          , r = Math.max(1, e[ue.HEADER_FIELDS.MIPMAP_COUNT])
          , s = e[ue.HEADER_FIELDS.PF_FLAGS]
          , o = e[ue.HEADER_FIELDS.FOURCC]
          , d = o_(e, s, o, a)
          , h = ue.MAGIC_SIZE + ue.HEADER_SIZE + (o === ue.D3DFMT.DX10 ? ue.HEADER_DX10_SIZE : 0);
        return {
            format: d,
            fourCC: o,
            width: i,
            height: t,
            dataOffset: h,
            mipmapCount: r
        }
    }
    function o_(a, e, t, i) {
        if (e & ue.PIXEL_FORMAT_FLAGS.FOURCC) {
            if (t === ue.D3DFMT.DX10) {
                let r = new Uint32Array(i,ue.MAGIC_SIZE + ue.HEADER_SIZE,ue.HEADER_DX10_SIZE / Uint32Array.BYTES_PER_ELEMENT);
                if (r[ue.HEADER_DX10_FIELDS.MISC_FLAG] === ue.RESOURCE_MISC_TEXTURECUBE)
                    throw new Error("DDSParser does not support cubemap textures");
                if (r[ue.HEADER_DX10_FIELDS.RESOURCE_DIMENSION] === ue.D3D10_RESOURCE_DIMENSION.DDS_DIMENSION_TEXTURE3D)
                    throw new Error("DDSParser does not supported 3D texture data");
                let s = r[ue.HEADER_DX10_FIELDS.DXGI_FORMAT];
                if (s in pt)
                    return pt[s];
                throw new Error(`DDSParser cannot parse texture data with DXGI format ${s}`)
            }
            if (t in Db)
                return Db[t];
            throw new Error(`DDSParser cannot parse texture data with fourCC format ${t}`)
        }
        if (e & ue.PIXEL_FORMAT_FLAGS.RGB || e & ue.PIXEL_FORMAT_FLAGS.RGBA)
            return c_(a);
        throw e & ue.PIXEL_FORMAT_FLAGS.YUV ? new Error("DDSParser does not supported YUV uncompressed texture data.") : e & ue.PIXEL_FORMAT_FLAGS.LUMINANCE || e & ue.PIXEL_FORMAT_FLAGS.LUMINANCEA ? new Error("DDSParser does not support single-channel (lumninance) texture data!") : e & ue.PIXEL_FORMAT_FLAGS.ALPHA || e & ue.PIXEL_FORMAT_FLAGS.ALPHAPIXELS ? new Error("DDSParser does not support single-channel (alpha) texture data!") : new Error("DDSParser failed to load a texture file due to an unknown reason!")
    }
    function c_(a) {
        let e = a[ue.HEADER_FIELDS.RGB_BITCOUNT]
          , t = a[ue.HEADER_FIELDS.R_BIT_MASK]
          , i = a[ue.HEADER_FIELDS.G_BIT_MASK]
          , r = a[ue.HEADER_FIELDS.B_BIT_MASK]
          , s = a[ue.HEADER_FIELDS.A_BIT_MASK];
        switch (e) {
        case 32:
            if (t === 255 && i === 65280 && r === 16711680 && s === 4278190080)
                return pt[ue.DXGI_FORMAT.DXGI_FORMAT_R8G8B8A8_UNORM];
            if (t === 16711680 && i === 65280 && r === 255 && s === 4278190080)
                return pt[ue.DXGI_FORMAT.DXGI_FORMAT_B8G8R8A8_UNORM];
            if (t === 1072693248 && i === 1047552 && r === 1023 && s === 3221225472)
                return pt[ue.DXGI_FORMAT.DXGI_FORMAT_R10G10B10A2_UNORM];
            if (t === 65535 && i === 4294901760 && r === 0 && s === 0)
                return pt[ue.DXGI_FORMAT.DXGI_FORMAT_R16G16_UNORM];
            if (t === 4294967295 && i === 0 && r === 0 && s === 0)
                return pt[ue.DXGI_FORMAT.DXGI_FORMAT_R32_FLOAT];
            break;
        case 24:
            break;
        case 16:
            if (t === 31744 && i === 992 && r === 31 && s === 32768)
                return pt[ue.DXGI_FORMAT.DXGI_FORMAT_B5G5R5A1_UNORM];
            if (t === 63488 && i === 2016 && r === 31 && s === 0)
                return pt[ue.DXGI_FORMAT.DXGI_FORMAT_B5G6R5_UNORM];
            if (t === 3840 && i === 240 && r === 15 && s === 61440)
                return pt[ue.DXGI_FORMAT.DXGI_FORMAT_B4G4R4A4_UNORM];
            if (t === 255 && i === 0 && r === 0 && s === 65280)
                return pt[ue.DXGI_FORMAT.DXGI_FORMAT_R8G8_UNORM];
            if (t === 65535 && i === 0 && r === 0 && s === 0)
                return pt[ue.DXGI_FORMAT.DXGI_FORMAT_R16_UNORM];
            break;
        case 8:
            if (t === 255 && i === 0 && r === 0 && s === 0)
                return pt[ue.DXGI_FORMAT.DXGI_FORMAT_R8_UNORM];
            break
        }
        throw new Error(`DDSParser does not support uncompressed texture with configuration:
bitCount = ${e}, rBitMask = ${t}, gBitMask = ${i}, aBitMask = ${s}`)
    }
    var cS = {
        extension: {
            type: B.LoadParser,
            priority: Rt.High,
            name: "loadDDS"
        },
        name: "loadDDS",
        test(a) {
            return zt(a, [".dds"])
        },
        async load(a, e, t) {
            let i = await Ho()
              , r = await (await fetch(a)).arrayBuffer()
              , s = r_(r, i)
              , o = new Oi(s);
            return Ja(o, t, a)
        },
        unload(a) {
            Array.isArray(a) ? a.forEach(e => e.destroy(!0)) : a.destroy(!0)
        }
    }
      , d_ = (a => (a[a.RGBA8_SNORM = 36759] = "RGBA8_SNORM",
    a[a.RGBA = 6408] = "RGBA",
    a[a.RGBA8UI = 36220] = "RGBA8UI",
    a[a.SRGB8_ALPHA8 = 35907] = "SRGB8_ALPHA8",
    a[a.RGBA8I = 36238] = "RGBA8I",
    a[a.RGBA8 = 32856] = "RGBA8",
    a[a.COMPRESSED_RGB_S3TC_DXT1_EXT = 33776] = "COMPRESSED_RGB_S3TC_DXT1_EXT",
    a[a.COMPRESSED_RGBA_S3TC_DXT1_EXT = 33777] = "COMPRESSED_RGBA_S3TC_DXT1_EXT",
    a[a.COMPRESSED_RGBA_S3TC_DXT3_EXT = 33778] = "COMPRESSED_RGBA_S3TC_DXT3_EXT",
    a[a.COMPRESSED_RGBA_S3TC_DXT5_EXT = 33779] = "COMPRESSED_RGBA_S3TC_DXT5_EXT",
    a[a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT = 35917] = "COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",
    a[a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT = 35918] = "COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",
    a[a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT = 35919] = "COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",
    a[a.COMPRESSED_SRGB_S3TC_DXT1_EXT = 35916] = "COMPRESSED_SRGB_S3TC_DXT1_EXT",
    a[a.COMPRESSED_RED_RGTC1_EXT = 36283] = "COMPRESSED_RED_RGTC1_EXT",
    a[a.COMPRESSED_SIGNED_RED_RGTC1_EXT = 36284] = "COMPRESSED_SIGNED_RED_RGTC1_EXT",
    a[a.COMPRESSED_RED_GREEN_RGTC2_EXT = 36285] = "COMPRESSED_RED_GREEN_RGTC2_EXT",
    a[a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT = 36286] = "COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT",
    a[a.COMPRESSED_R11_EAC = 37488] = "COMPRESSED_R11_EAC",
    a[a.COMPRESSED_SIGNED_R11_EAC = 37489] = "COMPRESSED_SIGNED_R11_EAC",
    a[a.COMPRESSED_RG11_EAC = 37490] = "COMPRESSED_RG11_EAC",
    a[a.COMPRESSED_SIGNED_RG11_EAC = 37491] = "COMPRESSED_SIGNED_RG11_EAC",
    a[a.COMPRESSED_RGB8_ETC2 = 37492] = "COMPRESSED_RGB8_ETC2",
    a[a.COMPRESSED_RGBA8_ETC2_EAC = 37496] = "COMPRESSED_RGBA8_ETC2_EAC",
    a[a.COMPRESSED_SRGB8_ETC2 = 37493] = "COMPRESSED_SRGB8_ETC2",
    a[a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC = 37497] = "COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",
    a[a.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2 = 37494] = "COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",
    a[a.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2 = 37495] = "COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",
    a[a.COMPRESSED_RGBA_ASTC_4x4_KHR = 37808] = "COMPRESSED_RGBA_ASTC_4x4_KHR",
    a[a.COMPRESSED_RGBA_ASTC_5x4_KHR = 37809] = "COMPRESSED_RGBA_ASTC_5x4_KHR",
    a[a.COMPRESSED_RGBA_ASTC_5x5_KHR = 37810] = "COMPRESSED_RGBA_ASTC_5x5_KHR",
    a[a.COMPRESSED_RGBA_ASTC_6x5_KHR = 37811] = "COMPRESSED_RGBA_ASTC_6x5_KHR",
    a[a.COMPRESSED_RGBA_ASTC_6x6_KHR = 37812] = "COMPRESSED_RGBA_ASTC_6x6_KHR",
    a[a.COMPRESSED_RGBA_ASTC_8x5_KHR = 37813] = "COMPRESSED_RGBA_ASTC_8x5_KHR",
    a[a.COMPRESSED_RGBA_ASTC_8x6_KHR = 37814] = "COMPRESSED_RGBA_ASTC_8x6_KHR",
    a[a.COMPRESSED_RGBA_ASTC_8x8_KHR = 37815] = "COMPRESSED_RGBA_ASTC_8x8_KHR",
    a[a.COMPRESSED_RGBA_ASTC_10x5_KHR = 37816] = "COMPRESSED_RGBA_ASTC_10x5_KHR",
    a[a.COMPRESSED_RGBA_ASTC_10x6_KHR = 37817] = "COMPRESSED_RGBA_ASTC_10x6_KHR",
    a[a.COMPRESSED_RGBA_ASTC_10x8_KHR = 37818] = "COMPRESSED_RGBA_ASTC_10x8_KHR",
    a[a.COMPRESSED_RGBA_ASTC_10x10_KHR = 37819] = "COMPRESSED_RGBA_ASTC_10x10_KHR",
    a[a.COMPRESSED_RGBA_ASTC_12x10_KHR = 37820] = "COMPRESSED_RGBA_ASTC_12x10_KHR",
    a[a.COMPRESSED_RGBA_ASTC_12x12_KHR = 37821] = "COMPRESSED_RGBA_ASTC_12x12_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR = 37840] = "COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR = 37841] = "COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR = 37842] = "COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR = 37843] = "COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR = 37844] = "COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR = 37845] = "COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR = 37846] = "COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR = 37847] = "COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR = 37848] = "COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR = 37849] = "COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR = 37850] = "COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR = 37851] = "COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR = 37852] = "COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR",
    a[a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR = 37853] = "COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR",
    a[a.COMPRESSED_RGBA_BPTC_UNORM_EXT = 36492] = "COMPRESSED_RGBA_BPTC_UNORM_EXT",
    a[a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT = 36493] = "COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",
    a[a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT = 36494] = "COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",
    a[a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT = 36495] = "COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",
    a))(d_ || {})
      , h_ = (a => (a[a.RGBA = 6408] = "RGBA",
    a[a.RGB = 6407] = "RGB",
    a[a.RG = 33319] = "RG",
    a[a.RED = 6403] = "RED",
    a[a.RGBA_INTEGER = 36249] = "RGBA_INTEGER",
    a[a.RGB_INTEGER = 36248] = "RGB_INTEGER",
    a[a.RG_INTEGER = 33320] = "RG_INTEGER",
    a[a.RED_INTEGER = 36244] = "RED_INTEGER",
    a[a.ALPHA = 6406] = "ALPHA",
    a[a.LUMINANCE = 6409] = "LUMINANCE",
    a[a.LUMINANCE_ALPHA = 6410] = "LUMINANCE_ALPHA",
    a[a.DEPTH_COMPONENT = 6402] = "DEPTH_COMPONENT",
    a[a.DEPTH_STENCIL = 34041] = "DEPTH_STENCIL",
    a))(h_ || {})
      , l_ = (a => (a[a.UNSIGNED_BYTE = 5121] = "UNSIGNED_BYTE",
    a[a.UNSIGNED_SHORT = 5123] = "UNSIGNED_SHORT",
    a[a.UNSIGNED_SHORT_5_6_5 = 33635] = "UNSIGNED_SHORT_5_6_5",
    a[a.UNSIGNED_SHORT_4_4_4_4 = 32819] = "UNSIGNED_SHORT_4_4_4_4",
    a[a.UNSIGNED_SHORT_5_5_5_1 = 32820] = "UNSIGNED_SHORT_5_5_5_1",
    a[a.UNSIGNED_INT = 5125] = "UNSIGNED_INT",
    a[a.UNSIGNED_INT_10F_11F_11F_REV = 35899] = "UNSIGNED_INT_10F_11F_11F_REV",
    a[a.UNSIGNED_INT_2_10_10_10_REV = 33640] = "UNSIGNED_INT_2_10_10_10_REV",
    a[a.UNSIGNED_INT_24_8 = 34042] = "UNSIGNED_INT_24_8",
    a[a.UNSIGNED_INT_5_9_9_9_REV = 35902] = "UNSIGNED_INT_5_9_9_9_REV",
    a[a.BYTE = 5120] = "BYTE",
    a[a.SHORT = 5122] = "SHORT",
    a[a.INT = 5124] = "INT",
    a[a.FLOAT = 5126] = "FLOAT",
    a[a.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269] = "FLOAT_32_UNSIGNED_INT_24_8_REV",
    a[a.HALF_FLOAT = 36193] = "HALF_FLOAT",
    a))(l_ || {})
      , f_ = {
        33776: "bc1-rgba-unorm",
        33777: "bc1-rgba-unorm",
        33778: "bc2-rgba-unorm",
        33779: "bc3-rgba-unorm",
        35916: "bc1-rgba-unorm-srgb",
        35917: "bc1-rgba-unorm-srgb",
        35918: "bc2-rgba-unorm-srgb",
        35919: "bc3-rgba-unorm-srgb",
        36283: "bc4-r-unorm",
        36284: "bc4-r-snorm",
        36285: "bc5-rg-unorm",
        36286: "bc5-rg-snorm",
        37488: "eac-r11unorm",
        37490: "eac-rg11snorm",
        37492: "etc2-rgb8unorm",
        37496: "etc2-rgba8unorm",
        37493: "etc2-rgb8unorm-srgb",
        37497: "etc2-rgba8unorm-srgb",
        37494: "etc2-rgb8a1unorm",
        37495: "etc2-rgb8a1unorm-srgb",
        37808: "astc-4x4-unorm",
        37840: "astc-4x4-unorm-srgb",
        37809: "astc-5x4-unorm",
        37841: "astc-5x4-unorm-srgb",
        37810: "astc-5x5-unorm",
        37842: "astc-5x5-unorm-srgb",
        37811: "astc-6x5-unorm",
        37843: "astc-6x5-unorm-srgb",
        37812: "astc-6x6-unorm",
        37844: "astc-6x6-unorm-srgb",
        37813: "astc-8x5-unorm",
        37845: "astc-8x5-unorm-srgb",
        37814: "astc-8x6-unorm",
        37846: "astc-8x6-unorm-srgb",
        37815: "astc-8x8-unorm",
        37847: "astc-8x8-unorm-srgb",
        37816: "astc-10x5-unorm",
        37848: "astc-10x5-unorm-srgb",
        37817: "astc-10x6-unorm",
        37849: "astc-10x6-unorm-srgb",
        37818: "astc-10x8-unorm",
        37850: "astc-10x8-unorm-srgb",
        37819: "astc-10x10-unorm",
        37851: "astc-10x10-unorm-srgb",
        37820: "astc-12x10-unorm",
        37852: "astc-12x10-unorm-srgb",
        37821: "astc-12x12-unorm",
        37853: "astc-12x12-unorm-srgb",
        36492: "bc7-rgba-unorm",
        36493: "bc7-rgba-unorm-srgb",
        36494: "bc6h-rgb-float",
        36495: "bc6h-rgb-ufloat",
        35907: "rgba8unorm-srgb",
        36759: "rgba8snorm",
        36220: "rgba8uint",
        36238: "rgba8sint",
        6408: "rgba8unorm"
    }
      , u_ = [171, 75, 84, 88, 32, 49, 49, 187, 13, 10, 26, 10]
      , b_ = {
        FILE_IDENTIFIER: 0,
        ENDIANNESS: 12,
        GL_TYPE: 16,
        GL_TYPE_SIZE: 20,
        GL_FORMAT: 24,
        GL_INTERNAL_FORMAT: 28,
        GL_BASE_INTERNAL_FORMAT: 32,
        PIXEL_WIDTH: 36,
        PIXEL_HEIGHT: 40,
        PIXEL_DEPTH: 44,
        NUMBER_OF_ARRAY_ELEMENTS: 48,
        NUMBER_OF_FACES: 52,
        NUMBER_OF_MIPMAP_LEVELS: 56,
        BYTES_OF_KEY_VALUE_DATA: 60
    }
      , p_ = 64
      , g_ = 67305985
      , m_ = {
        5121: 1,
        5123: 2,
        5124: 4,
        5125: 4,
        5126: 4,
        36193: 8
    }
      , __ = {
        6408: 4,
        6407: 3,
        33319: 2,
        6403: 1,
        6409: 1,
        6410: 2,
        6406: 1
    }
      , y_ = {
        32819: 2,
        32820: 2,
        33635: 2
    }
      , x_ = {
        33776: .5,
        33777: .5,
        33778: 1,
        33779: 1,
        35916: .5,
        35917: .5,
        35918: 1,
        35919: 1,
        36283: .5,
        36284: .5,
        36285: 1,
        36286: 1,
        37488: .5,
        37489: .5,
        37490: 1,
        37491: 1,
        37492: .5,
        37496: 1,
        37493: .5,
        37497: 1,
        37494: .5,
        37495: .5,
        37808: 1,
        37840: 1,
        37809: .8,
        37841: .8,
        37810: .64,
        37842: .64,
        37811: .53375,
        37843: .53375,
        37812: .445,
        37844: .445,
        37813: .4,
        37845: .4,
        37814: .33375,
        37846: .33375,
        37815: .25,
        37847: .25,
        37816: .32,
        37848: .32,
        37817: .26625,
        37849: .26625,
        37818: .2,
        37850: .2,
        37819: .16,
        37851: .16,
        37820: .13375,
        37852: .13375,
        37821: .11125,
        37853: .11125,
        36492: 1,
        36493: 1,
        36494: 1,
        36495: 1
    }
      , Le = {
        FILE_HEADER_SIZE: p_,
        FILE_IDENTIFIER: u_,
        FORMATS_TO_COMPONENTS: __,
        INTERNAL_FORMAT_TO_BYTES_PER_PIXEL: x_,
        INTERNAL_FORMAT_TO_TEXTURE_FORMATS: f_,
        FIELDS: b_,
        TYPES_TO_BYTES_PER_COMPONENT: m_,
        TYPES_TO_BYTES_PER_PIXEL: y_,
        ENDIANNESS: g_
    };
    function v_(a, e) {
        let t = new DataView(a);
        if (!A_(t))
            throw new Error("Invalid KTX identifier in header");
        let {littleEndian: i, glType: r, glFormat: s, glInternalFormat: o, pixelWidth: d, pixelHeight: h, numberOfMipmapLevels: l, offset: u} = w_(t)
          , p = Le.INTERNAL_FORMAT_TO_TEXTURE_FORMATS[o];
        if (!p)
            throw new Error(`Unknown texture format ${o}`);
        if (!e.includes(p))
            throw new Error(`Unsupported texture format: ${p}, supportedFormats: ${e}`);
        let y = S_(r, s, o)
          , _ = T_(t, r, y, d, h, u, l, i);
        return {
            format: p,
            width: d,
            height: h,
            resource: _,
            alphaMode: "no-premultiply-alpha"
        }
    }
    function T_(a, e, t, i, r, s, o, d) {
        let h = i + 3 & -4
          , l = r + 3 & -4
          , u = i * r;
        e === 0 && (u = h * l);
        let p = u * t
          , y = i
          , _ = r
          , v = h
          , T = l
          , A = s
          , P = new Array(o);
        for (let I = 0; I < o; I++) {
            let F = a.getUint32(A, d)
              , D = A + 4;
            P[I] = new Uint8Array(a.buffer,D,p),
            D += p,
            A += F + 4,
            A = A % 4 !== 0 ? A + 4 - A % 4 : A,
            y = y >> 1 || 1,
            _ = _ >> 1 || 1,
            v = y + 4 - 1 & -4,
            T = _ + 4 - 1 & -4,
            p = v * T * t
        }
        return P
    }
    function S_(a, e, t) {
        let i = Le.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t];
        if (a !== 0 && (Le.TYPES_TO_BYTES_PER_COMPONENT[a] ? i = Le.TYPES_TO_BYTES_PER_COMPONENT[a] * Le.FORMATS_TO_COMPONENTS[e] : i = Le.TYPES_TO_BYTES_PER_PIXEL[a]),
        i === void 0)
            throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");
        return i
    }
    function w_(a) {
        let e = a.getUint32(Le.FIELDS.ENDIANNESS, !0) === Le.ENDIANNESS
          , t = a.getUint32(Le.FIELDS.GL_TYPE, e)
          , i = a.getUint32(Le.FIELDS.GL_FORMAT, e)
          , r = a.getUint32(Le.FIELDS.GL_INTERNAL_FORMAT, e)
          , s = a.getUint32(Le.FIELDS.PIXEL_WIDTH, e)
          , o = a.getUint32(Le.FIELDS.PIXEL_HEIGHT, e) || 1
          , d = a.getUint32(Le.FIELDS.PIXEL_DEPTH, e) || 1
          , h = a.getUint32(Le.FIELDS.NUMBER_OF_ARRAY_ELEMENTS, e) || 1
          , l = a.getUint32(Le.FIELDS.NUMBER_OF_FACES, e)
          , u = a.getUint32(Le.FIELDS.NUMBER_OF_MIPMAP_LEVELS, e)
          , p = a.getUint32(Le.FIELDS.BYTES_OF_KEY_VALUE_DATA, e);
        if (o === 0 || d !== 1)
            throw new Error("Only 2D textures are supported");
        if (l !== 1)
            throw new Error("CubeTextures are not supported by KTXLoader yet!");
        if (h !== 1)
            throw new Error("WebGL does not support array textures");
        return {
            littleEndian: e,
            glType: t,
            glFormat: i,
            glInternalFormat: r,
            pixelWidth: s,
            pixelHeight: o,
            numberOfMipmapLevels: u,
            offset: Le.FILE_HEADER_SIZE + p
        }
    }
    function A_(a) {
        for (let e = 0; e < Le.FILE_IDENTIFIER.length; e++)
            if (a.getUint8(e) !== Le.FILE_IDENTIFIER[e])
                return !1;
        return !0
    }
    var dS = {
        extension: {
            type: B.LoadParser,
            priority: Rt.High,
            name: "loadKTX"
        },
        name: "loadKTX",
        test(a) {
            return zt(a, ".ktx")
        },
        async load(a, e, t) {
            let i = await Ho()
              , r = await (await fetch(a)).arrayBuffer()
              , s = v_(r, i)
              , o = new Oi(s);
            return Ja(o, t, a)
        },
        unload(a) {
            Array.isArray(a) ? a.forEach(e => e.destroy(!0)) : a.destroy(!0)
        }
    }
      , E_ = '(function(){"use strict";const s={rgb8unorm:{convertedFormat:"rgba8unorm",convertFunction:i},"rgb8unorm-srgb":{convertedFormat:"rgba8unorm-srgb",convertFunction:i}};function f(r){const t=r.format;if(s[t]){const n=s[t].convertFunction,o=r.resource;for(let e=0;e<o.length;e++)o[e]=n(o[e]);r.format=s[t].convertedFormat}}function i(r){const t=r.byteLength/3,n=new Uint32Array(t);for(let o=0;o<t;++o)n[o]=r[o*3]+(r[o*3+1]<<8)+(r[o*3+2]<<16)+4278190080;return new Uint8Array(n.buffer)}function d(r){const t=[];for(let n=0;n<r.numLevels;n++){const o=r.getImageData(n,0,0),e=new Uint8Array(o.byteLength);e.set(o),t.push(e)}return t}const w={6408:"rgba8unorm",32856:"bgra8unorm",32857:"rgb10a2unorm",33189:"depth16unorm",33190:"depth24plus",33321:"r8unorm",33323:"rg8unorm",33325:"r16float",33326:"r32float",33327:"rg16float",33328:"rg32float",33329:"r8sint",33330:"r8uint",33331:"r16sint",33332:"r16uint",33333:"r32sint",33334:"r32uint",33335:"rg8sint",33336:"rg8uint",33337:"rg16sint",33338:"rg16uint",33339:"rg32sint",33340:"rg32uint",33778:"bc2-rgba-unorm",33779:"bc3-rgba-unorm",34836:"rgba32float",34842:"rgba16float",35056:"depth24plus-stencil8",35898:"rg11b10ufloat",35901:"rgb9e5ufloat",35907:"rgba8unorm-srgb",36012:"depth32float",36013:"depth32float-stencil8",36168:"stencil8",36208:"rgba32uint",36214:"rgba16uint",36220:"rgba8uint",36226:"rgba32sint",36232:"rgba16sint",36238:"rgba8sint",36492:"bc7-rgba-unorm",36756:"r8snorm",36757:"rg8snorm",36759:"rgba8snorm",37496:"etc2-rgba8unorm",37808:"astc-4x4-unorm"};function p(r){const t=w[r];if(t)return t;throw new Error(`Unsupported glInternalFormat: ${r}`)}const h={23:"rgb8unorm",37:"rgba8unorm",43:"rgba8unorm-srgb"};function F(r){const t=h[r];if(t)return t;throw new Error(`Unsupported VkFormat: ${r}`)}function U(r){return r.classId===2?F(r.vkFormat):p(r.glInternalformat)}const T={"bc3-rgba-unorm":"BC3_RGBA","bc7-rgba-unorm":"BC7_M5_RGBA","etc2-rgba8unorm":"ETC2_RGBA","astc-4x4-unorm":"ASTC_4x4_RGBA",rgba8unorm:"RGBA32",rg11b10ufloat:"R11F_G11F_B10F"};function y(r){const t=T[r];if(t)return t;throw new Error(`Unsupported transcoderFormat: ${r}`)}const a={jsUrl:"",wasmUrl:""};let l,u,c;async function g(){if(!c){const r=new URL(a.jsUrl,location.origin).href,t=new URL(a.wasmUrl,location.origin).href;importScripts(r),c=new Promise(n=>{LIBKTX({locateFile:o=>t}).then(o=>{n(o)})})}return c}async function v(r,t){const n=await fetch(r);if(n.ok){const o=await n.arrayBuffer();return new t.ktxTexture(new Uint8Array(o))}throw new Error(`Failed to load KTX(2) texture: ${r}`)}const x=["bc7-rgba-unorm","astc-4x4-unorm","etc2-rgba8unorm","bc3-rgba-unorm","rgba8unorm"];async function B(r){const t=await g(),n=await v(r,t);let o;if(n.needsTranscoding){o=u;const R=t.TranscodeTarget[l];if(n.transcodeBasis(R,0)!==t.ErrorCode.SUCCESS)throw new Error("Unable to transcode basis texture.")}else o=U(n);const e=d(n),b={width:n.baseWidth,height:n.baseHeight,format:o,mipLevelCount:n.numLevels,resource:e,alphaMode:"no-premultiply-alpha"};return f(b),b}async function A(r,t,n){r&&(a.jsUrl=r),t&&(a.wasmUrl=t),u=x.filter(o=>n.includes(o))[0],l=y(u),await g()}const m={init:async r=>{const{jsUrl:t,wasmUrl:n,supportedTextures:o}=r;await A(t,n,o)},load:async r=>{var t;try{const n=await B(r.url);return{type:"load",url:r.url,success:!0,textureOptions:n,transferables:(t=n.resource)==null?void 0:t.map(o=>o.buffer)}}catch(n){throw n}}};self.onmessage=async r=>{var t;const n=r.data,o=await((t=m[n.type])==null?void 0:t.call(m,n));o&&self.postMessage(o,o.transferables)}})();\n'
      , wi = null
      , In = class {
        constructor() {
            wi || (wi = URL.createObjectURL(new Blob([E_],{
                type: "application/javascript"
            }))),
            this.worker = new Worker(wi)
        }
    }
    ;
    In.revokeObjectURL = function() {
        wi && (URL.revokeObjectURL(wi),
        wi = null)
    }
    ;
    var kb = {
        jsUrl: "https://files.pixijs.download/transcoders/ktx/libktx.js",
        wasmUrl: "https://files.pixijs.download/transcoders/ktx/libktx.wasm"
    };
    var fr, zp = {};
    function P_(a) {
        return fr || (fr = new In().worker,
        fr.onmessage = e => {
            let {success: t, url: i, textureOptions: r} = e.data;
            zp[i](r)
        }
        ,
        fr.postMessage({
            type: "init",
            jsUrl: kb.jsUrl,
            wasmUrl: kb.wasmUrl,
            supportedTextures: a
        })),
        fr
    }
    function R_(a, e) {
        let t = P_(e);
        return new Promise(i => {
            zp[a] = i,
            t.postMessage({
                type: "load",
                url: a
            })
        }
        )
    }
    var hS = {
        extension: {
            type: B.LoadParser,
            priority: Rt.High,
            name: "loadKTX2"
        },
        name: "loadKTX2",
        test(a) {
            return zt(a, ".ktx2")
        },
        async load(a, e, t) {
            let i = await Ho()
              , r = await R_(a, i)
              , s = new Oi(r);
            return Ja(s, t, a)
        },
        async unload(a) {
            Array.isArray(a) ? a.forEach(e => e.destroy(!0)) : a.destroy(!0)
        }
    };
    var Eh = ["basis", "bc7", "bc6h", "astc", "etc2", "bc5", "bc4", "bc3", "bc2", "bc1", "eac"], lS = {
        extension: B.ResolveParser,
        test: a => zt(a, [".ktx", ".ktx2", ".dds"]),
        parse: a => {
            var e, t;
            let i, r = a.split(".");
            if (r.length > 2) {
                let s = r[r.length - 2];
                Eh.includes(s) && (i = s)
            } else
                i = r[r.length - 1];
            return {
                resolution: parseFloat((t = (e = ha.RETINA_PREFIX.exec(a)) == null ? void 0 : e[1]) != null ? t : "1"),
                format: i,
                src: a
            }
        }
    }, Os, fS = {
        extension: {
            type: B.DetectionParser,
            priority: 2
        },
        test: async () => !!(await jo() || No()),
        add: async a => {
            let e = await Lp();
            return Os = M_(e),
            [...Os, ...a]
        }
        ,
        remove: async a => Os ? a.filter(e => !(e in Os)) : a
    };
    function M_(a) {
        let e = ["basis"]
          , t = {};
        return a.forEach(i => {
            let r = i.split("-")[0];
            r && !t[r] && (t[r] = !0,
            e.push(r))
        }
        ),
        e.sort( (i, r) => {
            let s = Eh.indexOf(i)
              , o = Eh.indexOf(r);
            return s === -1 ? 1 : o === -1 ? -1 : s - o
        }
        ),
        e
    }
    var C_ = new qe
      , Ph = class {
        cull(a, e, t=!0) {
            this._cullRecursive(a, e, t)
        }
        _cullRecursive(a, e, t=!0) {
            var i;
            if (a.cullable && a.measurable && a.includeInBuild) {
                let r = (i = a.cullArea) != null ? i : Bo(a, t, C_);
                a.culled = r.x >= e.x + e.width || r.y >= e.y + e.height || r.x + r.width <= e.x || r.y + r.height <= e.y
            } else
                a.culled = !1;
            if (!(!a.cullableChildren || a.culled || !a.renderable || !a.measurable || !a.includeInBuild))
                for (let r = 0; r < a.children.length; r++)
                    this._cullRecursive(a.children[r], e, t)
        }
    }
    ;
    Ph.shared = new Ph;
    var O_ = Ph
      , Rh = class {
        static init() {
            this._renderRef = this.render.bind(this),
            this.render = () => {
                O_.shared.cull(this.stage, this.renderer.screen),
                this.renderer.render({
                    container: this.stage
                })
            }
        }
        static destroy() {
            this.render = this._renderRef
        }
    }
    ;
    Rh.extension = {
        priority: 10,
        type: B.Application,
        name: "culler"
    };
    var uS = {
        extension: {
            type: B.Environment,
            name: "browser",
            priority: -1
        },
        test: () => !0,
        load: async () => {
            await Promise.resolve().then(function() {
                return Sg
            })
        }
    }
      , I_ = Object.defineProperty
      , Gn = Object.getOwnPropertySymbols
      , Vp = Object.prototype.hasOwnProperty
      , Wp = Object.prototype.propertyIsEnumerable
      , Ub = (a, e, t) => e in a ? I_(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , ud = (a, e) => {
        for (var t in e || (e = {}))
            Vp.call(e, t) && Ub(a, t, e[t]);
        if (Gn)
            for (var t of Gn(e))
                Wp.call(e, t) && Ub(a, t, e[t]);
        return a
    }
      , G_ = (a, e) => {
        var t = {};
        for (var i in a)
            Vp.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Gn)
            for (var i of Gn(a))
                e.indexOf(i) < 0 && Wp.call(a, i) && (t[i] = a[i]);
        return t
    }
      , Yp = class Mh extends ht {
        constructor(e) {
            e = ud(ud({}, Mh.defaultOptions), e),
            super(e),
            this.enabled = !0,
            this._state = Et.for2d(),
            this.blendMode = e.blendMode,
            this.padding = e.padding,
            typeof e.antialias == "boolean" ? this.antialias = e.antialias ? "on" : "off" : this.antialias = e.antialias,
            this.resolution = e.resolution,
            this.blendRequired = e.blendRequired,
            this.clipToViewport = e.clipToViewport,
            this.addResource("uTexture", 0, 1)
        }
        apply(e, t, i, r) {
            e.applyFilter(this, t, i, r)
        }
        get blendMode() {
            return this._state.blendMode
        }
        set blendMode(e) {
            this._state.blendMode = e
        }
        static from(e) {
            let t = e, {gpu: i, gl: r} = t, s = G_(t, ["gpu", "gl"]), o, d;
            return i && (o = Qt.from(i)),
            r && (d = ua.from(r)),
            new Mh(ud({
                gpuProgram: o,
                glProgram: d
            }, s))
        }
    }
    ;
    Yp.defaultOptions = {
        blendMode: "normal",
        resolution: 1,
        padding: 0,
        antialias: "off",
        blendRequired: !1,
        clipToViewport: !0
    };
    var Zr = Yp;
    var $p = `in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;

position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
gl_Position = filterVertexPosition();
vTextureCoord = filterTextureCoord();
}
`
      , B_ = `
in vec2 vTextureCoord;

out vec4 finalColor;

uniform float uAlpha;
uniform sampler2D uTexture;

void main()
{
finalColor =  texture(uTexture, vTextureCoord) * uAlpha;
}
`
      , Lb = `struct GlobalFilterUniforms {
uInputSize:vec4<f32>,
uInputPixel:vec4<f32>,
uInputClamp:vec4<f32>,
uOutputFrame:vec4<f32>,
uGlobalFrame:vec4<f32>,
uOutputTexture:vec4<f32>,
};

struct AlphaUniforms {
uAlpha:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> alphaUniforms : AlphaUniforms;

struct VSOutput {
@builtin(position) position: vec4<f32>,
@location(0) uv : vec2<f32>
};

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
return gfu.uGlobalFrame.zw;
}

@vertex
fn mainVertex(
@location(0) aPosition : vec2<f32>, 
) -> VSOutput {
return VSOutput(
filterVertexPosition(aPosition),
filterTextureCoord(aPosition)
);
}

@fragment
fn mainFragment(
@location(0) uv: vec2<f32>,
@builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

var sample = textureSample(uTexture, uSampler, uv);

return sample * alphaUniforms.uAlpha;
}`
      , F_ = Object.defineProperty
      , D_ = Object.defineProperties
      , k_ = Object.getOwnPropertyDescriptors
      , Bn = Object.getOwnPropertySymbols
      , Kp = Object.prototype.hasOwnProperty
      , qp = Object.prototype.propertyIsEnumerable
      , Nb = (a, e, t) => e in a ? F_(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , bd = (a, e) => {
        for (var t in e || (e = {}))
            Kp.call(e, t) && Nb(a, t, e[t]);
        if (Bn)
            for (var t of Bn(e))
                qp.call(e, t) && Nb(a, t, e[t]);
        return a
    }
      , U_ = (a, e) => D_(a, k_(e))
      , L_ = (a, e) => {
        var t = {};
        for (var i in a)
            Kp.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Bn)
            for (var i of Bn(a))
                e.indexOf(i) < 0 && qp.call(a, i) && (t[i] = a[i]);
        return t
    }
      , N_ = class Zp extends Zr {
        constructor(e) {
            e = bd(bd({}, Zp.defaultOptions), e);
            let t = Qt.from({
                vertex: {
                    source: Lb,
                    entryPoint: "mainVertex"
                },
                fragment: {
                    source: Lb,
                    entryPoint: "mainFragment"
                }
            })
              , i = ua.from({
                vertex: $p,
                fragment: B_,
                name: "alpha-filter"
            })
              , r = e
              , {alpha: s} = r
              , o = L_(r, ["alpha"])
              , d = new Je({
                uAlpha: {
                    value: s,
                    type: "f32"
                }
            });
            super(U_(bd({}, o), {
                gpuProgram: t,
                glProgram: i,
                resources: {
                    alphaUniforms: d
                }
            }))
        }
        get alpha() {
            return this.resources.alphaUniforms.uniforms.uAlpha
        }
        set alpha(e) {
            this.resources.alphaUniforms.uniforms.uAlpha = e
        }
    }
    ;
    N_.defaultOptions = {
        alpha: 1
    };
    var Qp = {
        5: [.153388, .221461, .250301],
        7: [.071303, .131514, .189879, .214607],
        9: [.028532, .067234, .124009, .179044, .20236],
        11: [.0093, .028002, .065984, .121703, .175713, .198596],
        13: [.002406, .009255, .027867, .065666, .121117, .174868, .197641],
        15: [489e-6, .002403, .009246, .02784, .065602, .120999, .174697, .197448]
    }
      , j_ = ["in vec2 vBlurTexCoords[%size%];", "uniform sampler2D uTexture;", "out vec4 finalColor;", "void main(void)", "{", "    finalColor = vec4(0.0);", "    %blur%", "}"].join(`
`);
    function X_(a) {
        let e = Qp[a], t = e.length, i = j_, r = "", s = "finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;", o;
        for (let d = 0; d < a; d++) {
            let h = s.replace("%index%", d.toString());
            o = d,
            d >= t && (o = a - d - 1),
            h = h.replace("%value%", e[o].toString()),
            r += h,
            r += `
`
        }
        return i = i.replace("%blur%", r),
        i = i.replace("%size%", a.toString()),
        i
    }
    var H_ = `
in vec2 aPosition;

uniform float uStrength;

out vec2 vBlurTexCoords[%size%];

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;

position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
gl_Position = filterVertexPosition();

float pixelStrength = uInputSize.%dimension% * uStrength;

vec2 textureCoord = filterTextureCoord();
%blur%
}`;
    function z_(a, e) {
        let t = Math.ceil(a / 2), i = H_, r = "", s;
        e ? s = "vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);" : s = "vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);";
        for (let o = 0; o < a; o++) {
            let d = s.replace("%index%", o.toString());
            d = d.replace("%sampleIndex%", `${o - (t - 1)}.0`),
            r += d,
            r += `
`
        }
        return i = i.replace("%blur%", r),
        i = i.replace("%size%", a.toString()),
        i = i.replace("%dimension%", e ? "z" : "w"),
        i
    }
    function V_(a, e) {
        let t = z_(e, a)
          , i = X_(e);
        return ua.from({
            vertex: t,
            fragment: i,
            name: `blur-${a ? "horizontal" : "vertical"}-pass-filter`
        })
    }
    var W_ = `

struct GlobalFilterUniforms {
uInputSize:vec4<f32>,
uInputPixel:vec4<f32>,
uInputClamp:vec4<f32>,
uOutputFrame:vec4<f32>,
uGlobalFrame:vec4<f32>,
uOutputTexture:vec4<f32>,
};

struct BlurUniforms {
uStrength:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;


struct VSOutput {
@builtin(position) position: vec4<f32>,
%blur-struct%
};

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
return gfu.uGlobalFrame.zw;
}


@vertex
fn mainVertex(
@location(0) aPosition : vec2<f32>, 
) -> VSOutput {

let filteredCord = filterTextureCoord(aPosition);

let pixelStrength = gfu.uInputSize.%dimension% * blurUniforms.uStrength;

return VSOutput(
filterVertexPosition(aPosition),
%blur-vertex-out%
);
}

@fragment
fn mainFragment(
@builtin(position) position: vec4<f32>,
%blur-fragment-in%
) -> @location(0) vec4<f32> {

var   finalColor = vec4(0.0);

%blur-sampling%

return finalColor;
}`;
    function Y_(a, e) {
        let t = Qp[e]
          , i = t.length
          , r = []
          , s = []
          , o = [];
        for (let p = 0; p < e; p++) {
            r[p] = `@location(${p}) offset${p}: vec2<f32>,`,
            a ? s[p] = `filteredCord + vec2(${p - i + 1} * pixelStrength, 0.0),` : s[p] = `filteredCord + vec2(0.0, ${p - i + 1} * pixelStrength),`;
            let y = p < i ? p : e - p - 1
              , _ = t[y].toString();
            o[p] = `finalColor += textureSample(uTexture, uSampler, offset${p}) * ${_};`
        }
        let d = r.join(`
`)
          , h = s.join(`
`)
          , l = o.join(`
`)
          , u = W_.replace("%blur-struct%", d).replace("%blur-vertex-out%", h).replace("%blur-fragment-in%", d).replace("%blur-sampling%", l).replace("%dimension%", a ? "z" : "w");
        return Qt.from({
            vertex: {
                source: u,
                entryPoint: "mainVertex"
            },
            fragment: {
                source: u,
                entryPoint: "mainFragment"
            }
        })
    }
    var $_ = Object.defineProperty
      , jb = Object.getOwnPropertySymbols
      , K_ = Object.prototype.hasOwnProperty
      , q_ = Object.prototype.propertyIsEnumerable
      , Xb = (a, e, t) => e in a ? $_(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , pd = (a, e) => {
        for (var t in e || (e = {}))
            K_.call(e, t) && Xb(a, t, e[t]);
        if (jb)
            for (var t of jb(e))
                q_.call(e, t) && Xb(a, t, e[t]);
        return a
    }
      , Jp = class e3 extends Zr {
        constructor(e) {
            e = pd(pd({}, e3.defaultOptions), e);
            let t = V_(e.horizontal, e.kernelSize)
              , i = Y_(e.horizontal, e.kernelSize);
            super(pd({
                glProgram: t,
                gpuProgram: i,
                resources: {
                    blurUniforms: {
                        uStrength: {
                            value: 0,
                            type: "f32"
                        }
                    }
                }
            }, e)),
            this.horizontal = e.horizontal,
            this._quality = 0,
            this.quality = e.quality,
            this.blur = e.strength,
            this._uniforms = this.resources.blurUniforms.uniforms
        }
        apply(e, t, i, r) {
            if (this._uniforms.uStrength = this.strength / this.passes,
            this.passes === 1)
                e.applyFilter(this, t, i, r);
            else {
                let s = ze.getSameSizeTexture(t)
                  , o = t
                  , d = s;
                this._state.blend = !1;
                let h = e.renderer.type === yt.WEBGPU;
                for (let l = 0; l < this.passes - 1; l++) {
                    e.applyFilter(this, o, d, l === 0 ? !0 : h);
                    let u = d;
                    d = o,
                    o = u
                }
                this._state.blend = !0,
                e.applyFilter(this, o, i, r),
                ze.returnTexture(s)
            }
        }
        get blur() {
            return this.strength
        }
        set blur(e) {
            this.padding = 1 + Math.abs(e) * 2,
            this.strength = e
        }
        get quality() {
            return this._quality
        }
        set quality(e) {
            this._quality = e,
            this.passes = e
        }
    }
    ;
    Jp.defaultOptions = {
        strength: 8,
        quality: 4,
        kernelSize: 5
    };
    var gd = Jp
      , Z_ = Object.defineProperty
      , Q_ = Object.defineProperties
      , J_ = Object.getOwnPropertyDescriptors
      , Fn = Object.getOwnPropertySymbols
      , t3 = Object.prototype.hasOwnProperty
      , a3 = Object.prototype.propertyIsEnumerable
      , Hb = (a, e, t) => e in a ? Z_(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , ur = (a, e) => {
        for (var t in e || (e = {}))
            t3.call(e, t) && Hb(a, t, e[t]);
        if (Fn)
            for (var t of Fn(e))
                a3.call(e, t) && Hb(a, t, e[t]);
        return a
    }
      , ey = (a, e) => Q_(a, J_(e))
      , ty = (a, e) => {
        var t = {};
        for (var i in a)
            t3.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Fn)
            for (var i of Fn(a))
                e.indexOf(i) < 0 && a3.call(a, i) && (t[i] = a[i]);
        return t
    }
      , Ch = class extends Zr {
        constructor(...e) {
            var t;
            let i = (t = e[0]) != null ? t : {};
            typeof i == "number" && (i = {
                strength: i
            },
            e[1] !== void 0 && (i.quality = e[1]),
            e[2] !== void 0 && (i.resolution = e[2] || "inherit"),
            e[3] !== void 0 && (i.kernelSize = e[3])),
            i = ur(ur({}, gd.defaultOptions), i);
            let r = i
              , {strength: s, strengthX: o, strengthY: d, quality: h} = r
              , l = ty(r, ["strength", "strengthX", "strengthY", "quality"]);
            super(ey(ur({}, l), {
                compatibleRenderers: yt.BOTH,
                resources: {}
            })),
            this._repeatEdgePixels = !1,
            this.blurXFilter = new gd(ur({
                horizontal: !0
            }, i)),
            this.blurYFilter = new gd(ur({
                horizontal: !1
            }, i)),
            this.quality = h,
            this.strengthX = o ?? s,
            this.strengthY = d ?? s,
            this.repeatEdgePixels = !1
        }
        apply(e, t, i, r) {
            let s = Math.abs(this.blurXFilter.strength)
              , o = Math.abs(this.blurYFilter.strength);
            if (s && o) {
                let d = ze.getSameSizeTexture(t);
                this.blurXFilter.blendMode = "normal",
                this.blurXFilter.apply(e, t, d, !0),
                this.blurYFilter.blendMode = this.blendMode,
                this.blurYFilter.apply(e, d, i, r),
                ze.returnTexture(d)
            } else
                o ? (this.blurYFilter.blendMode = this.blendMode,
                this.blurYFilter.apply(e, t, i, r)) : (this.blurXFilter.blendMode = this.blendMode,
                this.blurXFilter.apply(e, t, i, r))
        }
        updatePadding() {
            this._repeatEdgePixels ? this.padding = 0 : this.padding = Math.max(Math.abs(this.blurXFilter.blur), Math.abs(this.blurYFilter.blur)) * 2
        }
        get strength() {
            if (this.strengthX !== this.strengthY)
                throw new Error("BlurFilter's strengthX and strengthY are different");
            return this.strengthX
        }
        set strength(e) {
            this.blurXFilter.blur = this.blurYFilter.blur = e,
            this.updatePadding()
        }
        get quality() {
            return this.blurXFilter.quality
        }
        set quality(e) {
            this.blurXFilter.quality = this.blurYFilter.quality = e
        }
        get strengthX() {
            return this.blurXFilter.blur
        }
        set strengthX(e) {
            this.blurXFilter.blur = e,
            this.updatePadding()
        }
        get strengthY() {
            return this.blurYFilter.blur
        }
        set strengthY(e) {
            this.blurYFilter.blur = e,
            this.updatePadding()
        }
        get blur() {
            return this.strength
        }
        set blur(e) {
            this.strength = e
        }
        get blurX() {
            return this.strengthX
        }
        set blurX(e) {
            this.strengthX = e
        }
        get blurY() {
            return this.strengthY
        }
        set blurY(e) {
            this.strengthY = e
        }
        get repeatEdgePixels() {
            return this._repeatEdgePixels
        }
        set repeatEdgePixels(e) {
            this._repeatEdgePixels = e,
            this.updatePadding()
        }
    }
    ;
    Ch.defaultOptions = {
        strength: 8,
        quality: 4,
        kernelSize: 5
    };
    var ay = `
in vec2 vTextureCoord;
in vec4 vColor;

out vec4 finalColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uTexture;

float rand(vec2 co)
{
return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
vec4 color = texture(uTexture, vTextureCoord);
float randomValue = rand(gl_FragCoord.xy * uSeed);
float diff = (randomValue - 0.5) *  uNoise;

// Un-premultiply alpha before applying the color matrix. See issue #3539.
if (color.a > 0.0) {
color.rgb /= color.a;
}

color.r += diff;
color.g += diff;
color.b += diff;

// Premultiply alpha again.
color.rgb *= color.a;

finalColor = color;
}
`
      , zb = `

struct GlobalFilterUniforms {
uInputSize:vec4<f32>,
uInputPixel:vec4<f32>,
uInputClamp:vec4<f32>,
uOutputFrame:vec4<f32>,
uGlobalFrame:vec4<f32>,
uOutputTexture:vec4<f32>,
};

struct NoiseUniforms {
uNoise:f32,
uSeed:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> noiseUniforms : NoiseUniforms;

struct VSOutput {
@builtin(position) position: vec4<f32>,
@location(0) uv : vec2<f32>
};

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
return gfu.uGlobalFrame.zw;
}

@vertex
fn mainVertex(
@location(0) aPosition : vec2<f32>, 
) -> VSOutput {
return VSOutput(
filterVertexPosition(aPosition),
filterTextureCoord(aPosition)
);
}

fn rand(co:vec2<f32>) -> f32
{
return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}



@fragment
fn mainFragment(
@location(0) uv: vec2<f32>,
@builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

var pixelPosition =  globalTextureCoord(position.xy);// / (getSize());//-  gfu.uOutputFrame.xy);


var sample = textureSample(uTexture, uSampler, uv);
var randomValue =  rand(pixelPosition.xy * noiseUniforms.uSeed);
var diff = (randomValue - 0.5) * noiseUniforms.uNoise;

// Un-premultiply alpha before applying the color matrix. See issue #3539.
if (sample.a > 0.0) {
sample.r /= sample.a;
sample.g /= sample.a;
sample.b /= sample.a;
}

sample.r += diff;
sample.g += diff;
sample.b += diff;

// Premultiply alpha again.
sample.r *= sample.a;
sample.g *= sample.a;
sample.b *= sample.a;

return sample;
}`
      , iy = Object.defineProperty
      , ry = Object.defineProperties
      , sy = Object.getOwnPropertyDescriptors
      , Dn = Object.getOwnPropertySymbols
      , i3 = Object.prototype.hasOwnProperty
      , r3 = Object.prototype.propertyIsEnumerable
      , Vb = (a, e, t) => e in a ? iy(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , md = (a, e) => {
        for (var t in e || (e = {}))
            i3.call(e, t) && Vb(a, t, e[t]);
        if (Dn)
            for (var t of Dn(e))
                r3.call(e, t) && Vb(a, t, e[t]);
        return a
    }
      , ny = (a, e) => ry(a, sy(e))
      , oy = (a, e) => {
        var t = {};
        for (var i in a)
            i3.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Dn)
            for (var i of Dn(a))
                e.indexOf(i) < 0 && r3.call(a, i) && (t[i] = a[i]);
        return t
    }
      , cy = class s3 extends Zr {
        constructor(e={}) {
            e = md(md({}, s3.defaultOptions), e);
            let t = Qt.from({
                vertex: {
                    source: zb,
                    entryPoint: "mainVertex"
                },
                fragment: {
                    source: zb,
                    entryPoint: "mainFragment"
                }
            })
              , i = ua.from({
                vertex: $p,
                fragment: ay,
                name: "noise-filter"
            })
              , r = e
              , {noise: s, seed: o} = r
              , d = oy(r, ["noise", "seed"]);
            super(ny(md({}, d), {
                gpuProgram: t,
                glProgram: i,
                resources: {
                    noiseUniforms: new Je({
                        uNoise: {
                            value: 1,
                            type: "f32"
                        },
                        uSeed: {
                            value: 1,
                            type: "f32"
                        }
                    })
                }
            })),
            this.noise = s,
            this.seed = o ?? Math.random()
        }
        get noise() {
            return this.resources.noiseUniforms.uniforms.uNoise
        }
        set noise(e) {
            this.resources.noiseUniforms.uniforms.uNoise = e
        }
        get seed() {
            return this.resources.noiseUniforms.uniforms.uSeed
        }
        set seed(e) {
            this.resources.noiseUniforms.uniforms.uSeed = e
        }
    }
    ;
    cy.defaultOptions = {
        noise: .5
    };
    var dy = `in vec2 vMaskCoord;
in vec2 vTextureCoord;

uniform sampler2D uTexture;
uniform sampler2D uMaskTexture;

uniform float uAlpha;
uniform vec4 uMaskClamp;
uniform float uInverse;

out vec4 finalColor;

void main(void)
{
float clip = step(3.5,
step(uMaskClamp.x, vMaskCoord.x) +
step(uMaskClamp.y, vMaskCoord.y) +
step(vMaskCoord.x, uMaskClamp.z) +
step(vMaskCoord.y, uMaskClamp.w));

// TODO look into why this is needed
float npmAlpha = uAlpha;
vec4 original = texture(uTexture, vTextureCoord);
vec4 masky = texture(uMaskTexture, vMaskCoord);
float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

float a = alphaMul * masky.r * npmAlpha * clip;

if (uInverse == 1.0) {
a = 1.0 - a;
}

finalColor = original * a;
}
`
      , hy = `in vec2 aPosition;

out vec2 vTextureCoord;
out vec2 vMaskCoord;


uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;
uniform mat3 uFilterMatrix;

vec4 filterVertexPosition(  vec2 aPosition )
{
vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;

position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord(  vec2 aPosition )
{
return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

vec2 getFilterCoord( vec2 aPosition )
{
return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}   

void main(void)
{
gl_Position = filterVertexPosition(aPosition);
vTextureCoord = filterTextureCoord(aPosition);
vMaskCoord = getFilterCoord(aPosition);
}
`
      , Wb = `struct GlobalFilterUniforms {
uInputSize:vec4<f32>,
uInputPixel:vec4<f32>,
uInputClamp:vec4<f32>,
uOutputFrame:vec4<f32>,
uGlobalFrame:vec4<f32>,
uOutputTexture:vec4<f32>,
};

struct MaskUniforms {
uFilterMatrix:mat3x3<f32>,
uMaskClamp:vec4<f32>,
uAlpha:f32,
uInverse:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;
@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;

struct VSOutput {
@builtin(position) position: vec4<f32>,
@location(0) uv : vec2<f32>,
@location(1) filterUv : vec2<f32>,
};

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);
}

fn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>
{
return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;
}

fn getSize() -> vec2<f32>
{
return gfu.uGlobalFrame.zw;
}

@vertex
fn mainVertex(
@location(0) aPosition : vec2<f32>,
) -> VSOutput {
return VSOutput(
filterVertexPosition(aPosition),
filterTextureCoord(aPosition),
getFilterCoord(aPosition)
);
}

@fragment
fn mainFragment(
@location(0) uv: vec2<f32>,
@location(1) filterUv: vec2<f32>,
@builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {

var maskClamp = filterUniforms.uMaskClamp;
var uAlpha = filterUniforms.uAlpha;

var clip = step(3.5,
step(maskClamp.x, filterUv.x) +
step(maskClamp.y, filterUv.y) +
step(filterUv.x, maskClamp.z) +
step(filterUv.y, maskClamp.w));

var mask = textureSample(uMaskTexture, uSampler, filterUv);
var source = textureSample(uTexture, uSampler, uv);
var alphaMul = 1.0 - uAlpha * (1.0 - mask.a);

var a: f32 = alphaMul * mask.r * uAlpha * clip;

if (filterUniforms.uInverse == 1.0) {
a = 1.0 - a;
}

return source * a;
}
`
      , ly = Object.defineProperty
      , fy = Object.defineProperties
      , uy = Object.getOwnPropertyDescriptors
      , kn = Object.getOwnPropertySymbols
      , n3 = Object.prototype.hasOwnProperty
      , o3 = Object.prototype.propertyIsEnumerable
      , Yb = (a, e, t) => e in a ? ly(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , by = (a, e) => {
        for (var t in e || (e = {}))
            n3.call(e, t) && Yb(a, t, e[t]);
        if (kn)
            for (var t of kn(e))
                o3.call(e, t) && Yb(a, t, e[t]);
        return a
    }
      , py = (a, e) => fy(a, uy(e))
      , gy = (a, e) => {
        var t = {};
        for (var i in a)
            n3.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && kn)
            for (var i of kn(a))
                e.indexOf(i) < 0 && o3.call(a, i) && (t[i] = a[i]);
        return t
    }
      , Oh = class extends Zr {
        constructor(e) {
            let t = e
              , {sprite: i} = t
              , r = gy(t, ["sprite"])
              , s = new Vs(i.texture)
              , o = new Je({
                uFilterMatrix: {
                    value: new ie,
                    type: "mat3x3<f32>"
                },
                uMaskClamp: {
                    value: s.uClampFrame,
                    type: "vec4<f32>"
                },
                uAlpha: {
                    value: 1,
                    type: "f32"
                },
                uInverse: {
                    value: e.inverse ? 1 : 0,
                    type: "f32"
                }
            })
              , d = Qt.from({
                vertex: {
                    source: Wb,
                    entryPoint: "mainVertex"
                },
                fragment: {
                    source: Wb,
                    entryPoint: "mainFragment"
                }
            })
              , h = ua.from({
                vertex: hy,
                fragment: dy,
                name: "mask-filter"
            });
            super(py(by({}, r), {
                gpuProgram: d,
                glProgram: h,
                resources: {
                    filterUniforms: o,
                    uMaskTexture: i.texture.source
                }
            })),
            this.sprite = i,
            this._textureMatrix = s
        }
        set inverse(e) {
            this.resources.filterUniforms.uniforms.uInverse = e ? 1 : 0
        }
        get inverse() {
            return this.resources.filterUniforms.uniforms.uInverse === 1
        }
        apply(e, t, i, r) {
            this._textureMatrix.texture = this.sprite.texture,
            e.calculateSpriteMatrix(this.resources.filterUniforms.uniforms.uFilterMatrix, this.sprite).prepend(this._textureMatrix.mapCoord),
            this.resources.uMaskTexture = this.sprite.texture.source,
            e.applyFilter(this, t, i, r)
        }
    }
    ;
    function $b(a, e, t, i, r, s, o, d) {
        let h = o - t
          , l = d - i
          , u = r - t
          , p = s - i
          , y = a - t
          , _ = e - i
          , v = h * h + l * l
          , T = h * u + l * p
          , A = h * y + l * _
          , P = u * u + p * p
          , I = u * y + p * _
          , F = 1 / (v * P - T * T)
          , D = (P * A - T * I) * F
          , H = (v * I - T * A) * F;
        return D >= 0 && H >= 0 && D + H < 1
    }
    var c3 = class d3 {
        constructor(e) {
            this._tick = () => {
                this.timeout = setTimeout(this._processQueue, 0)
            }
            ,
            this._processQueue = () => {
                let {queue: t} = this
                  , i = 0;
                for (; t.length && i < d3.uploadsPerFrame; ) {
                    let r = t.shift();
                    this.uploadQueueItem(r),
                    i++
                }
                t.length ? tt.system.addOnce(this._tick, this, Ma.UTILITY) : this._resolve()
            }
            ,
            this.renderer = e,
            this.queue = [],
            this.resolves = []
        }
        getQueue() {
            return [...this.queue]
        }
        add(e) {
            let t = Array.isArray(e) ? e : [e];
            for (let i of t)
                i instanceof le ? this._addContainer(i) : this.resolveQueueItem(i, this.queue);
            return this
        }
        _addContainer(e) {
            this.resolveQueueItem(e, this.queue);
            for (let t of e.children)
                this._addContainer(t)
        }
        upload(e) {
            return e && this.add(e),
            new Promise(t => {
                this.queue.length ? (this.resolves.push(t),
                this.dedupeQueue(),
                tt.system.addOnce(this._tick, this, Ma.UTILITY)) : t()
            }
            )
        }
        dedupeQueue() {
            let e = Object.create(null)
              , t = 0;
            for (let i = 0; i < this.queue.length; i++) {
                let r = this.queue[i];
                e[r.uid] || (e[r.uid] = !0,
                this.queue[t++] = r)
            }
            this.queue.length = t
        }
        _resolve() {
            let {resolves: e} = this
              , t = e.slice(0);
            e.length = 0;
            for (let i of t)
                i()
        }
    }
    ;
    c3.uploadsPerFrame = 4;
    var my = c3
      , _y = Object.defineProperty
      , Un = Object.getOwnPropertySymbols
      , h3 = Object.prototype.hasOwnProperty
      , l3 = Object.prototype.propertyIsEnumerable
      , Kb = (a, e, t) => e in a ? _y(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , yy = (a, e) => {
        for (var t in e || (e = {}))
            h3.call(e, t) && Kb(a, t, e[t]);
        if (Un)
            for (var t of Un(e))
                l3.call(e, t) && Kb(a, t, e[t]);
        return a
    }
      , xy = (a, e) => {
        var t = {};
        for (var i in a)
            h3.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Un)
            for (var i of Un(a))
                e.indexOf(i) < 0 && l3.call(a, i) && (t[i] = a[i]);
        return t
    }
      , Za = class extends la {
        constructor(...e) {
            var t;
            let i = e[0];
            i instanceof Zt && (i = {
                geometry: i,
                shader: e[1]
            },
            e[3] && (i.geometry.topology = e[3]));
            let r = i
              , {geometry: s, shader: o, texture: d, roundPixels: h, state: l} = r
              , u = xy(r, ["geometry", "shader", "texture", "roundPixels", "state"]);
            super(yy({
                label: "Mesh"
            }, u)),
            this.renderPipeId = "mesh",
            this._shader = null,
            this.allowChildren = !1,
            this.shader = o ?? null,
            this.texture = (t = d ?? o?.texture) != null ? t : K.WHITE,
            this.state = l ?? Et.for2d(),
            this._geometry = s,
            this._geometry.on("update", this.onViewUpdate, this),
            this.roundPixels = h ?? !1
        }
        get material() {
            return this._shader
        }
        set shader(e) {
            this._shader !== e && (this._shader = e,
            this.onViewUpdate())
        }
        get shader() {
            return this._shader
        }
        set geometry(e) {
            var t;
            this._geometry !== e && ((t = this._geometry) == null || t.off("update", this.onViewUpdate, this),
            e.on("update", this.onViewUpdate, this),
            this._geometry = e,
            this.onViewUpdate())
        }
        get geometry() {
            return this._geometry
        }
        set texture(e) {
            e || (e = K.EMPTY);
            let t = this._texture;
            t !== e && (t && t.dynamic && t.off("update", this.onViewUpdate, this),
            e.dynamic && e.on("update", this.onViewUpdate, this),
            this.shader && (this.shader.texture = e),
            this._texture = e,
            this.onViewUpdate())
        }
        get texture() {
            return this._texture
        }
        get batched() {
            return this._shader || this.state.data & 12 ? !1 : this._geometry instanceof qr ? this._geometry.batchMode === "auto" ? this._geometry.positions.length / 2 <= 100 : this._geometry.batchMode === "batch" : !1
        }
        get bounds() {
            return this._geometry.bounds
        }
        updateBounds() {
            this._bounds = this._geometry.bounds
        }
        containsPoint(e) {
            let {x: t, y: i} = e;
            if (!this.bounds.containsPoint(t, i))
                return !1;
            let r = this.geometry.getBuffer("aPosition").data
              , s = this.geometry.topology === "triangle-strip" ? 3 : 1;
            if (this.geometry.getIndex()) {
                let o = this.geometry.getIndex().data
                  , d = o.length;
                for (let h = 0; h + 2 < d; h += s) {
                    let l = o[h] * 2
                      , u = o[h + 1] * 2
                      , p = o[h + 2] * 2;
                    if ($b(t, i, r[l], r[l + 1], r[u], r[u + 1], r[p], r[p + 1]))
                        return !0
                }
            } else {
                let o = r.length / 2;
                for (let d = 0; d + 2 < o; d += s) {
                    let h = d * 2
                      , l = (d + 1) * 2
                      , u = (d + 2) * 2;
                    if ($b(t, i, r[h], r[h + 1], r[l], r[l + 1], r[u], r[u + 1]))
                        return !0
                }
            }
            return !1
        }
        destroy(e) {
            var t;
            if (super.destroy(e),
            typeof e == "boolean" ? e : e?.texture) {
                let i = typeof e == "boolean" ? e : e?.textureSource;
                this._texture.destroy(i)
            }
            (t = this._geometry) == null || t.off("update", this.onViewUpdate, this),
            this._texture = null,
            this._geometry = null,
            this._shader = null
        }
    }
      , vy = Object.defineProperty
      , Ty = Object.defineProperties
      , Sy = Object.getOwnPropertyDescriptors
      , Ln = Object.getOwnPropertySymbols
      , f3 = Object.prototype.hasOwnProperty
      , u3 = Object.prototype.propertyIsEnumerable
      , qb = (a, e, t) => e in a ? vy(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , wy = (a, e) => {
        for (var t in e || (e = {}))
            f3.call(e, t) && qb(a, t, e[t]);
        if (Ln)
            for (var t of Ln(e))
                u3.call(e, t) && qb(a, t, e[t]);
        return a
    }
      , Ay = (a, e) => Ty(a, Sy(e))
      , Ey = (a, e) => {
        var t = {};
        for (var i in a)
            f3.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Ln)
            for (var i of Ln(a))
                e.indexOf(i) < 0 && u3.call(a, i) && (t[i] = a[i]);
        return t
    }
      , Ih = class a extends we {
        constructor(...e) {
            let t = e[0];
            Array.isArray(e[0]) && (t = {
                textures: e[0],
                autoUpdate: e[1]
            });
            let i = t
              , {textures: r, autoUpdate: s} = i
              , o = Ey(i, ["textures", "autoUpdate"])
              , [d] = r;
            super(Ay(wy({}, o), {
                texture: d instanceof K ? d : d.texture
            })),
            this._textures = null,
            this._durations = null,
            this._autoUpdate = s ?? !0,
            this._isConnectedToTicker = !1,
            this.animationSpeed = 1,
            this.loop = !0,
            this.updateAnchor = !1,
            this.onComplete = null,
            this.onFrameChange = null,
            this.onLoop = null,
            this._currentTime = 0,
            this._playing = !1,
            this._previousFrame = null,
            this.textures = r
        }
        stop() {
            this._playing && (this._playing = !1,
            this._autoUpdate && this._isConnectedToTicker && (tt.shared.remove(this.update, this),
            this._isConnectedToTicker = !1))
        }
        play() {
            this._playing || (this._playing = !0,
            this._autoUpdate && !this._isConnectedToTicker && (tt.shared.add(this.update, this, Ma.HIGH),
            this._isConnectedToTicker = !0))
        }
        gotoAndStop(e) {
            this.stop(),
            this.currentFrame = e
        }
        gotoAndPlay(e) {
            this.currentFrame = e,
            this.play()
        }
        update(e) {
            if (!this._playing)
                return;
            let t = e.deltaTime
              , i = this.animationSpeed * t
              , r = this.currentFrame;
            if (this._durations !== null) {
                let s = this._currentTime % 1 * this._durations[this.currentFrame];
                for (s += i / 60 * 1e3; s < 0; )
                    this._currentTime--,
                    s += this._durations[this.currentFrame];
                let o = Math.sign(this.animationSpeed * t);
                for (this._currentTime = Math.floor(this._currentTime); s >= this._durations[this.currentFrame]; )
                    s -= this._durations[this.currentFrame] * o,
                    this._currentTime += o;
                this._currentTime += s / this._durations[this.currentFrame]
            } else
                this._currentTime += i;
            this._currentTime < 0 && !this.loop ? (this.gotoAndStop(0),
            this.onComplete && this.onComplete()) : this._currentTime >= this._textures.length && !this.loop ? (this.gotoAndStop(this._textures.length - 1),
            this.onComplete && this.onComplete()) : r !== this.currentFrame && (this.loop && this.onLoop && (this.animationSpeed > 0 && this.currentFrame < r || this.animationSpeed < 0 && this.currentFrame > r) && this.onLoop(),
            this._updateTexture())
        }
        _updateTexture() {
            let e = this.currentFrame;
            this._previousFrame !== e && (this._previousFrame = e,
            this.texture = this._textures[e],
            this.updateAnchor && this.anchor.copyFrom(this.texture.defaultAnchor),
            this.onFrameChange && this.onFrameChange(this.currentFrame))
        }
        destroy() {
            this.stop(),
            super.destroy(),
            this.onComplete = null,
            this.onFrameChange = null,
            this.onLoop = null
        }
        static fromFrames(e) {
            let t = [];
            for (let i = 0; i < e.length; ++i)
                t.push(K.from(e[i]));
            return new a(t)
        }
        static fromImages(e) {
            let t = [];
            for (let i = 0; i < e.length; ++i)
                t.push(K.from(e[i]));
            return new a(t)
        }
        get totalFrames() {
            return this._textures.length
        }
        get textures() {
            return this._textures
        }
        set textures(e) {
            if (e[0]instanceof K)
                this._textures = e,
                this._durations = null;
            else {
                this._textures = [],
                this._durations = [];
                for (let t = 0; t < e.length; t++)
                    this._textures.push(e[t].texture),
                    this._durations.push(e[t].time)
            }
            this._previousFrame = null,
            this.gotoAndStop(0),
            this._updateTexture()
        }
        get currentFrame() {
            let e = Math.floor(this._currentTime) % this._textures.length;
            return e < 0 && (e += this._textures.length),
            e
        }
        set currentFrame(e) {
            if (e < 0 || e > this.totalFrames - 1)
                throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);
            let t = this.currentFrame;
            this._currentTime = e,
            t !== this.currentFrame && this._updateTexture()
        }
        get playing() {
            return this._playing
        }
        get autoUpdate() {
            return this._autoUpdate
        }
        set autoUpdate(e) {
            e !== this._autoUpdate && (this._autoUpdate = e,
            !this._autoUpdate && this._isConnectedToTicker ? (tt.shared.remove(this.update, this),
            this._isConnectedToTicker = !1) : this._autoUpdate && !this._isConnectedToTicker && this._playing && (tt.shared.add(this.update, this),
            this._isConnectedToTicker = !0))
        }
    }
      , Gh = class {
        constructor({matrix: e, observer: t}={}) {
            this.dirty = !0,
            this._matrix = e ?? new ie,
            this.observer = t,
            this.position = new Ve(this,0,0),
            this.scale = new Ve(this,1,1),
            this.pivot = new Ve(this,0,0),
            this.skew = new Ve(this,0,0),
            this._rotation = 0,
            this._cx = 1,
            this._sx = 0,
            this._cy = 0,
            this._sy = 1
        }
        get matrix() {
            let e = this._matrix;
            return this.dirty && (e.a = this._cx * this.scale.x,
            e.b = this._sx * this.scale.x,
            e.c = this._cy * this.scale.y,
            e.d = this._sy * this.scale.y,
            e.tx = this.position.x - (this.pivot.x * e.a + this.pivot.y * e.c),
            e.ty = this.position.y - (this.pivot.x * e.b + this.pivot.y * e.d),
            this.dirty = !1),
            e
        }
        _onUpdate(e) {
            var t;
            this.dirty = !0,
            e === this.skew && this.updateSkew(),
            (t = this.observer) == null || t._onUpdate(this)
        }
        updateSkew() {
            this._cx = Math.cos(this._rotation + this.skew.y),
            this._sx = Math.sin(this._rotation + this.skew.y),
            this._cy = -Math.sin(this._rotation - this.skew.x),
            this._sy = Math.cos(this._rotation - this.skew.x),
            this.dirty = !0
        }
        setFromMatrix(e) {
            e.decompose(this),
            this.dirty = !0
        }
        get rotation() {
            return this._rotation
        }
        set rotation(e) {
            this._rotation !== e && (this._rotation = e,
            this._onUpdate(this.skew))
        }
    }
      , Py = Object.defineProperty
      , Nn = Object.getOwnPropertySymbols
      , b3 = Object.prototype.hasOwnProperty
      , p3 = Object.prototype.propertyIsEnumerable
      , Zb = (a, e, t) => e in a ? Py(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , br = (a, e) => {
        for (var t in e || (e = {}))
            b3.call(e, t) && Zb(a, t, e[t]);
        if (Nn)
            for (var t of Nn(e))
                p3.call(e, t) && Zb(a, t, e[t]);
        return a
    }
      , Ry = (a, e) => {
        var t = {};
        for (var i in a)
            b3.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Nn)
            for (var i of Nn(a))
                e.indexOf(i) < 0 && p3.call(a, i) && (t[i] = a[i]);
        return t
    }
      , g3 = class Ns extends la {
        constructor(...e) {
            let t = e[0] || {};
            t instanceof K && (t = {
                texture: t
            }),
            e.length > 1 && (t.width = e[1],
            t.height = e[2]),
            t = br(br({}, Ns.defaultOptions), t);
            let i = t ?? {}
              , {texture: r, anchor: s, tilePosition: o, tileScale: d, tileRotation: h, width: l, height: u, applyAnchorToTexture: p, roundPixels: y} = i
              , _ = Ry(i, ["texture", "anchor", "tilePosition", "tileScale", "tileRotation", "width", "height", "applyAnchorToTexture", "roundPixels"]);
            super(br({
                label: "TilingSprite"
            }, _)),
            this.renderPipeId = "tilingSprite",
            this.batched = !0,
            this.allowChildren = !1,
            this._anchor = new Ve({
                _onUpdate: () => {
                    this.onViewUpdate()
                }
            }),
            this.applyAnchorToTexture = p,
            this.texture = r,
            this._width = l ?? r.width,
            this._height = u ?? r.height,
            this._tileTransform = new Gh({
                observer: {
                    _onUpdate: () => this.onViewUpdate()
                }
            }),
            s && (this.anchor = s),
            this.tilePosition = o,
            this.tileScale = d,
            this.tileRotation = h,
            this.roundPixels = y ?? !1
        }
        static from(e, t={}) {
            return typeof e == "string" ? new Ns(br({
                texture: Oe.get(e)
            }, t)) : new Ns(br({
                texture: e
            }, t))
        }
        get uvRespectAnchor() {
            return Jt("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),
            this.applyAnchorToTexture
        }
        set uvRespectAnchor(e) {
            Jt("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),
            this.applyAnchorToTexture = e
        }
        get clampMargin() {
            return this._texture.textureMatrix.clampMargin
        }
        set clampMargin(e) {
            this._texture.textureMatrix.clampMargin = e
        }
        get anchor() {
            return this._anchor
        }
        set anchor(e) {
            typeof e == "number" ? this._anchor.set(e) : this._anchor.copyFrom(e)
        }
        get tilePosition() {
            return this._tileTransform.position
        }
        set tilePosition(e) {
            this._tileTransform.position.copyFrom(e)
        }
        get tileScale() {
            return this._tileTransform.scale
        }
        set tileScale(e) {
            typeof e == "number" ? this._tileTransform.scale.set(e) : this._tileTransform.scale.copyFrom(e)
        }
        set tileRotation(e) {
            this._tileTransform.rotation = e
        }
        get tileRotation() {
            return this._tileTransform.rotation
        }
        get tileTransform() {
            return this._tileTransform
        }
        set texture(e) {
            e || (e = K.EMPTY);
            let t = this._texture;
            t !== e && (t && t.dynamic && t.off("update", this.onViewUpdate, this),
            e.dynamic && e.on("update", this.onViewUpdate, this),
            this._texture = e,
            this.onViewUpdate())
        }
        get texture() {
            return this._texture
        }
        set width(e) {
            this._width = e,
            this.onViewUpdate()
        }
        get width() {
            return this._width
        }
        set height(e) {
            this._height = e,
            this.onViewUpdate()
        }
        get height() {
            return this._height
        }
        setSize(e, t) {
            var i;
            typeof e == "object" && (t = (i = e.height) != null ? i : e.width,
            e = e.width),
            this._width = e,
            this._height = t ?? e,
            this.onViewUpdate()
        }
        getSize(e) {
            return e || (e = {}),
            e.width = this._width,
            e.height = this._height,
            e
        }
        updateBounds() {
            let e = this._bounds
              , t = this._anchor
              , i = this._width
              , r = this._height;
            e.maxX = -t._x * i,
            e.minX = e.maxX + i,
            e.maxY = -t._y * r,
            e.minY = e.maxY + r
        }
        containsPoint(e) {
            let t = this._width
              , i = this._height
              , r = -t * this._anchor._x
              , s = 0;
            return e.x >= r && e.x <= r + t && (s = -i * this._anchor._y,
            e.y >= s && e.y <= s + i)
        }
        destroy(e=!1) {
            if (super.destroy(e),
            this._anchor = null,
            this._tileTransform = null,
            this._bounds = null,
            typeof e == "boolean" ? e : e?.texture) {
                let t = typeof e == "boolean" ? e : e?.textureSource;
                this._texture.destroy(t)
            }
            this._texture = null
        }
    }
    ;
    g3.defaultOptions = {
        texture: K.EMPTY,
        anchor: {
            x: 0,
            y: 0
        },
        tilePosition: {
            x: 0,
            y: 0
        },
        tileScale: {
            x: 1,
            y: 1
        },
        tileRotation: 0,
        applyAnchorToTexture: !1
    };
    var My = g3
      , Cy = Object.defineProperty
      , jn = Object.getOwnPropertySymbols
      , m3 = Object.prototype.hasOwnProperty
      , _3 = Object.prototype.propertyIsEnumerable
      , Qb = (a, e, t) => e in a ? Cy(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Oy = (a, e) => {
        for (var t in e || (e = {}))
            m3.call(e, t) && Qb(a, t, e[t]);
        if (jn)
            for (var t of jn(e))
                _3.call(e, t) && Qb(a, t, e[t]);
        return a
    }
      , Iy = (a, e) => {
        var t = {};
        for (var i in a)
            m3.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && jn)
            for (var i of jn(a))
                e.indexOf(i) < 0 && _3.call(a, i) && (t[i] = a[i]);
        return t
    }
      , jr = class extends la {
        constructor(e, t) {
            let i = e
              , {text: r, resolution: s, style: o, anchor: d, width: h, height: l, roundPixels: u} = i
              , p = Iy(i, ["text", "resolution", "style", "anchor", "width", "height", "roundPixels"]);
            super(Oy({}, p)),
            this.batched = !0,
            this._resolution = null,
            this._autoResolution = !0,
            this._didTextUpdate = !0,
            this._styleClass = t,
            this.text = r ?? "",
            this.style = o,
            this.resolution = s ?? null,
            this.allowChildren = !1,
            this._anchor = new Ve({
                _onUpdate: () => {
                    this.onViewUpdate()
                }
            }),
            d && (this.anchor = d),
            this.roundPixels = u ?? !1,
            h !== void 0 && (this.width = h),
            l !== void 0 && (this.height = l)
        }
        get anchor() {
            return this._anchor
        }
        set anchor(e) {
            typeof e == "number" ? this._anchor.set(e) : this._anchor.copyFrom(e)
        }
        set text(e) {
            e = e.toString(),
            this._text !== e && (this._text = e,
            this.onViewUpdate())
        }
        get text() {
            return this._text
        }
        set resolution(e) {
            this._autoResolution = e === null,
            this._resolution = e,
            this.onViewUpdate()
        }
        get resolution() {
            return this._resolution
        }
        get style() {
            return this._style
        }
        set style(e) {
            var t;
            e || (e = {}),
            (t = this._style) == null || t.off("update", this.onViewUpdate, this),
            e instanceof this._styleClass ? this._style = e : this._style = new this._styleClass(e),
            this._style.on("update", this.onViewUpdate, this),
            this.onViewUpdate()
        }
        get width() {
            return Math.abs(this.scale.x) * this.bounds.width
        }
        set width(e) {
            this._setWidth(e, this.bounds.width)
        }
        get height() {
            return Math.abs(this.scale.y) * this.bounds.height
        }
        set height(e) {
            this._setHeight(e, this.bounds.height)
        }
        getSize(e) {
            return e || (e = {}),
            e.width = Math.abs(this.scale.x) * this.bounds.width,
            e.height = Math.abs(this.scale.y) * this.bounds.height,
            e
        }
        setSize(e, t) {
            var i;
            typeof e == "object" ? (t = (i = e.height) != null ? i : e.width,
            e = e.width) : t != null || (t = e),
            e !== void 0 && this._setWidth(e, this.bounds.width),
            t !== void 0 && this._setHeight(t, this.bounds.height)
        }
        containsPoint(e) {
            let t = this.bounds.width
              , i = this.bounds.height
              , r = -t * this.anchor.x
              , s = 0;
            return e.x >= r && e.x <= r + t && (s = -i * this.anchor.y,
            e.y >= s && e.y <= s + i)
        }
        onViewUpdate() {
            this.didViewUpdate || (this._didTextUpdate = !0),
            super.onViewUpdate()
        }
        _getKey() {
            return `${this.text}:${this._style.styleKey}:${this._resolution}`
        }
        destroy(e=!1) {
            super.destroy(e),
            this.owner = null,
            this._bounds = null,
            this._anchor = null,
            (typeof e == "boolean" ? e : e != null && e.style) && this._style.destroy(e),
            this._style = null,
            this._text = null
        }
    }
    ;
    function Ml(a, e) {
        var t;
        let i = (t = a[0]) != null ? t : {};
        return (typeof i == "string" || a[1]) && (i = {
            text: i,
            style: a[1]
        }),
        i
    }
    var je = class extends jr {
        constructor(...e) {
            let t = Ml(e, "Text");
            super(t, Pt),
            this.renderPipeId = "text"
        }
        updateBounds() {
            let e = this._bounds
              , t = this._anchor
              , i = oa.measureText(this._text, this._style)
              , {width: r, height: s} = i;
            e.minX = -t._x * r,
            e.maxX = e.minX + r,
            e.minY = -t._y * s,
            e.maxY = e.minY + s
        }
    }
      , Bh = class extends my {
        resolveQueueItem(e, t) {
            return e instanceof le ? this.resolveContainerQueueItem(e, t) : e instanceof Fe || e instanceof K ? t.push(e.source) : e instanceof dt && t.push(e),
            null
        }
        resolveContainerQueueItem(e, t) {
            e instanceof we || e instanceof My || e instanceof Za ? t.push(e.texture.source) : e instanceof je ? t.push(e) : e instanceof We ? t.push(e.context) : e instanceof Ih && e.textures.forEach(i => {
                i.source ? t.push(i.source) : t.push(i.texture.source)
            }
            )
        }
        resolveGraphicsContextQueueItem(e) {
            this.renderer.graphicsContext.getContextRenderData(e);
            let {instructions: t} = e;
            for (let i of t)
                if (i.action === "texture") {
                    let {image: r} = i.data;
                    return r.source
                } else if (i.action === "fill") {
                    let {texture: r} = i.data.style;
                    return r.source
                }
            return null
        }
    }
      , Fh = class extends jr {
        constructor(...e) {
            var t, i, r;
            let s = Ml(e, "BitmapText");
            (t = s.style) != null || (s.style = s.style || {}),
            (r = (i = s.style).fill) != null || (i.fill = 16777215),
            super(s, Pt),
            this.renderPipeId = "bitmapText"
        }
        updateBounds() {
            let e = this._bounds
              , t = this._anchor
              , i = mn.measureText(this.text, this._style)
              , r = i.scale
              , s = i.offsetY * r
              , o = i.width * r
              , d = i.height * r
              , h = this._style._stroke;
            h && (o += h.width,
            d += h.width),
            e.minX = -t._x * o,
            e.maxX = e.minX + o,
            e.minY = -t._y * (d + s),
            e.maxY = e.minY + d
        }
        set resolution(e) {}
        get resolution() {
            return this._resolution
        }
    }
      , Dh = class extends jr {
        constructor(...e) {
            let t = Ml(e, "HtmlText");
            super(t, vn),
            this.renderPipeId = "htmlText"
        }
        updateBounds() {
            let e = this._bounds
              , t = this._anchor
              , i = xp(this.text, this._style)
              , {width: r, height: s} = i;
            e.minX = -t._x * r,
            e.maxX = e.minX + r,
            e.minY = -t._y * s,
            e.maxY = e.minY + s
        }
    }
      , kh = class extends Bh {
        uploadQueueItem(e) {
            e instanceof Fe ? this.uploadTextureSource(e) : e instanceof je ? this.uploadText(e) : e instanceof Dh ? this.uploadHTMLText(e) : e instanceof Fh ? this.uploadBitmapText(e) : e instanceof dt && this.uploadGraphicsContext(e)
        }
        uploadTextureSource(e) {
            this.renderer.texture.initSource(e)
        }
        uploadText(e) {
            this.renderer.renderPipes.text.initGpuText(e)
        }
        uploadBitmapText(e) {
            this.renderer.renderPipes.bitmapText.initGpuText(e)
        }
        uploadHTMLText(e) {
            this.renderer.renderPipes.htmlText.initGpuText(e)
        }
        uploadGraphicsContext(e) {
            this.renderer.graphicsContext.getContextRenderData(e);
            let {instructions: t} = e;
            for (let i of t)
                if (i.action === "texture") {
                    let {image: r} = i.data;
                    this.uploadTextureSource(r.source)
                } else if (i.action === "fill") {
                    let {texture: r} = i.data.style;
                    this.uploadTextureSource(r.source)
                }
            return null
        }
    }
      , Uh = class extends kh {
        destroy() {
            clearTimeout(this.timeout),
            this.renderer = null,
            this.queue = null,
            this.resolves = null
        }
    }
    ;
    Uh.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem],
        name: "prepare"
    };
    var Xn = class {
        constructor() {
            this._tempState = Et.for2d(),
            this._didUploadHash = {}
        }
        init(e) {
            e.renderer.runners.contextChange.add(this)
        }
        contextChange() {
            this._didUploadHash = {}
        }
        start(e, t, i) {
            let r = e.renderer
              , s = this._didUploadHash[i.uid];
            r.shader.bind(i, s),
            s || (this._didUploadHash[i.uid] = !0),
            r.shader.updateUniformGroup(r.globalUniforms.uniformGroup),
            r.geometry.bind(t, i.glProgram)
        }
        execute(e, t) {
            let i = e.renderer;
            this._tempState.blendMode = t.blendMode,
            i.state.set(this._tempState);
            let r = t.textures.textures;
            for (let s = 0; s < t.textures.count; s++)
                i.texture.bind(r[s], s);
            i.geometry.draw(t.topology, t.size, t.start)
        }
    }
    ;
    Xn.extension = {
        type: [B.WebGLPipesAdaptor],
        name: "batch"
    };
    var Is = Et.for2d()
      , Hn = class {
        start(e, t, i) {
            let r = e.renderer
              , s = r.encoder
              , o = i.gpuProgram;
            this._shader = i,
            this._geometry = t,
            s.setGeometry(t, o),
            Is.blendMode = "normal",
            r.pipeline.getPipeline(t, o, Is);
            let d = r.globalUniforms.bindGroup;
            s.resetBindGroup(1),
            s.setBindGroup(0, d, o)
        }
        execute(e, t) {
            let i = this._shader.gpuProgram
              , r = e.renderer
              , s = r.encoder;
            if (!t.bindGroup) {
                let h = t.textures;
                t.bindGroup = _l(h.textures, h.count)
            }
            Is.blendMode = t.blendMode;
            let o = r.bindGroup.getBindGroup(t.bindGroup, i, 1)
              , d = r.pipeline.getPipeline(this._geometry, i, Is, t.topology);
            t.bindGroup._touch(r.textureGC.count),
            s.setPipeline(d),
            s.renderPassEncoder.setBindGroup(1, o),
            s.renderPassEncoder.drawIndexed(t.size, 1, t.start)
        }
    }
    ;
    Hn.extension = {
        type: [B.WebGPUPipesAdaptor],
        name: "batch"
    };
    var Lh = class y3 {
        constructor(e, t) {
            this.state = Et.for2d(),
            this._batchersByInstructionSet = Object.create(null),
            this._activeBatches = Object.create(null);
            var i, r;
            this.renderer = e,
            this._adaptor = t,
            (r = (i = this._adaptor).init) == null || r.call(i, this)
        }
        static getBatcher(e) {
            return new this._availableBatchers[e]
        }
        buildStart(e) {
            let t = this._batchersByInstructionSet[e.uid];
            t || (t = this._batchersByInstructionSet[e.uid] = Object.create(null),
            t.default || (t.default = new wl)),
            this._activeBatches = t,
            this._activeBatch = this._activeBatches.default;
            for (let i in this._activeBatches)
                this._activeBatches[i].begin()
        }
        addToBatch(e, t) {
            if (this._activeBatch.name !== e.batcherName) {
                this._activeBatch.break(t);
                let i = this._activeBatches[e.batcherName];
                i || (i = this._activeBatches[e.batcherName] = y3.getBatcher(e.batcherName),
                i.begin()),
                this._activeBatch = i
            }
            this._activeBatch.add(e)
        }
        break(e) {
            this._activeBatch.break(e)
        }
        buildEnd(e) {
            this._activeBatch.break(e);
            let t = this._activeBatches;
            for (let i in t) {
                let r = t[i]
                  , s = r.geometry;
                s.indexBuffer.setDataWithSize(r.indexBuffer, r.indexSize, !0),
                s.buffers[0].setDataWithSize(r.attributeBuffer.float32View, r.attributeSize, !1)
            }
        }
        upload(e) {
            let t = this._batchersByInstructionSet[e.uid];
            for (let i in t) {
                let r = t[i]
                  , s = r.geometry;
                r.dirty && (r.dirty = !1,
                s.buffers[0].update(r.attributeSize * 4))
            }
        }
        execute(e) {
            if (e.action === "startBatch") {
                let t = e.batcher
                  , i = t.geometry
                  , r = t.shader;
                this._adaptor.start(this, i, r)
            }
            this._adaptor.execute(this, e)
        }
        destroy() {
            this.state = null,
            this.renderer = null,
            this._adaptor = null;
            for (let e in this._activeBatches)
                this._activeBatches[e].destroy();
            this._activeBatches = null
        }
    }
    ;
    Lh.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "batch"
    },
    Lh._availableBatchers = Object.create(null);
    var x3 = Lh;
    pe.handleByMap(B.Batcher, x3._availableBatchers),
    pe.add(wl);
    var Gy = {
        name: "texture-bit",
        vertex: {
            header: `

struct TextureUniforms {
uTextureMatrix:mat3x3<f32>,
}

@group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;
`,
            main: `
uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;
`
        },
        fragment: {
            header: `
@group(2) @binding(0) var uTexture: texture_2d<f32>;
@group(2) @binding(1) var uSampler: sampler;


`,
            main: `
outColor = textureSample(uTexture, uSampler, vUV);
`
        }
    }
      , By = {
        name: "texture-bit",
        vertex: {
            header: `
uniform mat3 uTextureMatrix;
`,
            main: `
uv = (uTextureMatrix * vec3(uv, 1.0)).xy;
`
        },
        fragment: {
            header: `
uniform sampler2D uTexture;


`,
            main: `
outColor = texture(uTexture, vUV);
`
        }
    }
      , Fy = new qe
      , Dy = class extends Ai {
        constructor() {
            super(),
            this.filters = [new Oh({
                sprite: new we(K.EMPTY),
                inverse: !1,
                resolution: "inherit",
                antialias: "inherit"
            })]
        }
        get sprite() {
            return this.filters[0].sprite
        }
        set sprite(a) {
            this.filters[0].sprite = a
        }
        get inverse() {
            return this.filters[0].inverse
        }
        set inverse(a) {
            this.filters[0].inverse = a
        }
    }
      , zn = class {
        constructor(e) {
            this._activeMaskStage = [],
            this._renderer = e
        }
        push(e, t, i) {
            let r = this._renderer;
            if (r.renderPipes.batch.break(i),
            i.add({
                renderPipeId: "alphaMask",
                action: "pushMaskBegin",
                mask: e,
                inverse: t._maskOptions.inverse,
                canBundle: !1,
                maskedContainer: t
            }),
            e.inverse = t._maskOptions.inverse,
            e.renderMaskToTexture) {
                let s = e.mask;
                s.includeInBuild = !0,
                s.collectRenderables(i, r, null),
                s.includeInBuild = !1
            }
            r.renderPipes.batch.break(i),
            i.add({
                renderPipeId: "alphaMask",
                action: "pushMaskEnd",
                mask: e,
                maskedContainer: t,
                inverse: t._maskOptions.inverse,
                canBundle: !1
            })
        }
        pop(e, t, i) {
            this._renderer.renderPipes.batch.break(i),
            i.add({
                renderPipeId: "alphaMask",
                action: "popMaskEnd",
                mask: e,
                inverse: t._maskOptions.inverse,
                canBundle: !1
            })
        }
        execute(e) {
            let t = this._renderer
              , i = e.mask.renderMaskToTexture;
            if (e.action === "pushMaskBegin") {
                let r = ye.get(Dy);
                if (r.inverse = e.inverse,
                i) {
                    e.mask.mask.measurable = !0;
                    let s = Bo(e.mask.mask, !0, Fy);
                    e.mask.mask.measurable = !1,
                    s.ceil();
                    let o = t.renderTarget.renderTarget.colorTexture.source
                      , d = ze.getOptimalTexture(s.width, s.height, o._resolution, o.antialias);
                    t.renderTarget.push(d, !0),
                    t.globalUniforms.push({
                        offset: s,
                        worldColor: 4294967295
                    });
                    let h = r.sprite;
                    h.texture = d,
                    h.worldTransform.tx = s.minX,
                    h.worldTransform.ty = s.minY,
                    this._activeMaskStage.push({
                        filterEffect: r,
                        maskedContainer: e.maskedContainer,
                        filterTexture: d
                    })
                } else
                    r.sprite = e.mask.mask,
                    this._activeMaskStage.push({
                        filterEffect: r,
                        maskedContainer: e.maskedContainer
                    })
            } else if (e.action === "pushMaskEnd") {
                let r = this._activeMaskStage[this._activeMaskStage.length - 1];
                i && (t.type === yt.WEBGL && t.renderTarget.finishRenderPass(),
                t.renderTarget.pop(),
                t.globalUniforms.pop()),
                t.filter.push({
                    renderPipeId: "filter",
                    action: "pushFilter",
                    container: r.maskedContainer,
                    filterEffect: r.filterEffect,
                    canBundle: !1
                })
            } else if (e.action === "popMaskEnd") {
                t.filter.pop();
                let r = this._activeMaskStage.pop();
                i && ze.returnTexture(r.filterTexture),
                ye.return(r.filterEffect)
            }
        }
        destroy() {
            this._renderer = null,
            this._activeMaskStage = null
        }
    }
    ;
    zn.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "alphaMask"
    };
    var Vn = class {
        constructor(e) {
            this._colorStack = [],
            this._colorStackIndex = 0,
            this._currentColor = 0,
            this._renderer = e
        }
        buildStart() {
            this._colorStack[0] = 15,
            this._colorStackIndex = 1,
            this._currentColor = 15
        }
        push(e, t, i) {
            this._renderer.renderPipes.batch.break(i);
            let r = this._colorStack;
            r[this._colorStackIndex] = r[this._colorStackIndex - 1] & e.mask;
            let s = this._colorStack[this._colorStackIndex];
            s !== this._currentColor && (this._currentColor = s,
            i.add({
                renderPipeId: "colorMask",
                colorMask: s,
                canBundle: !1
            })),
            this._colorStackIndex++
        }
        pop(e, t, i) {
            this._renderer.renderPipes.batch.break(i);
            let r = this._colorStack;
            this._colorStackIndex--;
            let s = r[this._colorStackIndex - 1];
            s !== this._currentColor && (this._currentColor = s,
            i.add({
                renderPipeId: "colorMask",
                colorMask: s,
                canBundle: !1
            }))
        }
        execute(e) {
            this._renderer.colorMask.setMask(e.colorMask)
        }
        destroy() {
            this._colorStack = null
        }
    }
    ;
    Vn.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "colorMask"
    };
    var Wn = class {
        constructor(e) {
            this._maskStackHash = {},
            this._maskHash = new WeakMap,
            this._renderer = e
        }
        push(e, t, i) {
            var r, s;
            let o = e
              , d = this._renderer;
            d.renderPipes.batch.break(i),
            d.renderPipes.blendMode.setBlendMode(o.mask, "none", i),
            i.add({
                renderPipeId: "stencilMask",
                action: "pushMaskBegin",
                mask: e,
                inverse: t._maskOptions.inverse,
                canBundle: !1
            });
            let h = o.mask;
            h.includeInBuild = !0,
            this._maskHash.has(o) || this._maskHash.set(o, {
                instructionsStart: 0,
                instructionsLength: 0
            });
            let l = this._maskHash.get(o);
            l.instructionsStart = i.instructionSize,
            h.collectRenderables(i, d, null),
            h.includeInBuild = !1,
            d.renderPipes.batch.break(i),
            i.add({
                renderPipeId: "stencilMask",
                action: "pushMaskEnd",
                mask: e,
                inverse: t._maskOptions.inverse,
                canBundle: !1
            });
            let u = i.instructionSize - l.instructionsStart - 1;
            l.instructionsLength = u;
            let p = d.renderTarget.renderTarget.uid;
            (s = (r = this._maskStackHash)[p]) != null || (r[p] = 0)
        }
        pop(e, t, i) {
            let r = e
              , s = this._renderer;
            s.renderPipes.batch.break(i),
            s.renderPipes.blendMode.setBlendMode(r.mask, "none", i),
            i.add({
                renderPipeId: "stencilMask",
                action: "popMaskBegin",
                inverse: t._maskOptions.inverse,
                canBundle: !1
            });
            let o = this._maskHash.get(e);
            for (let d = 0; d < o.instructionsLength; d++)
                i.instructions[i.instructionSize++] = i.instructions[o.instructionsStart++];
            i.add({
                renderPipeId: "stencilMask",
                action: "popMaskEnd",
                canBundle: !1
            })
        }
        execute(e) {
            var t, i;
            let r = this._renderer
              , s = r.renderTarget.renderTarget.uid
              , o = (i = (t = this._maskStackHash)[s]) != null ? i : t[s] = 0;
            e.action === "pushMaskBegin" ? (r.renderTarget.ensureDepthStencil(),
            r.stencil.setStencilMode(Ne.RENDERING_MASK_ADD, o),
            o++,
            r.colorMask.setMask(0)) : e.action === "pushMaskEnd" ? (e.inverse ? r.stencil.setStencilMode(Ne.INVERSE_MASK_ACTIVE, o) : r.stencil.setStencilMode(Ne.MASK_ACTIVE, o),
            r.colorMask.setMask(15)) : e.action === "popMaskBegin" ? (r.colorMask.setMask(0),
            o !== 0 ? r.stencil.setStencilMode(Ne.RENDERING_MASK_REMOVE, o) : (r.renderTarget.clear(null, mt.STENCIL),
            r.stencil.setStencilMode(Ne.DISABLED, o)),
            o--) : e.action === "popMaskEnd" && (e.inverse ? r.stencil.setStencilMode(Ne.INVERSE_MASK_ACTIVE, o) : r.stencil.setStencilMode(Ne.MASK_ACTIVE, o),
            r.colorMask.setMask(15)),
            this._maskStackHash[s] = o
        }
        destroy() {
            this._renderer = null,
            this._maskStackHash = null,
            this._maskHash = null
        }
    }
    ;
    Wn.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "stencilMask"
    };
    var js = (a => (a[a.ELEMENT_ARRAY_BUFFER = 34963] = "ELEMENT_ARRAY_BUFFER",
    a[a.ARRAY_BUFFER = 34962] = "ARRAY_BUFFER",
    a[a.UNIFORM_BUFFER = 35345] = "UNIFORM_BUFFER",
    a))(js || {})
      , Nh = class {
        constructor(e, t) {
            this._lastBindBaseLocation = -1,
            this._lastBindCallId = -1,
            this.buffer = e || null,
            this.updateID = -1,
            this.byteLength = -1,
            this.type = t
        }
    }
      , Yn = class {
        constructor(e) {
            this._gpuBuffers = Object.create(null),
            this._boundBufferBases = Object.create(null),
            this._minBaseLocation = 0,
            this._nextBindBaseIndex = this._minBaseLocation,
            this._bindCallId = 0,
            this._renderer = e,
            this._renderer.renderableGC.addManagedHash(this, "_gpuBuffers")
        }
        destroy() {
            this._renderer = null,
            this._gl = null,
            this._gpuBuffers = null,
            this._boundBufferBases = null
        }
        contextChange() {
            let e = this._gl = this._renderer.gl;
            this._gpuBuffers = Object.create(null),
            this._maxBindings = e.MAX_UNIFORM_BUFFER_BINDINGS ? e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS) : 0
        }
        getGlBuffer(e) {
            return this._gpuBuffers[e.uid] || this.createGLBuffer(e)
        }
        bind(e) {
            let {_gl: t} = this
              , i = this.getGlBuffer(e);
            t.bindBuffer(i.type, i.buffer)
        }
        bindBufferBase(e, t) {
            let {_gl: i} = this;
            this._boundBufferBases[t] !== e && (this._boundBufferBases[t] = e,
            e._lastBindBaseLocation = t,
            i.bindBufferBase(i.UNIFORM_BUFFER, t, e.buffer))
        }
        nextBindBase(e) {
            this._bindCallId++,
            this._minBaseLocation = 0,
            e && (this._boundBufferBases[0] = null,
            this._minBaseLocation = 1,
            this._nextBindBaseIndex < 1 && (this._nextBindBaseIndex = 1))
        }
        freeLocationForBufferBase(e) {
            let t = this.getLastBindBaseLocation(e);
            if (t >= this._minBaseLocation)
                return e._lastBindCallId = this._bindCallId,
                t;
            let i = 0
              , r = this._nextBindBaseIndex;
            for (; i < 2; ) {
                r >= this._maxBindings && (r = this._minBaseLocation,
                i++);
                let s = this._boundBufferBases[r];
                if (s && s._lastBindCallId === this._bindCallId) {
                    r++;
                    continue
                }
                break
            }
            return t = r,
            this._nextBindBaseIndex = r + 1,
            i >= 2 ? -1 : (e._lastBindCallId = this._bindCallId,
            this._boundBufferBases[t] = null,
            t)
        }
        getLastBindBaseLocation(e) {
            let t = e._lastBindBaseLocation;
            return this._boundBufferBases[t] === e ? t : -1
        }
        bindBufferRange(e, t, i, r) {
            let {_gl: s} = this;
            i || (i = 0),
            t || (t = 0),
            this._boundBufferBases[t] = null,
            s.bindBufferRange(s.UNIFORM_BUFFER, t || 0, e.buffer, i * 256, r || 256)
        }
        updateBuffer(e) {
            let {_gl: t} = this
              , i = this.getGlBuffer(e);
            if (e._updateID === i.updateID)
                return i;
            i.updateID = e._updateID,
            t.bindBuffer(i.type, i.buffer);
            let r = e.data
              , s = e.descriptor.usage & ve.STATIC ? t.STATIC_DRAW : t.DYNAMIC_DRAW;
            return r ? i.byteLength >= r.byteLength ? t.bufferSubData(i.type, 0, r, 0, e._updateSize / r.BYTES_PER_ELEMENT) : (i.byteLength = r.byteLength,
            t.bufferData(i.type, r, s)) : (i.byteLength = e.descriptor.size,
            t.bufferData(i.type, i.byteLength, s)),
            i
        }
        destroyAll() {
            let e = this._gl;
            for (let t in this._gpuBuffers)
                e.deleteBuffer(this._gpuBuffers[t].buffer);
            this._gpuBuffers = Object.create(null)
        }
        onBufferDestroy(e, t) {
            let i = this._gpuBuffers[e.uid]
              , r = this._gl;
            t || r.deleteBuffer(i.buffer),
            this._gpuBuffers[e.uid] = null
        }
        createGLBuffer(e) {
            let {_gl: t} = this
              , i = js.ARRAY_BUFFER;
            e.descriptor.usage & ve.INDEX ? i = js.ELEMENT_ARRAY_BUFFER : e.descriptor.usage & ve.UNIFORM && (i = js.UNIFORM_BUFFER);
            let r = new Nh(t.createBuffer(),i);
            return this._gpuBuffers[e.uid] = r,
            e.on("destroy", this.onBufferDestroy, this),
            r
        }
        resetState() {
            this._boundBufferBases = Object.create(null)
        }
    }
    ;
    Yn.extension = {
        type: [B.WebGLSystem],
        name: "buffer"
    };
    var ky = Object.defineProperty
      , Uy = Object.defineProperties
      , Ly = Object.getOwnPropertyDescriptors
      , Jb = Object.getOwnPropertySymbols
      , Ny = Object.prototype.hasOwnProperty
      , jy = Object.prototype.propertyIsEnumerable
      , e1 = (a, e, t) => e in a ? ky(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Gs = (a, e) => {
        for (var t in e || (e = {}))
            Ny.call(e, t) && e1(a, t, e[t]);
        if (Jb)
            for (var t of Jb(e))
                jy.call(e, t) && e1(a, t, e[t]);
        return a
    }
      , t1 = (a, e) => Uy(a, Ly(e))
      , jh = class v3 {
        constructor(e) {
            this.supports = {
                uint32Indices: !0,
                uniformBufferObject: !0,
                vertexArrayObject: !0,
                srgbTextures: !0,
                nonPowOf2wrapping: !0,
                msaa: !0,
                nonPowOf2mipmaps: !0
            },
            this._renderer = e,
            this.extensions = Object.create(null),
            this.handleContextLost = this.handleContextLost.bind(this),
            this.handleContextRestored = this.handleContextRestored.bind(this)
        }
        get isLost() {
            return !this.gl || this.gl.isContextLost()
        }
        contextChange(e) {
            this.gl = e,
            this._renderer.gl = e
        }
        init(e) {
            var t, i;
            e = Gs(Gs({}, v3.defaultOptions), e);
            let r = this.multiView = e.multiView;
            if (e.context && r && (Jt("Renderer created with both a context and multiview enabled. Disabling multiView as both cannot work together."),
            r = !1),
            r ? this.canvas = xe.get().createCanvas(this._renderer.canvas.width, this._renderer.canvas.height) : this.canvas = this._renderer.view.canvas,
            e.context)
                this.initFromContext(e.context);
            else {
                let s = this._renderer.background.alpha < 1
                  , o = (t = e.premultipliedAlpha) != null ? t : !0
                  , d = e.antialias && !this._renderer.backBuffer.useBackBuffer;
                this.createContext(e.preferWebGLVersion, {
                    alpha: s,
                    premultipliedAlpha: o,
                    antialias: d,
                    stencil: !0,
                    preserveDrawingBuffer: e.preserveDrawingBuffer,
                    powerPreference: (i = e.powerPreference) != null ? i : "default"
                })
            }
        }
        ensureCanvasSize(e) {
            if (!this.multiView) {
                e !== this.canvas && Jt("multiView is disabled, but targetCanvas is not the main canvas");
                return
            }
            let {canvas: t} = this;
            (t.width < e.width || t.height < e.height) && (t.width = Math.max(e.width, e.width),
            t.height = Math.max(e.height, e.height))
        }
        initFromContext(e) {
            this.gl = e,
            this.webGLVersion = e instanceof xe.get().getWebGLRenderingContext() ? 1 : 2,
            this.getExtensions(),
            this.validateContext(e),
            this._renderer.runners.contextChange.emit(e);
            let t = this._renderer.view.canvas;
            t.addEventListener("webglcontextlost", this.handleContextLost, !1),
            t.addEventListener("webglcontextrestored", this.handleContextRestored, !1)
        }
        createContext(e, t) {
            let i, r = this.canvas;
            if (e === 2 && (i = r.getContext("webgl2", t)),
            !i && (i = r.getContext("webgl", t),
            !i))
                throw new Error("This browser does not support WebGL. Try using the canvas renderer");
            this.gl = i,
            this.initFromContext(this.gl)
        }
        getExtensions() {
            let {gl: e} = this
              , t = {
                anisotropicFiltering: e.getExtension("EXT_texture_filter_anisotropic"),
                floatTextureLinear: e.getExtension("OES_texture_float_linear"),
                s3tc: e.getExtension("WEBGL_compressed_texture_s3tc"),
                s3tc_sRGB: e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),
                etc: e.getExtension("WEBGL_compressed_texture_etc"),
                etc1: e.getExtension("WEBGL_compressed_texture_etc1"),
                pvrtc: e.getExtension("WEBGL_compressed_texture_pvrtc") || e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),
                atc: e.getExtension("WEBGL_compressed_texture_atc"),
                astc: e.getExtension("WEBGL_compressed_texture_astc"),
                bptc: e.getExtension("EXT_texture_compression_bptc"),
                rgtc: e.getExtension("EXT_texture_compression_rgtc"),
                loseContext: e.getExtension("WEBGL_lose_context")
            };
            if (this.webGLVersion === 1)
                this.extensions = t1(Gs({}, t), {
                    drawBuffers: e.getExtension("WEBGL_draw_buffers"),
                    depthTexture: e.getExtension("WEBGL_depth_texture"),
                    vertexArrayObject: e.getExtension("OES_vertex_array_object") || e.getExtension("MOZ_OES_vertex_array_object") || e.getExtension("WEBKIT_OES_vertex_array_object"),
                    uint32ElementIndex: e.getExtension("OES_element_index_uint"),
                    floatTexture: e.getExtension("OES_texture_float"),
                    floatTextureLinear: e.getExtension("OES_texture_float_linear"),
                    textureHalfFloat: e.getExtension("OES_texture_half_float"),
                    textureHalfFloatLinear: e.getExtension("OES_texture_half_float_linear"),
                    vertexAttribDivisorANGLE: e.getExtension("ANGLE_instanced_arrays"),
                    srgb: e.getExtension("EXT_sRGB")
                });
            else {
                this.extensions = t1(Gs({}, t), {
                    colorBufferFloat: e.getExtension("EXT_color_buffer_float")
                });
                let i = e.getExtension("WEBGL_provoking_vertex");
                i && i.provokingVertexWEBGL(i.FIRST_VERTEX_CONVENTION_WEBGL)
            }
        }
        handleContextLost(e) {
            e.preventDefault(),
            this._contextLossForced && (this._contextLossForced = !1,
            setTimeout( () => {
                var t;
                this.gl.isContextLost() && ((t = this.extensions.loseContext) == null || t.restoreContext())
            }
            , 0))
        }
        handleContextRestored() {
            this._renderer.runners.contextChange.emit(this.gl)
        }
        destroy() {
            var e;
            let t = this._renderer.view.canvas;
            this._renderer = null,
            t.removeEventListener("webglcontextlost", this.handleContextLost),
            t.removeEventListener("webglcontextrestored", this.handleContextRestored),
            this.gl.useProgram(null),
            (e = this.extensions.loseContext) == null || e.loseContext()
        }
        forceContextLoss() {
            var e;
            (e = this.extensions.loseContext) == null || e.loseContext(),
            this._contextLossForced = !0
        }
        validateContext(e) {
            let t = e.getContextAttributes();
            t && t.stencil;
            let i = this.supports
              , r = this.webGLVersion === 2
              , s = this.extensions;
            i.uint32Indices = r || !!s.uint32ElementIndex,
            i.uniformBufferObject = r,
            i.vertexArrayObject = r || !!s.vertexArrayObject,
            i.srgbTextures = r || !!s.srgb,
            i.nonPowOf2wrapping = r,
            i.nonPowOf2mipmaps = r,
            i.msaa = r,
            i.uint32Indices
        }
    }
    ;
    jh.extension = {
        type: [B.WebGLSystem],
        name: "context"
    },
    jh.defaultOptions = {
        context: null,
        premultipliedAlpha: !0,
        preserveDrawingBuffer: !1,
        powerPreference: void 0,
        preferWebGLVersion: 2,
        multiView: !1
    };
    var Xy = jh;
    function T3(a, e) {
        var t, i, r;
        for (let s in a.attributes) {
            let o = a.attributes[s]
              , d = e[s];
            d ? ((t = o.format) != null || (o.format = d.format),
            (i = o.offset) != null || (o.offset = d.offset),
            (r = o.instance) != null || (o.instance = d.instance)) : Jt(`Attribute ${s} is not present in the shader, but is present in the geometry. Unable to infer attribute details.`)
        }
        Hy(a)
    }
    function Hy(a) {
        var e, t;
        let {buffers: i, attributes: r} = a
          , s = {}
          , o = {};
        for (let d in i) {
            let h = i[d];
            s[h.uid] = 0,
            o[h.uid] = 0
        }
        for (let d in r) {
            let h = r[d];
            s[h.buffer.uid] += Oa(h.format).stride
        }
        for (let d in r) {
            let h = r[d];
            (e = h.stride) != null || (h.stride = s[h.buffer.uid]),
            (t = h.start) != null || (h.start = o[h.buffer.uid]),
            o[h.buffer.uid] += Oa(h.format).stride
        }
    }
    var Xh = (a => (a[a.RGBA = 6408] = "RGBA",
    a[a.RGB = 6407] = "RGB",
    a[a.RG = 33319] = "RG",
    a[a.RED = 6403] = "RED",
    a[a.RGBA_INTEGER = 36249] = "RGBA_INTEGER",
    a[a.RGB_INTEGER = 36248] = "RGB_INTEGER",
    a[a.RG_INTEGER = 33320] = "RG_INTEGER",
    a[a.RED_INTEGER = 36244] = "RED_INTEGER",
    a[a.ALPHA = 6406] = "ALPHA",
    a[a.LUMINANCE = 6409] = "LUMINANCE",
    a[a.LUMINANCE_ALPHA = 6410] = "LUMINANCE_ALPHA",
    a[a.DEPTH_COMPONENT = 6402] = "DEPTH_COMPONENT",
    a[a.DEPTH_STENCIL = 34041] = "DEPTH_STENCIL",
    a))(Xh || {})
      , S3 = (a => (a[a.TEXTURE_2D = 3553] = "TEXTURE_2D",
    a[a.TEXTURE_CUBE_MAP = 34067] = "TEXTURE_CUBE_MAP",
    a[a.TEXTURE_2D_ARRAY = 35866] = "TEXTURE_2D_ARRAY",
    a[a.TEXTURE_CUBE_MAP_POSITIVE_X = 34069] = "TEXTURE_CUBE_MAP_POSITIVE_X",
    a[a.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070] = "TEXTURE_CUBE_MAP_NEGATIVE_X",
    a[a.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071] = "TEXTURE_CUBE_MAP_POSITIVE_Y",
    a[a.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072] = "TEXTURE_CUBE_MAP_NEGATIVE_Y",
    a[a.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073] = "TEXTURE_CUBE_MAP_POSITIVE_Z",
    a[a.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074] = "TEXTURE_CUBE_MAP_NEGATIVE_Z",
    a))(S3 || {})
      , zy = (a => (a[a.CLAMP = 33071] = "CLAMP",
    a[a.REPEAT = 10497] = "REPEAT",
    a[a.MIRRORED_REPEAT = 33648] = "MIRRORED_REPEAT",
    a))(zy || {})
      , Se = (a => (a[a.UNSIGNED_BYTE = 5121] = "UNSIGNED_BYTE",
    a[a.UNSIGNED_SHORT = 5123] = "UNSIGNED_SHORT",
    a[a.UNSIGNED_SHORT_5_6_5 = 33635] = "UNSIGNED_SHORT_5_6_5",
    a[a.UNSIGNED_SHORT_4_4_4_4 = 32819] = "UNSIGNED_SHORT_4_4_4_4",
    a[a.UNSIGNED_SHORT_5_5_5_1 = 32820] = "UNSIGNED_SHORT_5_5_5_1",
    a[a.UNSIGNED_INT = 5125] = "UNSIGNED_INT",
    a[a.UNSIGNED_INT_10F_11F_11F_REV = 35899] = "UNSIGNED_INT_10F_11F_11F_REV",
    a[a.UNSIGNED_INT_2_10_10_10_REV = 33640] = "UNSIGNED_INT_2_10_10_10_REV",
    a[a.UNSIGNED_INT_24_8 = 34042] = "UNSIGNED_INT_24_8",
    a[a.UNSIGNED_INT_5_9_9_9_REV = 35902] = "UNSIGNED_INT_5_9_9_9_REV",
    a[a.BYTE = 5120] = "BYTE",
    a[a.SHORT = 5122] = "SHORT",
    a[a.INT = 5124] = "INT",
    a[a.FLOAT = 5126] = "FLOAT",
    a[a.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269] = "FLOAT_32_UNSIGNED_INT_24_8_REV",
    a[a.HALF_FLOAT = 36193] = "HALF_FLOAT",
    a))(Se || {})
      , a1 = {
        uint8x2: Se.UNSIGNED_BYTE,
        uint8x4: Se.UNSIGNED_BYTE,
        sint8x2: Se.BYTE,
        sint8x4: Se.BYTE,
        unorm8x2: Se.UNSIGNED_BYTE,
        unorm8x4: Se.UNSIGNED_BYTE,
        snorm8x2: Se.BYTE,
        snorm8x4: Se.BYTE,
        uint16x2: Se.UNSIGNED_SHORT,
        uint16x4: Se.UNSIGNED_SHORT,
        sint16x2: Se.SHORT,
        sint16x4: Se.SHORT,
        unorm16x2: Se.UNSIGNED_SHORT,
        unorm16x4: Se.UNSIGNED_SHORT,
        snorm16x2: Se.SHORT,
        snorm16x4: Se.SHORT,
        float16x2: Se.HALF_FLOAT,
        float16x4: Se.HALF_FLOAT,
        float32: Se.FLOAT,
        float32x2: Se.FLOAT,
        float32x3: Se.FLOAT,
        float32x4: Se.FLOAT,
        uint32: Se.UNSIGNED_INT,
        uint32x2: Se.UNSIGNED_INT,
        uint32x3: Se.UNSIGNED_INT,
        uint32x4: Se.UNSIGNED_INT,
        sint32: Se.INT,
        sint32x2: Se.INT,
        sint32x3: Se.INT,
        sint32x4: Se.INT
    };
    function Vy(a) {
        var e;
        return (e = a1[a]) != null ? e : a1.float32
    }
    var Wy = {
        "point-list": 0,
        "line-list": 1,
        "line-strip": 3,
        "triangle-list": 4,
        "triangle-strip": 5
    }
      , $n = class {
        constructor(e) {
            this._geometryVaoHash = Object.create(null),
            this._renderer = e,
            this._activeGeometry = null,
            this._activeVao = null,
            this.hasVao = !0,
            this.hasInstance = !0,
            this._renderer.renderableGC.addManagedHash(this, "_geometryVaoHash")
        }
        contextChange() {
            let e = this.gl = this._renderer.gl;
            if (!this._renderer.context.supports.vertexArrayObject)
                throw new Error("[PixiJS] Vertex Array Objects are not supported on this device");
            let t = this._renderer.context.extensions.vertexArrayObject;
            t && (e.createVertexArray = () => t.createVertexArrayOES(),
            e.bindVertexArray = r => t.bindVertexArrayOES(r),
            e.deleteVertexArray = r => t.deleteVertexArrayOES(r));
            let i = this._renderer.context.extensions.vertexAttribDivisorANGLE;
            i && (e.drawArraysInstanced = (r, s, o, d) => {
                i.drawArraysInstancedANGLE(r, s, o, d)
            }
            ,
            e.drawElementsInstanced = (r, s, o, d, h) => {
                i.drawElementsInstancedANGLE(r, s, o, d, h)
            }
            ,
            e.vertexAttribDivisor = (r, s) => i.vertexAttribDivisorANGLE(r, s)),
            this._activeGeometry = null,
            this._activeVao = null,
            this._geometryVaoHash = Object.create(null)
        }
        bind(e, t) {
            let i = this.gl;
            this._activeGeometry = e;
            let r = this.getVao(e, t);
            this._activeVao !== r && (this._activeVao = r,
            i.bindVertexArray(r)),
            this.updateBuffers()
        }
        resetState() {
            this.unbind()
        }
        updateBuffers() {
            let e = this._activeGeometry
              , t = this._renderer.buffer;
            for (let i = 0; i < e.buffers.length; i++) {
                let r = e.buffers[i];
                t.updateBuffer(r)
            }
        }
        checkCompatibility(e, t) {
            let i = e.attributes
              , r = t._attributeData;
            for (let s in r)
                if (!i[s])
                    throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)
        }
        getSignature(e, t) {
            let i = e.attributes
              , r = t._attributeData
              , s = ["g", e.uid];
            for (let o in i)
                r[o] && s.push(o, r[o].location);
            return s.join("-")
        }
        getVao(e, t) {
            var i;
            return ((i = this._geometryVaoHash[e.uid]) == null ? void 0 : i[t._key]) || this.initGeometryVao(e, t)
        }
        initGeometryVao(e, t, i=!0) {
            let r = this._renderer.gl
              , s = this._renderer.buffer;
            this._renderer.shader._getProgramData(t),
            this.checkCompatibility(e, t);
            let o = this.getSignature(e, t);
            this._geometryVaoHash[e.uid] || (this._geometryVaoHash[e.uid] = Object.create(null),
            e.on("destroy", this.onGeometryDestroy, this));
            let d = this._geometryVaoHash[e.uid]
              , h = d[o];
            if (h)
                return d[t._key] = h,
                h;
            T3(e, t._attributeData);
            let l = e.buffers;
            h = r.createVertexArray(),
            r.bindVertexArray(h);
            for (let u = 0; u < l.length; u++) {
                let p = l[u];
                s.bind(p)
            }
            return this.activateVao(e, t),
            d[t._key] = h,
            d[o] = h,
            r.bindVertexArray(null),
            h
        }
        onGeometryDestroy(e, t) {
            let i = this._geometryVaoHash[e.uid]
              , r = this.gl;
            if (i) {
                if (t)
                    for (let s in i)
                        this._activeVao !== i[s] && this.unbind(),
                        r.deleteVertexArray(i[s]);
                this._geometryVaoHash[e.uid] = null
            }
        }
        destroyAll(e=!1) {
            let t = this.gl;
            for (let i in this._geometryVaoHash) {
                if (e)
                    for (let r in this._geometryVaoHash[i]) {
                        let s = this._geometryVaoHash[i];
                        this._activeVao !== s && this.unbind(),
                        t.deleteVertexArray(s[r])
                    }
                this._geometryVaoHash[i] = null
            }
        }
        activateVao(e, t) {
            var i, r;
            let s = this._renderer.gl
              , o = this._renderer.buffer
              , d = e.attributes;
            e.indexBuffer && o.bind(e.indexBuffer);
            let h = null;
            for (let l in d) {
                let u = d[l]
                  , p = u.buffer
                  , y = o.getGlBuffer(p)
                  , _ = t._attributeData[l];
                if (_) {
                    h !== y && (o.bind(p),
                    h = y);
                    let v = _.location;
                    s.enableVertexAttribArray(v);
                    let T = Oa(u.format)
                      , A = Vy(u.format);
                    if (((i = _.format) == null ? void 0 : i.substring(1, 4)) === "int" ? s.vertexAttribIPointer(v, T.size, A, u.stride, u.offset) : s.vertexAttribPointer(v, T.size, A, T.normalised, u.stride, u.offset),
                    u.instance)
                        if (this.hasInstance) {
                            let P = (r = u.divisor) != null ? r : 1;
                            s.vertexAttribDivisor(v, P)
                        } else
                            throw new Error("geometry error, GPU Instancing is not supported on this device")
                }
            }
        }
        draw(e, t, i, r) {
            let {gl: s} = this._renderer
              , o = this._activeGeometry
              , d = Wy[e || o.topology];
            if (r != null || (r = o.instanceCount),
            o.indexBuffer) {
                let h = o.indexBuffer.data.BYTES_PER_ELEMENT
                  , l = h === 2 ? s.UNSIGNED_SHORT : s.UNSIGNED_INT;
                r > 1 ? s.drawElementsInstanced(d, t || o.indexBuffer.data.length, l, (i || 0) * h, r) : s.drawElements(d, t || o.indexBuffer.data.length, l, (i || 0) * h)
            } else
                r > 1 ? s.drawArraysInstanced(d, i || 0, t || o.getSize(), r) : s.drawArrays(d, i || 0, t || o.getSize());
            return this
        }
        unbind() {
            this.gl.bindVertexArray(null),
            this._activeVao = null,
            this._activeGeometry = null
        }
        destroy() {
            this._renderer = null,
            this.gl = null,
            this._activeVao = null,
            this._activeGeometry = null
        }
    }
    ;
    $n.extension = {
        type: [B.WebGLSystem],
        name: "geometry"
    };
    var Yy = Object.defineProperty
      , i1 = Object.getOwnPropertySymbols
      , $y = Object.prototype.hasOwnProperty
      , Ky = Object.prototype.propertyIsEnumerable
      , r1 = (a, e, t) => e in a ? Yy(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , s1 = (a, e) => {
        for (var t in e || (e = {}))
            $y.call(e, t) && r1(a, t, e[t]);
        if (i1)
            for (var t of i1(e))
                Ky.call(e, t) && r1(a, t, e[t]);
        return a
    }
      , qy = new Zt({
        attributes: {
            aPosition: [-1, -1, 3, -1, -1, 3]
        }
    })
      , Hh = class w3 {
        constructor(e) {
            this.useBackBuffer = !1,
            this._useBackBufferThisRender = !1,
            this._renderer = e
        }
        init(e={}) {
            let {useBackBuffer: t, antialias: i} = s1(s1({}, w3.defaultOptions), e);
            this.useBackBuffer = t,
            this._antialias = i,
            this._renderer.context.supports.msaa || (Jt("antialiasing, is not supported on when using the back buffer"),
            this._antialias = !1),
            this._state = Et.for2d();
            let r = new ua({
                vertex: `
attribute vec2 aPosition;
out vec2 vUv;

void main() {
gl_Position = vec4(aPosition, 0.0, 1.0);

vUv = (aPosition + 1.0) / 2.0;

// flip dem UVs
vUv.y = 1.0 - vUv.y;
}`,
                fragment: `
in vec2 vUv;
out vec4 finalColor;

uniform sampler2D uTexture;

void main() {
finalColor = texture(uTexture, vUv);
}`,
                name: "big-triangle"
            });
            this._bigTriangleShader = new ht({
                glProgram: r,
                resources: {
                    uTexture: K.WHITE.source
                }
            })
        }
        renderStart(e) {
            let t = this._renderer.renderTarget.getRenderTarget(e.target);
            if (this._useBackBufferThisRender = this.useBackBuffer && !!t.isRoot,
            this._useBackBufferThisRender) {
                let i = this._renderer.renderTarget.getRenderTarget(e.target);
                this._targetTexture = i.colorTexture,
                e.target = this._getBackBufferTexture(i.colorTexture)
            }
        }
        renderEnd() {
            this._presentBackBuffer()
        }
        _presentBackBuffer() {
            let e = this._renderer;
            e.renderTarget.finishRenderPass(),
            this._useBackBufferThisRender && (e.renderTarget.bind(this._targetTexture, !1),
            this._bigTriangleShader.resources.uTexture = this._backBufferTexture.source,
            e.encoder.draw({
                geometry: qy,
                shader: this._bigTriangleShader,
                state: this._state
            }))
        }
        _getBackBufferTexture(e) {
            return this._backBufferTexture = this._backBufferTexture || new K({
                source: new Fe({
                    width: e.width,
                    height: e.height,
                    resolution: e._resolution,
                    antialias: this._antialias
                })
            }),
            this._backBufferTexture.source.resize(e.width, e.height, e._resolution),
            this._backBufferTexture
        }
        destroy() {
            this._backBufferTexture && (this._backBufferTexture.destroy(),
            this._backBufferTexture = null)
        }
    }
    ;
    Hh.extension = {
        type: [B.WebGLSystem],
        name: "backBuffer",
        priority: 1
    },
    Hh.defaultOptions = {
        useBackBuffer: !1
    };
    var Zy = Hh
      , Kn = class {
        constructor(e) {
            this._colorMaskCache = 15,
            this._renderer = e
        }
        setMask(e) {
            this._colorMaskCache !== e && (this._colorMaskCache = e,
            this._renderer.gl.colorMask(!!(e & 8), !!(e & 4), !!(e & 2), !!(e & 1)))
        }
    }
    ;
    Kn.extension = {
        type: [B.WebGLSystem],
        name: "colorMask"
    };
    var qn = class {
        constructor(e) {
            this.commandFinished = Promise.resolve(),
            this._renderer = e
        }
        setGeometry(e, t) {
            this._renderer.geometry.bind(e, t.glProgram)
        }
        finishRenderPass() {}
        draw(e) {
            let t = this._renderer
              , {geometry: i, shader: r, state: s, skipSync: o, topology: d, size: h, start: l, instanceCount: u} = e;
            t.shader.bind(r, o),
            t.geometry.bind(i, t.shader._activeProgram),
            s && t.state.set(s),
            t.geometry.draw(d, h, l, u ?? i.instanceCount)
        }
        destroy() {
            this._renderer = null
        }
    }
    ;
    qn.extension = {
        type: [B.WebGLSystem],
        name: "encoder"
    };
    var zh = class {
        constructor() {
            this.width = -1,
            this.height = -1,
            this.msaa = !1,
            this.msaaRenderBuffer = []
        }
    }
      , Aa = [];
    Aa[Ne.NONE] = void 0,
    Aa[Ne.DISABLED] = {
        stencilWriteMask: 0,
        stencilReadMask: 0
    },
    Aa[Ne.RENDERING_MASK_ADD] = {
        stencilFront: {
            compare: "equal",
            passOp: "increment-clamp"
        },
        stencilBack: {
            compare: "equal",
            passOp: "increment-clamp"
        }
    },
    Aa[Ne.RENDERING_MASK_REMOVE] = {
        stencilFront: {
            compare: "equal",
            passOp: "decrement-clamp"
        },
        stencilBack: {
            compare: "equal",
            passOp: "decrement-clamp"
        }
    },
    Aa[Ne.MASK_ACTIVE] = {
        stencilWriteMask: 0,
        stencilFront: {
            compare: "equal",
            passOp: "keep"
        },
        stencilBack: {
            compare: "equal",
            passOp: "keep"
        }
    },
    Aa[Ne.INVERSE_MASK_ACTIVE] = {
        stencilWriteMask: 0,
        stencilFront: {
            compare: "not-equal",
            passOp: "replace"
        },
        stencilBack: {
            compare: "not-equal",
            passOp: "replace"
        }
    };
    var Zn = class {
        constructor(e) {
            this._stencilCache = {
                enabled: !1,
                stencilReference: 0,
                stencilMode: Ne.NONE
            },
            this._renderTargetStencilState = Object.create(null),
            e.renderTarget.onRenderTargetChange.add(this)
        }
        contextChange(e) {
            this._gl = e,
            this._comparisonFuncMapping = {
                always: e.ALWAYS,
                never: e.NEVER,
                equal: e.EQUAL,
                "not-equal": e.NOTEQUAL,
                less: e.LESS,
                "less-equal": e.LEQUAL,
                greater: e.GREATER,
                "greater-equal": e.GEQUAL
            },
            this._stencilOpsMapping = {
                keep: e.KEEP,
                zero: e.ZERO,
                replace: e.REPLACE,
                invert: e.INVERT,
                "increment-clamp": e.INCR,
                "decrement-clamp": e.DECR,
                "increment-wrap": e.INCR_WRAP,
                "decrement-wrap": e.DECR_WRAP
            },
            this._stencilCache.enabled = !1,
            this._stencilCache.stencilMode = Ne.NONE,
            this._stencilCache.stencilReference = 0
        }
        onRenderTargetChange(e) {
            if (this._activeRenderTarget === e)
                return;
            this._activeRenderTarget = e;
            let t = this._renderTargetStencilState[e.uid];
            t || (t = this._renderTargetStencilState[e.uid] = {
                stencilMode: Ne.DISABLED,
                stencilReference: 0
            }),
            this.setStencilMode(t.stencilMode, t.stencilReference)
        }
        setStencilMode(e, t) {
            let i = this._renderTargetStencilState[this._activeRenderTarget.uid]
              , r = this._gl
              , s = Aa[e]
              , o = this._stencilCache;
            if (i.stencilMode = e,
            i.stencilReference = t,
            e === Ne.DISABLED) {
                this._stencilCache.enabled && (this._stencilCache.enabled = !1,
                r.disable(r.STENCIL_TEST));
                return
            }
            this._stencilCache.enabled || (this._stencilCache.enabled = !0,
            r.enable(r.STENCIL_TEST)),
            (e !== o.stencilMode || o.stencilReference !== t) && (o.stencilMode = e,
            o.stencilReference = t,
            r.stencilFunc(this._comparisonFuncMapping[s.stencilBack.compare], t, 255),
            r.stencilOp(r.KEEP, r.KEEP, this._stencilOpsMapping[s.stencilBack.passOp]))
        }
    }
    ;
    Zn.extension = {
        type: [B.WebGLSystem],
        name: "stencil"
    };
    var Qn = class {
        constructor(e) {
            this._syncFunctionHash = Object.create(null),
            this._adaptor = e,
            this._systemCheck()
        }
        _systemCheck() {
            if (!Rp())
                throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")
        }
        ensureUniformGroup(e) {
            let t = this.getUniformGroupData(e);
            e.buffer || (e.buffer = new rt({
                data: new Float32Array(t.layout.size / 4),
                usage: ve.UNIFORM | ve.COPY_DST
            }))
        }
        getUniformGroupData(e) {
            return this._syncFunctionHash[e._signature] || this._initUniformGroup(e)
        }
        _initUniformGroup(e) {
            let t = e._signature
              , i = this._syncFunctionHash[t];
            if (!i) {
                let r = Object.keys(e.uniformStructures).map(d => e.uniformStructures[d])
                  , s = this._adaptor.createUboElements(r)
                  , o = this._generateUboSync(s.uboElements);
                i = this._syncFunctionHash[t] = {
                    layout: s,
                    syncFunction: o
                }
            }
            return this._syncFunctionHash[t]
        }
        _generateUboSync(e) {
            return this._adaptor.generateUboSync(e)
        }
        syncUniformGroup(e, t, i) {
            let r = this.getUniformGroupData(e);
            e.buffer || (e.buffer = new rt({
                data: new Float32Array(r.layout.size / 4),
                usage: ve.UNIFORM | ve.COPY_DST
            }));
            let s = null;
            return t || (t = e.buffer.data,
            s = e.buffer.dataInt32),
            i || (i = 0),
            r.syncFunction(e.uniforms, t, s, i),
            !0
        }
        updateUniformGroup(e) {
            if (e.isStatic && !e._dirtyId)
                return !1;
            e._dirtyId = 0;
            let t = this.syncUniformGroup(e);
            return e.buffer.update(),
            t
        }
        destroy() {
            this._syncFunctionHash = null
        }
    }
      , A3 = {
        f32: 4,
        i32: 4,
        "vec2<f32>": 8,
        "vec3<f32>": 12,
        "vec4<f32>": 16,
        "vec2<i32>": 8,
        "vec3<i32>": 12,
        "vec4<i32>": 16,
        "mat2x2<f32>": 32,
        "mat3x3<f32>": 48,
        "mat4x4<f32>": 64
    };
    function Qy(a) {
        let e = a.map(s => ({
            data: s,
            offset: 0,
            size: 0
        }))
          , t = 16
          , i = 0
          , r = 0;
        for (let s = 0; s < e.length; s++) {
            let o = e[s];
            if (i = A3[o.data.type],
            !i)
                throw new Error(`Unknown type ${o.data.type}`);
            o.data.size > 1 && (i = Math.max(i, t) * o.data.size);
            let d = i === 12 ? 16 : i;
            o.size = i;
            let h = r % t;
            h > 0 && t - h < d ? r += (t - h) % 16 : r += (i - h % i) % i,
            o.offset = r,
            r += i
        }
        return r = Math.ceil(r / 16) * 16,
        {
            uboElements: e,
            size: r
        }
    }
    var Ka = [{
        type: "mat3x3<f32>",
        test: a => a.value.a !== void 0,
        ubo: `
var matrix = uv[name].toArray(true);
data[offset] = matrix[0];
data[offset + 1] = matrix[1];
data[offset + 2] = matrix[2];
data[offset + 4] = matrix[3];
data[offset + 5] = matrix[4];
data[offset + 6] = matrix[5];
data[offset + 8] = matrix[6];
data[offset + 9] = matrix[7];
data[offset + 10] = matrix[8];
`,
        uniform: `
gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));
`
    }, {
        type: "vec4<f32>",
        test: a => a.type === "vec4<f32>" && a.size === 1 && a.value.width !== void 0,
        ubo: `
v = uv[name];
data[offset] = v.x;
data[offset + 1] = v.y;
data[offset + 2] = v.width;
data[offset + 3] = v.height;
`,
        uniform: `
cv = ud[name].value;
v = uv[name];
if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {
cv[0] = v.x;
cv[1] = v.y;
cv[2] = v.width;
cv[3] = v.height;
gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);
}
`
    }, {
        type: "vec2<f32>",
        test: a => a.type === "vec2<f32>" && a.size === 1 && a.value.x !== void 0,
        ubo: `
v = uv[name];
data[offset] = v.x;
data[offset + 1] = v.y;
`,
        uniform: `
cv = ud[name].value;
v = uv[name];
if (cv[0] !== v.x || cv[1] !== v.y) {
cv[0] = v.x;
cv[1] = v.y;
gl.uniform2f(ud[name].location, v.x, v.y);
}
`
    }, {
        type: "vec4<f32>",
        test: a => a.type === "vec4<f32>" && a.size === 1 && a.value.red !== void 0,
        ubo: `
v = uv[name];
data[offset] = v.red;
data[offset + 1] = v.green;
data[offset + 2] = v.blue;
data[offset + 3] = v.alpha;
`,
        uniform: `
cv = ud[name].value;
v = uv[name];
if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {
cv[0] = v.red;
cv[1] = v.green;
cv[2] = v.blue;
cv[3] = v.alpha;
gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);
}
`
    }, {
        type: "vec3<f32>",
        test: a => a.type === "vec3<f32>" && a.size === 1 && a.value.red !== void 0,
        ubo: `
v = uv[name];
data[offset] = v.red;
data[offset + 1] = v.green;
data[offset + 2] = v.blue;
`,
        uniform: `
cv = ud[name].value;
v = uv[name];
if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {
cv[0] = v.red;
cv[1] = v.green;
cv[2] = v.blue;
gl.uniform3f(ud[name].location, v.red, v.green, v.blue);
}
`
    }];
    function E3(a, e, t, i) {
        let r = [`
var v = null;
var v2 = null;
var t = 0;
var index = 0;
var name = null;
var arrayOffset = null;
`]
          , s = 0;
        for (let d = 0; d < a.length; d++) {
            let h = a[d]
              , l = h.data.name
              , u = !1
              , p = 0;
            for (let y = 0; y < Ka.length; y++)
                if (Ka[y].test(h.data)) {
                    p = h.offset / 4,
                    r.push(`name = "${l}";`, `offset += ${p - s};`, Ka[y][e] || Ka[y].ubo),
                    u = !0;
                    break
                }
            if (!u)
                if (h.data.size > 1)
                    p = h.offset / 4,
                    r.push(t(h, p - s));
                else {
                    let y = i[h.data.type];
                    p = h.offset / 4,
                    r.push(`
v = uv.${l};
offset += ${p - s};
${y};
`)
                }
            s = p
        }
        let o = r.join(`
`);
        return new Function("uv","data","dataInt32","offset",o)
    }
    var Jy = Object.defineProperty
      , ex = Object.defineProperties
      , tx = Object.getOwnPropertyDescriptors
      , n1 = Object.getOwnPropertySymbols
      , ax = Object.prototype.hasOwnProperty
      , ix = Object.prototype.propertyIsEnumerable
      , o1 = (a, e, t) => e in a ? Jy(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , rx = (a, e) => {
        for (var t in e || (e = {}))
            ax.call(e, t) && o1(a, t, e[t]);
        if (n1)
            for (var t of n1(e))
                ix.call(e, t) && o1(a, t, e[t]);
        return a
    }
      , sx = (a, e) => ex(a, tx(e));
    function gi(a, e) {
        return `
for (let i = 0; i < ${a * e}; i++) {
data[offset + (((i / ${a})|0) * 4) + (i % ${a})] = v[i];
}
`
    }
    var P3 = {
        f32: `
data[offset] = v;`,
        i32: `
dataInt32[offset] = v;`,
        "vec2<f32>": `
data[offset] = v[0];
data[offset + 1] = v[1];`,
        "vec3<f32>": `
data[offset] = v[0];
data[offset + 1] = v[1];
data[offset + 2] = v[2];`,
        "vec4<f32>": `
data[offset] = v[0];
data[offset + 1] = v[1];
data[offset + 2] = v[2];
data[offset + 3] = v[3];`,
        "vec2<i32>": `
dataInt32[offset] = v[0];
dataInt32[offset + 1] = v[1];`,
        "vec3<i32>": `
dataInt32[offset] = v[0];
dataInt32[offset + 1] = v[1];
dataInt32[offset + 2] = v[2];`,
        "vec4<i32>": `
dataInt32[offset] = v[0];
dataInt32[offset + 1] = v[1];
dataInt32[offset + 2] = v[2];
dataInt32[offset + 3] = v[3];`,
        "mat2x2<f32>": `
data[offset] = v[0];
data[offset + 1] = v[1];
data[offset + 4] = v[2];
data[offset + 5] = v[3];`,
        "mat3x3<f32>": `
data[offset] = v[0];
data[offset + 1] = v[1];
data[offset + 2] = v[2];
data[offset + 4] = v[3];
data[offset + 5] = v[4];
data[offset + 6] = v[5];
data[offset + 8] = v[6];
data[offset + 9] = v[7];
data[offset + 10] = v[8];`,
        "mat4x4<f32>": `
for (let i = 0; i < 16; i++) {
data[offset + i] = v[i];
}`,
        "mat3x2<f32>": gi(3, 2),
        "mat4x2<f32>": gi(4, 2),
        "mat2x3<f32>": gi(2, 3),
        "mat4x3<f32>": gi(4, 3),
        "mat2x4<f32>": gi(2, 4),
        "mat3x4<f32>": gi(3, 4)
    }
      , nx = sx(rx({}, P3), {
        "mat2x2<f32>": `
data[offset] = v[0];
data[offset + 1] = v[1];
data[offset + 2] = v[2];
data[offset + 3] = v[3];
`
    });
    function ox(a, e) {
        let t = Math.max(A3[a.data.type] / 16, 1)
          , i = a.data.value.length / a.data.size
          , r = (4 - i % 4) % 4
          , s = a.data.type.indexOf("i32") >= 0 ? "dataInt32" : "data";
        return `
v = uv.${a.data.name};
offset += ${e};

arrayOffset = offset;

t = 0;

for(var i=0; i < ${a.data.size * t}; i++)
{
for(var j = 0; j < ${i}; j++)
{
${s}[arrayOffset++] = v[t++];
}
${r !== 0 ? `arrayOffset += ${r};` : ""}
}
`
    }
    function cx(a) {
        return E3(a, "uboStd40", ox, P3)
    }
    var Jn = class extends Qn {
        constructor() {
            super({
                createUboElements: Qy,
                generateUboSync: cx
            })
        }
    }
    ;
    Jn.extension = {
        type: [B.WebGLSystem],
        name: "ubo"
    };
    var Vh = class {
        constructor() {
            this._clearColorCache = [0, 0, 0, 0],
            this._viewPortCache = new Pe
        }
        init(e, t) {
            this._renderer = e,
            this._renderTargetSystem = t,
            e.runners.contextChange.add(this)
        }
        contextChange() {
            this._clearColorCache = [0, 0, 0, 0],
            this._viewPortCache = new Pe
        }
        copyToTexture(e, t, i, r, s) {
            let o = this._renderTargetSystem
              , d = this._renderer
              , h = o.getGpuRenderTarget(e)
              , l = d.gl;
            return this.finishRenderPass(e),
            l.bindFramebuffer(l.FRAMEBUFFER, h.resolveTargetFramebuffer),
            d.texture.bind(t, 0),
            l.copyTexSubImage2D(l.TEXTURE_2D, 0, s.x, s.y, i.x, i.y, r.width, r.height),
            t
        }
        startRenderPass(e, t=!0, i, r) {
            let s = this._renderTargetSystem
              , o = e.colorTexture
              , d = s.getGpuRenderTarget(e)
              , h = r.y;
            e.isRoot && (h = o.pixelHeight - r.height),
            e.colorTextures.forEach(p => {
                this._renderer.texture.unbind(p)
            }
            );
            let l = this._renderer.gl;
            l.bindFramebuffer(l.FRAMEBUFFER, d.framebuffer);
            let u = this._viewPortCache;
            (u.x !== r.x || u.y !== h || u.width !== r.width || u.height !== r.height) && (u.x = r.x,
            u.y = h,
            u.width = r.width,
            u.height = r.height,
            l.viewport(r.x, h, r.width, r.height)),
            !d.depthStencilRenderBuffer && (e.stencil || e.depth) && this._initStencil(d),
            this.clear(e, t, i)
        }
        finishRenderPass(e) {
            let t = this._renderTargetSystem.getGpuRenderTarget(e);
            if (!t.msaa)
                return;
            let i = this._renderer.gl;
            i.bindFramebuffer(i.FRAMEBUFFER, t.resolveTargetFramebuffer),
            i.bindFramebuffer(i.READ_FRAMEBUFFER, t.framebuffer),
            i.blitFramebuffer(0, 0, t.width, t.height, 0, 0, t.width, t.height, i.COLOR_BUFFER_BIT, i.NEAREST),
            i.bindFramebuffer(i.FRAMEBUFFER, t.framebuffer)
        }
        initGpuRenderTarget(e) {
            let t = this._renderer
              , i = t.gl
              , r = new zh;
            return e.colorTexture.resource === t.canvas ? (this._renderer.context.ensureCanvasSize(e.colorTexture.resource),
            r.framebuffer = null,
            r) : (this._initColor(e, r),
            i.bindFramebuffer(i.FRAMEBUFFER, null),
            r)
        }
        destroyGpuRenderTarget(e) {
            let t = this._renderer.gl;
            e.framebuffer && (t.deleteFramebuffer(e.framebuffer),
            e.framebuffer = null),
            e.resolveTargetFramebuffer && (t.deleteFramebuffer(e.resolveTargetFramebuffer),
            e.resolveTargetFramebuffer = null),
            e.depthStencilRenderBuffer && (t.deleteRenderbuffer(e.depthStencilRenderBuffer),
            e.depthStencilRenderBuffer = null),
            e.msaaRenderBuffer.forEach(i => {
                t.deleteRenderbuffer(i)
            }
            ),
            e.msaaRenderBuffer = null
        }
        clear(e, t, i) {
            if (!t)
                return;
            let r = this._renderTargetSystem;
            typeof t == "boolean" && (t = t ? mt.ALL : mt.NONE);
            let s = this._renderer.gl;
            if (t & mt.COLOR) {
                i != null || (i = r.defaultClearColor);
                let o = this._clearColorCache
                  , d = i;
                (o[0] !== d[0] || o[1] !== d[1] || o[2] !== d[2] || o[3] !== d[3]) && (o[0] = d[0],
                o[1] = d[1],
                o[2] = d[2],
                o[3] = d[3],
                s.clearColor(d[0], d[1], d[2], d[3]))
            }
            s.clear(t)
        }
        resizeGpuRenderTarget(e) {
            if (e.isRoot)
                return;
            let t = this._renderTargetSystem.getGpuRenderTarget(e);
            this._resizeColor(e, t),
            (e.stencil || e.depth) && this._resizeStencil(t)
        }
        _initColor(e, t) {
            let i = this._renderer
              , r = i.gl
              , s = r.createFramebuffer();
            if (t.resolveTargetFramebuffer = s,
            r.bindFramebuffer(r.FRAMEBUFFER, s),
            t.width = e.colorTexture.source.pixelWidth,
            t.height = e.colorTexture.source.pixelHeight,
            e.colorTextures.forEach( (o, d) => {
                let h = o.source;
                h.antialias && (i.context.supports.msaa ? t.msaa = !0 : Jt("[RenderTexture] Antialiasing on textures is not supported in WebGL1")),
                i.texture.bindSource(h, 0);
                let l = i.texture.getGlSource(h).texture;
                r.framebufferTexture2D(r.FRAMEBUFFER, r.COLOR_ATTACHMENT0 + d, 3553, l, 0)
            }
            ),
            t.msaa) {
                let o = r.createFramebuffer();
                t.framebuffer = o,
                r.bindFramebuffer(r.FRAMEBUFFER, o),
                e.colorTextures.forEach( (d, h) => {
                    let l = r.createRenderbuffer();
                    t.msaaRenderBuffer[h] = l
                }
                )
            } else
                t.framebuffer = s;
            this._resizeColor(e, t)
        }
        _resizeColor(e, t) {
            let i = e.colorTexture.source;
            if (t.width = i.pixelWidth,
            t.height = i.pixelHeight,
            e.colorTextures.forEach( (r, s) => {
                s !== 0 && r.source.resize(i.width, i.height, i._resolution)
            }
            ),
            t.msaa) {
                let r = this._renderer
                  , s = r.gl
                  , o = t.framebuffer;
                s.bindFramebuffer(s.FRAMEBUFFER, o),
                e.colorTextures.forEach( (d, h) => {
                    let l = d.source;
                    r.texture.bindSource(l, 0);
                    let u = r.texture.getGlSource(l).internalFormat
                      , p = t.msaaRenderBuffer[h];
                    s.bindRenderbuffer(s.RENDERBUFFER, p),
                    s.renderbufferStorageMultisample(s.RENDERBUFFER, 4, u, l.pixelWidth, l.pixelHeight),
                    s.framebufferRenderbuffer(s.FRAMEBUFFER, s.COLOR_ATTACHMENT0 + h, s.RENDERBUFFER, p)
                }
                )
            }
        }
        _initStencil(e) {
            if (e.framebuffer === null)
                return;
            let t = this._renderer.gl
              , i = t.createRenderbuffer();
            e.depthStencilRenderBuffer = i,
            t.bindRenderbuffer(t.RENDERBUFFER, i),
            t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.RENDERBUFFER, i),
            this._resizeStencil(e)
        }
        _resizeStencil(e) {
            let t = this._renderer.gl;
            t.bindRenderbuffer(t.RENDERBUFFER, e.depthStencilRenderBuffer),
            e.msaa ? t.renderbufferStorageMultisample(t.RENDERBUFFER, 4, t.DEPTH24_STENCIL8, e.width, e.height) : t.renderbufferStorage(t.RENDERBUFFER, this._renderer.context.webGLVersion === 2 ? t.DEPTH24_STENCIL8 : t.DEPTH_STENCIL, e.width, e.height)
        }
        prerender(e) {
            let t = e.colorTexture.resource;
            this._renderer.context.multiView && qt.test(t) && this._renderer.context.ensureCanvasSize(t)
        }
        postrender(e) {
            if (this._renderer.context.multiView && qt.test(e.colorTexture.resource)) {
                let t = this._renderer.context.canvas
                  , i = e.colorTexture;
                i.context2D.drawImage(t, 0, i.pixelHeight - t.height)
            }
        }
    }
    ;
    function dx(a, e, t, i, r, s) {
        let o = s ? 1 : -1;
        return a.identity(),
        a.a = 1 / i * 2,
        a.d = o * (1 / r * 2),
        a.tx = -1 - e * a.a,
        a.ty = -o - t * a.d,
        a
    }
    var hx = Object.defineProperty
      , c1 = Object.getOwnPropertySymbols
      , lx = Object.prototype.hasOwnProperty
      , fx = Object.prototype.propertyIsEnumerable
      , d1 = (a, e, t) => e in a ? hx(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , ux = (a, e) => {
        for (var t in e || (e = {}))
            lx.call(e, t) && d1(a, t, e[t]);
        if (c1)
            for (var t of c1(e))
                fx.call(e, t) && d1(a, t, e[t]);
        return a
    }
      , pr = new Map;
    function R3(a, e) {
        if (!pr.has(a)) {
            let t = new K({
                source: new qt(ux({
                    resource: a
                }, e))
            })
              , i = () => {
                pr.get(a) === t && pr.delete(a)
            }
            ;
            t.once("destroy", i),
            t.source.once("destroy", i),
            pr.set(a, t)
        }
        return pr.get(a)
    }
    function bx(a) {
        let e = a.colorTexture.source.resource;
        return globalThis.HTMLCanvasElement && e instanceof HTMLCanvasElement && document.body.contains(e)
    }
    var px = Object.defineProperty
      , h1 = Object.getOwnPropertySymbols
      , gx = Object.prototype.hasOwnProperty
      , mx = Object.prototype.propertyIsEnumerable
      , l1 = (a, e, t) => e in a ? px(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , f1 = (a, e) => {
        for (var t in e || (e = {}))
            gx.call(e, t) && l1(a, t, e[t]);
        if (h1)
            for (var t of h1(e))
                mx.call(e, t) && l1(a, t, e[t]);
        return a
    }
      , M3 = class C3 {
        constructor(e={}) {
            if (this.uid = Be("renderTarget"),
            this.colorTextures = [],
            this.dirtyId = 0,
            this.isRoot = !1,
            this._size = new Float32Array(2),
            this._managedColorTextures = !1,
            e = f1(f1({}, C3.defaultOptions), e),
            this.stencil = e.stencil,
            this.depth = e.depth,
            this.isRoot = e.isRoot,
            typeof e.colorTextures == "number") {
                this._managedColorTextures = !0;
                for (let t = 0; t < e.colorTextures; t++)
                    this.colorTextures.push(new Fe({
                        width: e.width,
                        height: e.height,
                        resolution: e.resolution,
                        antialias: e.antialias
                    }))
            } else {
                this.colorTextures = [...e.colorTextures.map(i => i.source)];
                let t = this.colorTexture.source;
                this.resize(t.width, t.height, t._resolution)
            }
            this.colorTexture.source.on("resize", this.onSourceResize, this),
            (e.depthStencilTexture || this.stencil) && (e.depthStencilTexture instanceof K || e.depthStencilTexture instanceof Fe ? this.depthStencilTexture = e.depthStencilTexture.source : this.ensureDepthStencilTexture())
        }
        get size() {
            let e = this._size;
            return e[0] = this.pixelWidth,
            e[1] = this.pixelHeight,
            e
        }
        get width() {
            return this.colorTexture.source.width
        }
        get height() {
            return this.colorTexture.source.height
        }
        get pixelWidth() {
            return this.colorTexture.source.pixelWidth
        }
        get pixelHeight() {
            return this.colorTexture.source.pixelHeight
        }
        get resolution() {
            return this.colorTexture.source._resolution
        }
        get colorTexture() {
            return this.colorTextures[0]
        }
        onSourceResize(e) {
            this.resize(e.width, e.height, e._resolution, !0)
        }
        ensureDepthStencilTexture() {
            this.depthStencilTexture || (this.depthStencilTexture = new Fe({
                width: this.width,
                height: this.height,
                resolution: this.resolution,
                format: "depth24plus-stencil8",
                autoGenerateMipmaps: !1,
                antialias: !1,
                mipLevelCount: 1
            }))
        }
        resize(e, t, i=this.resolution, r=!1) {
            this.dirtyId++,
            this.colorTextures.forEach( (s, o) => {
                r && o === 0 || s.source.resize(e, t, i)
            }
            ),
            this.depthStencilTexture && this.depthStencilTexture.source.resize(e, t, i)
        }
        destroy() {
            this.colorTexture.source.off("resize", this.onSourceResize, this),
            this._managedColorTextures && this.colorTextures.forEach(e => {
                e.destroy()
            }
            ),
            this.depthStencilTexture && (this.depthStencilTexture.destroy(),
            delete this.depthStencilTexture)
        }
    }
    ;
    M3.defaultOptions = {
        width: 0,
        height: 0,
        resolution: 1,
        colorTextures: 1,
        stencil: !1,
        depth: !1,
        antialias: !1,
        isRoot: !1
    };
    var Wh = M3
      , eo = class {
        constructor(e) {
            this.rootViewPort = new Pe,
            this.viewport = new Pe,
            this.onRenderTargetChange = new En("onRenderTargetChange"),
            this.projectionMatrix = new ie,
            this.defaultClearColor = [0, 0, 0, 0],
            this._renderSurfaceToRenderTargetHash = new Map,
            this._gpuRenderTargetHash = Object.create(null),
            this._renderTargetStack = [],
            this._renderer = e,
            e.renderableGC.addManagedHash(this, "_gpuRenderTargetHash")
        }
        finishRenderPass() {
            this.adaptor.finishRenderPass(this.renderTarget)
        }
        renderStart({target: e, clear: t, clearColor: i, frame: r}) {
            var s, o;
            this._renderTargetStack.length = 0,
            this.push(e, t, i, r),
            this.rootViewPort.copyFrom(this.viewport),
            this.rootRenderTarget = this.renderTarget,
            this.renderingToScreen = bx(this.rootRenderTarget),
            (o = (s = this.adaptor).prerender) == null || o.call(s, this.rootRenderTarget)
        }
        postrender() {
            var e, t;
            (t = (e = this.adaptor).postrender) == null || t.call(e, this.rootRenderTarget)
        }
        bind(e, t=!0, i, r) {
            let s = this.getRenderTarget(e)
              , o = this.renderTarget !== s;
            this.renderTarget = s,
            this.renderSurface = e;
            let d = this.getGpuRenderTarget(s);
            (s.pixelWidth !== d.width || s.pixelHeight !== d.height) && (this.adaptor.resizeGpuRenderTarget(s),
            d.width = s.pixelWidth,
            d.height = s.pixelHeight);
            let h = s.colorTexture
              , l = this.viewport
              , u = h.pixelWidth
              , p = h.pixelHeight;
            if (!r && e instanceof K && (r = e.frame),
            r) {
                let y = h._resolution;
                l.x = r.x * y + .5 | 0,
                l.y = r.y * y + .5 | 0,
                l.width = r.width * y + .5 | 0,
                l.height = r.height * y + .5 | 0
            } else
                l.x = 0,
                l.y = 0,
                l.width = u,
                l.height = p;
            return dx(this.projectionMatrix, 0, 0, l.width / h.resolution, l.height / h.resolution, !s.isRoot),
            this.adaptor.startRenderPass(s, t, i, l),
            o && this.onRenderTargetChange.emit(s),
            s
        }
        clear(e, t=mt.ALL, i) {
            t && (e && (e = this.getRenderTarget(e)),
            this.adaptor.clear(e || this.renderTarget, t, i, this.viewport))
        }
        contextChange() {
            this._gpuRenderTargetHash = Object.create(null)
        }
        push(e, t=mt.ALL, i, r) {
            let s = this.bind(e, t, i, r);
            return this._renderTargetStack.push({
                renderTarget: s,
                frame: r
            }),
            s
        }
        pop() {
            this._renderTargetStack.pop();
            let e = this._renderTargetStack[this._renderTargetStack.length - 1];
            this.bind(e.renderTarget, !1, null, e.frame)
        }
        getRenderTarget(e) {
            var t;
            return e.isTexture && (e = e.source),
            (t = this._renderSurfaceToRenderTargetHash.get(e)) != null ? t : this._initRenderTarget(e)
        }
        copyToTexture(e, t, i, r, s) {
            i.x < 0 && (r.width += i.x,
            s.x -= i.x,
            i.x = 0),
            i.y < 0 && (r.height += i.y,
            s.y -= i.y,
            i.y = 0);
            let {pixelWidth: o, pixelHeight: d} = e;
            return r.width = Math.min(r.width, o - i.x),
            r.height = Math.min(r.height, d - i.y),
            this.adaptor.copyToTexture(e, t, i, r, s)
        }
        ensureDepthStencil() {
            this.renderTarget.stencil || (this.renderTarget.stencil = !0,
            this.adaptor.startRenderPass(this.renderTarget, !1, null, this.viewport))
        }
        destroy() {
            this._renderer = null,
            this._renderSurfaceToRenderTargetHash.forEach( (e, t) => {
                e !== t && e.destroy()
            }
            ),
            this._renderSurfaceToRenderTargetHash.clear(),
            this._gpuRenderTargetHash = Object.create(null)
        }
        _initRenderTarget(e) {
            let t = null;
            return qt.test(e) && (e = R3(e).source),
            e instanceof Wh ? t = e : e instanceof Fe && (t = new Wh({
                colorTextures: [e]
            }),
            qt.test(e.source.resource) && (t.isRoot = !0),
            e.once("destroy", () => {
                t.destroy(),
                this._renderSurfaceToRenderTargetHash.delete(e);
                let i = this._gpuRenderTargetHash[t.uid];
                i && (this._gpuRenderTargetHash[t.uid] = null,
                this.adaptor.destroyGpuRenderTarget(i))
            }
            )),
            this._renderSurfaceToRenderTargetHash.set(e, t),
            t
        }
        getGpuRenderTarget(e) {
            return this._gpuRenderTargetHash[e.uid] || (this._gpuRenderTargetHash[e.uid] = this.adaptor.initGpuRenderTarget(e))
        }
        resetState() {
            this.renderTarget = null,
            this.renderSurface = null
        }
    }
      , to = class extends eo {
        constructor(e) {
            super(e),
            this.adaptor = new Vh,
            this.adaptor.init(e, this)
        }
    }
    ;
    to.extension = {
        type: [B.WebGLSystem],
        name: "renderTarget"
    };
    var Xr = class extends xt {
        constructor({buffer: e, offset: t, size: i}) {
            super(),
            this.uid = Be("buffer"),
            this._resourceType = "bufferResource",
            this._touched = 0,
            this._resourceId = Be("resource"),
            this._bufferResource = !0,
            this.destroyed = !1,
            this.buffer = e,
            this.offset = t | 0,
            this.size = i,
            this.buffer.on("change", this.onBufferChange, this)
        }
        onBufferChange() {
            this._resourceId = Be("resource"),
            this.emit("change", this)
        }
        destroy(e=!1) {
            this.destroyed = !0,
            e && this.buffer.destroy(),
            this.emit("change", this),
            this.buffer = null
        }
    }
    ;
    function _x(a, e) {
        let t = []
          , i = [`
var g = s.groups;
var sS = r.shader;
var p = s.glProgram;
var ugS = r.uniformGroup;
var resources;
`]
          , r = !1
          , s = 0
          , o = e._getProgramData(a.glProgram);
        for (let h in a.groups) {
            let l = a.groups[h];
            t.push(`
resources = g[${h}].resources;
`);
            for (let u in l.resources) {
                let p = l.resources[u];
                if (p instanceof Je)
                    if (p.ubo) {
                        let y = a._uniformBindMap[h][Number(u)];
                        t.push(`
    sS.bindUniformBlock(
        resources[${u}],
        '${y}',
        ${a.glProgram._uniformBlockData[y].index}
    );
`)
                    } else
                        t.push(`
    ugS.updateUniformGroup(resources[${u}], p, sD);
`);
                else if (p instanceof Xr) {
                    let y = a._uniformBindMap[h][Number(u)];
                    t.push(`
sS.bindUniformBlock(
    resources[${u}],
    '${y}',
    ${a.glProgram._uniformBlockData[y].index}
);
`)
                } else if (p instanceof Fe) {
                    let y = a._uniformBindMap[h][u]
                      , _ = o.uniformData[y];
                    _ && (r || (r = !0,
                    i.push(`
    var tS = r.texture;
    `)),
                    e._gl.uniform1i(_.location, s),
                    t.push(`
    tS.bind(resources[${u}], ${s});
`),
                    s++)
                }
            }
        }
        let d = [...i, ...t].join(`
`);
        return new Function("r","s","sD",d)
    }
    var Yh = class {
        constructor(e, t) {
            this.program = e,
            this.uniformData = t,
            this.uniformGroups = {},
            this.uniformDirtyGroups = {},
            this.uniformBlockBindings = {}
        }
        destroy() {
            this.uniformData = null,
            this.uniformGroups = null,
            this.uniformDirtyGroups = null,
            this.uniformBlockBindings = null,
            this.program = null
        }
    }
    ;
    function u1(a, e, t) {
        let i = a.createShader(e);
        return a.shaderSource(i, t),
        a.compileShader(i),
        i
    }
    function _d(a) {
        let e = new Array(a);
        for (let t = 0; t < e.length; t++)
            e[t] = !1;
        return e
    }
    function O3(a, e) {
        switch (a) {
        case "float":
            return 0;
        case "vec2":
            return new Float32Array(2 * e);
        case "vec3":
            return new Float32Array(3 * e);
        case "vec4":
            return new Float32Array(4 * e);
        case "int":
        case "uint":
        case "sampler2D":
        case "sampler2DArray":
            return 0;
        case "ivec2":
            return new Int32Array(2 * e);
        case "ivec3":
            return new Int32Array(3 * e);
        case "ivec4":
            return new Int32Array(4 * e);
        case "uvec2":
            return new Uint32Array(2 * e);
        case "uvec3":
            return new Uint32Array(3 * e);
        case "uvec4":
            return new Uint32Array(4 * e);
        case "bool":
            return !1;
        case "bvec2":
            return _d(2 * e);
        case "bvec3":
            return _d(3 * e);
        case "bvec4":
            return _d(4 * e);
        case "mat2":
            return new Float32Array([1, 0, 0, 1]);
        case "mat3":
            return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
        case "mat4":
            return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1])
        }
        return null
    }
    var Bs = null
      , b1 = {
        FLOAT: "float",
        FLOAT_VEC2: "vec2",
        FLOAT_VEC3: "vec3",
        FLOAT_VEC4: "vec4",
        INT: "int",
        INT_VEC2: "ivec2",
        INT_VEC3: "ivec3",
        INT_VEC4: "ivec4",
        UNSIGNED_INT: "uint",
        UNSIGNED_INT_VEC2: "uvec2",
        UNSIGNED_INT_VEC3: "uvec3",
        UNSIGNED_INT_VEC4: "uvec4",
        BOOL: "bool",
        BOOL_VEC2: "bvec2",
        BOOL_VEC3: "bvec3",
        BOOL_VEC4: "bvec4",
        FLOAT_MAT2: "mat2",
        FLOAT_MAT3: "mat3",
        FLOAT_MAT4: "mat4",
        SAMPLER_2D: "sampler2D",
        INT_SAMPLER_2D: "sampler2D",
        UNSIGNED_INT_SAMPLER_2D: "sampler2D",
        SAMPLER_CUBE: "samplerCube",
        INT_SAMPLER_CUBE: "samplerCube",
        UNSIGNED_INT_SAMPLER_CUBE: "samplerCube",
        SAMPLER_2D_ARRAY: "sampler2DArray",
        INT_SAMPLER_2D_ARRAY: "sampler2DArray",
        UNSIGNED_INT_SAMPLER_2D_ARRAY: "sampler2DArray"
    }
      , yx = {
        float: "float32",
        vec2: "float32x2",
        vec3: "float32x3",
        vec4: "float32x4",
        int: "sint32",
        ivec2: "sint32x2",
        ivec3: "sint32x3",
        ivec4: "sint32x4",
        uint: "uint32",
        uvec2: "uint32x2",
        uvec3: "uint32x3",
        uvec4: "uint32x4",
        bool: "uint32",
        bvec2: "uint32x2",
        bvec3: "uint32x3",
        bvec4: "uint32x4"
    };
    function I3(a, e) {
        if (!Bs) {
            let t = Object.keys(b1);
            Bs = {};
            for (let i = 0; i < t.length; ++i) {
                let r = t[i];
                Bs[a[r]] = b1[r]
            }
        }
        return Bs[e]
    }
    function xx(a, e) {
        let t = I3(a, e);
        return yx[t] || "float32"
    }
    function vx(a, e, t=!1) {
        let i = {}
          , r = e.getProgramParameter(a, e.ACTIVE_ATTRIBUTES);
        for (let o = 0; o < r; o++) {
            let d = e.getActiveAttrib(a, o);
            if (d.name.startsWith("gl_"))
                continue;
            let h = xx(e, d.type);
            i[d.name] = {
                location: 0,
                format: h,
                stride: Oa(h).stride,
                offset: 0,
                instance: !1,
                start: 0
            }
        }
        let s = Object.keys(i);
        if (t) {
            s.sort( (o, d) => o > d ? 1 : -1);
            for (let o = 0; o < s.length; o++)
                i[s[o]].location = o,
                e.bindAttribLocation(a, o, s[o]);
            e.linkProgram(a)
        } else
            for (let o = 0; o < s.length; o++)
                i[s[o]].location = e.getAttribLocation(a, s[o]);
        return i
    }
    function Tx(a, e) {
        if (!e.ACTIVE_UNIFORM_BLOCKS)
            return {};
        let t = {}
          , i = e.getProgramParameter(a, e.ACTIVE_UNIFORM_BLOCKS);
        for (let r = 0; r < i; r++) {
            let s = e.getActiveUniformBlockName(a, r)
              , o = e.getUniformBlockIndex(a, s)
              , d = e.getActiveUniformBlockParameter(a, r, e.UNIFORM_BLOCK_DATA_SIZE);
            t[s] = {
                name: s,
                index: o,
                size: d
            }
        }
        return t
    }
    function Sx(a, e) {
        let t = {}
          , i = e.getProgramParameter(a, e.ACTIVE_UNIFORMS);
        for (let r = 0; r < i; r++) {
            let s = e.getActiveUniform(a, r)
              , o = s.name.replace(/\[.*?\]$/, "")
              , d = !!s.name.match(/\[.*?\]$/)
              , h = I3(e, s.type);
            t[o] = {
                name: o,
                index: r,
                type: h,
                size: s.size,
                isArray: d,
                value: O3(h, s.size)
            }
        }
        return t
    }
    function p1(a, e) {
        let t = a.getShaderSource(e).split(`
`).map( (l, u) => `${u}: ${l}`)
          , i = a.getShaderInfoLog(e)
          , r = i.split(`
`)
          , s = {}
          , o = r.map(l => parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/, "$1"))).filter(l => l && !s[l] ? (s[l] = !0,
        !0) : !1)
          , d = [""];
        o.forEach(l => {
            t[l - 1] = `%c${t[l - 1]}%c`,
            d.push("background: #FF0000; color:#FFFFFF; font-size: 10px", "font-size: 10px")
        }
        );
        let h = t.join(`
`);
        d[0] = h
    }
    function wx(a, e, t, i) {
        a.getProgramParameter(e, a.LINK_STATUS) || (a.getShaderParameter(t, a.COMPILE_STATUS) || p1(a, t),
        a.getShaderParameter(i, a.COMPILE_STATUS) || p1(a, i),
        a.getProgramInfoLog(e))
    }
    function Ax(a, e) {
        let t = u1(a, a.VERTEX_SHADER, e.vertex)
          , i = u1(a, a.FRAGMENT_SHADER, e.fragment)
          , r = a.createProgram();
        a.attachShader(r, t),
        a.attachShader(r, i);
        let s = e.transformFeedbackVaryings;
        s && (typeof a.transformFeedbackVaryings != "function" || a.transformFeedbackVaryings(r, s.names, s.bufferMode === "separate" ? a.SEPARATE_ATTRIBS : a.INTERLEAVED_ATTRIBS)),
        a.linkProgram(r),
        a.getProgramParameter(r, a.LINK_STATUS) || wx(a, r, t, i),
        e._attributeData = vx(r, a, !/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertex)),
        e._uniformData = Sx(r, a),
        e._uniformBlockData = Tx(r, a),
        a.deleteShader(t),
        a.deleteShader(i);
        let o = {};
        for (let d in e._uniformData) {
            let h = e._uniformData[d];
            o[d] = {
                location: a.getUniformLocation(r, d),
                value: O3(h.type, h.size)
            }
        }
        return new Yh(r,o)
    }
    var Fs = {
        textureCount: 0,
        blockIndex: 0
    }
      , ao = class {
        constructor(e) {
            this._activeProgram = null,
            this._programDataHash = Object.create(null),
            this._shaderSyncFunctions = Object.create(null),
            this._renderer = e,
            this._renderer.renderableGC.addManagedHash(this, "_programDataHash")
        }
        contextChange(e) {
            this._gl = e,
            this._programDataHash = Object.create(null),
            this._shaderSyncFunctions = Object.create(null),
            this._activeProgram = null,
            this.maxTextures = Ii()
        }
        bind(e, t) {
            if (this._setProgram(e.glProgram),
            t)
                return;
            Fs.textureCount = 0,
            Fs.blockIndex = 0;
            let i = this._shaderSyncFunctions[e.glProgram._key];
            i || (i = this._shaderSyncFunctions[e.glProgram._key] = this._generateShaderSync(e, this)),
            this._renderer.buffer.nextBindBase(!!e.glProgram.transformFeedbackVaryings),
            i(this._renderer, e, Fs)
        }
        updateUniformGroup(e) {
            this._renderer.uniformGroup.updateUniformGroup(e, this._activeProgram, Fs)
        }
        bindUniformBlock(e, t, i=0) {
            let r = this._renderer.buffer
              , s = this._getProgramData(this._activeProgram)
              , o = e._bufferResource;
            o || this._renderer.ubo.updateUniformGroup(e);
            let d = e.buffer
              , h = r.updateBuffer(d)
              , l = r.freeLocationForBufferBase(h);
            if (o) {
                let {offset: p, size: y} = e;
                p === 0 && y === d.data.byteLength ? r.bindBufferBase(h, l) : r.bindBufferRange(h, l, p)
            } else
                r.getLastBindBaseLocation(h) !== l && r.bindBufferBase(h, l);
            let u = this._activeProgram._uniformBlockData[t].index;
            s.uniformBlockBindings[i] !== l && (s.uniformBlockBindings[i] = l,
            this._renderer.gl.uniformBlockBinding(s.program, u, l))
        }
        _setProgram(e) {
            if (this._activeProgram === e)
                return;
            this._activeProgram = e;
            let t = this._getProgramData(e);
            this._gl.useProgram(t.program)
        }
        _getProgramData(e) {
            return this._programDataHash[e._key] || this._createProgramData(e)
        }
        _createProgramData(e) {
            let t = e._key;
            return this._programDataHash[t] = Ax(this._gl, e),
            this._programDataHash[t]
        }
        destroy() {
            for (let e of Object.keys(this._programDataHash))
                this._programDataHash[e].destroy(),
                this._programDataHash[e] = null;
            this._programDataHash = null
        }
        _generateShaderSync(e, t) {
            return _x(e, t)
        }
        resetState() {
            this._activeProgram = null
        }
    }
    ;
    ao.extension = {
        type: [B.WebGLSystem],
        name: "shader"
    };
    var Ex = {
        f32: `if (cv !== v) {
cu.value = v;
gl.uniform1f(location, v);
}`,
        "vec2<f32>": `if (cv[0] !== v[0] || cv[1] !== v[1]) {
cv[0] = v[0];
cv[1] = v[1];
gl.uniform2f(location, v[0], v[1]);
}`,
        "vec3<f32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
cv[0] = v[0];
cv[1] = v[1];
cv[2] = v[2];
gl.uniform3f(location, v[0], v[1], v[2]);
}`,
        "vec4<f32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
cv[0] = v[0];
cv[1] = v[1];
cv[2] = v[2];
cv[3] = v[3];
gl.uniform4f(location, v[0], v[1], v[2], v[3]);
}`,
        i32: `if (cv !== v) {
cu.value = v;
gl.uniform1i(location, v);
}`,
        "vec2<i32>": `if (cv[0] !== v[0] || cv[1] !== v[1]) {
cv[0] = v[0];
cv[1] = v[1];
gl.uniform2i(location, v[0], v[1]);
}`,
        "vec3<i32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
cv[0] = v[0];
cv[1] = v[1];
cv[2] = v[2];
gl.uniform3i(location, v[0], v[1], v[2]);
}`,
        "vec4<i32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
cv[0] = v[0];
cv[1] = v[1];
cv[2] = v[2];
cv[3] = v[3];
gl.uniform4i(location, v[0], v[1], v[2], v[3]);
}`,
        u32: `if (cv !== v) {
cu.value = v;
gl.uniform1ui(location, v);
}`,
        "vec2<u32>": `if (cv[0] !== v[0] || cv[1] !== v[1]) {
cv[0] = v[0];
cv[1] = v[1];
gl.uniform2ui(location, v[0], v[1]);
}`,
        "vec3<u32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
cv[0] = v[0];
cv[1] = v[1];
cv[2] = v[2];
gl.uniform3ui(location, v[0], v[1], v[2]);
}`,
        "vec4<u32>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
cv[0] = v[0];
cv[1] = v[1];
cv[2] = v[2];
cv[3] = v[3];
gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
}`,
        bool: `if (cv !== v) {
cu.value = v;
gl.uniform1i(location, v);
}`,
        "vec2<bool>": `if (cv[0] !== v[0] || cv[1] !== v[1]) {
cv[0] = v[0];
cv[1] = v[1];
gl.uniform2i(location, v[0], v[1]);
}`,
        "vec3<bool>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {
cv[0] = v[0];
cv[1] = v[1];
cv[2] = v[2];
gl.uniform3i(location, v[0], v[1], v[2]);
}`,
        "vec4<bool>": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {
cv[0] = v[0];
cv[1] = v[1];
cv[2] = v[2];
cv[3] = v[3];
gl.uniform4i(location, v[0], v[1], v[2], v[3]);
}`,
        "mat2x2<f32>": "gl.uniformMatrix2fv(location, false, v);",
        "mat3x3<f32>": "gl.uniformMatrix3fv(location, false, v);",
        "mat4x4<f32>": "gl.uniformMatrix4fv(location, false, v);"
    }
      , Px = {
        f32: "gl.uniform1fv(location, v);",
        "vec2<f32>": "gl.uniform2fv(location, v);",
        "vec3<f32>": "gl.uniform3fv(location, v);",
        "vec4<f32>": "gl.uniform4fv(location, v);",
        "mat2x2<f32>": "gl.uniformMatrix2fv(location, false, v);",
        "mat3x3<f32>": "gl.uniformMatrix3fv(location, false, v);",
        "mat4x4<f32>": "gl.uniformMatrix4fv(location, false, v);",
        i32: "gl.uniform1iv(location, v);",
        "vec2<i32>": "gl.uniform2iv(location, v);",
        "vec3<i32>": "gl.uniform3iv(location, v);",
        "vec4<i32>": "gl.uniform4iv(location, v);",
        u32: "gl.uniform1iv(location, v);",
        "vec2<u32>": "gl.uniform2iv(location, v);",
        "vec3<u32>": "gl.uniform3iv(location, v);",
        "vec4<u32>": "gl.uniform4iv(location, v);",
        bool: "gl.uniform1iv(location, v);",
        "vec2<bool>": "gl.uniform2iv(location, v);",
        "vec3<bool>": "gl.uniform3iv(location, v);",
        "vec4<bool>": "gl.uniform4iv(location, v);"
    };
    function Rx(a, e) {
        let t = [`
var v = null;
var cv = null;
var cu = null;
var t = 0;
var gl = renderer.gl;
var name = null;
`];
        for (let i in a.uniforms) {
            if (!e[i]) {
                a.uniforms[i]instanceof Je ? a.uniforms[i].ubo ? t.push(`
    renderer.shader.bindUniformBlock(uv.${i}, "${i}");
`) : t.push(`
    renderer.shader.updateUniformGroup(uv.${i});
`) : a.uniforms[i]instanceof Xr && t.push(`
    renderer.shader.bindBufferResource(uv.${i}, "${i}");
`);
                continue
            }
            let r = a.uniformStructures[i]
              , s = !1;
            for (let o = 0; o < Ka.length; o++) {
                let d = Ka[o];
                if (r.type === d.type && d.test(r)) {
                    t.push(`name = "${i}";`, Ka[o].uniform),
                    s = !0;
                    break
                }
            }
            if (!s) {
                let o = (r.size === 1 ? Ex : Px)[r.type].replace("location", `ud["${i}"].location`);
                t.push(`
cu = ud["${i}"];
cv = cu.value;
v = uv["${i}"];
${o};`)
            }
        }
        return new Function("ud","uv","renderer","syncData",t.join(`
`))
    }
    var io = class {
        constructor(e) {
            this._cache = {},
            this._uniformGroupSyncHash = {},
            this._renderer = e,
            this.gl = null,
            this._cache = {}
        }
        contextChange(e) {
            this.gl = e
        }
        updateUniformGroup(e, t, i) {
            let r = this._renderer.shader._getProgramData(t);
            (!e.isStatic || e._dirtyId !== r.uniformDirtyGroups[e.uid]) && (r.uniformDirtyGroups[e.uid] = e._dirtyId,
            this._getUniformSyncFunction(e, t)(r.uniformData, e.uniforms, this._renderer, i))
        }
        _getUniformSyncFunction(e, t) {
            var i;
            return ((i = this._uniformGroupSyncHash[e._signature]) == null ? void 0 : i[t._key]) || this._createUniformSyncFunction(e, t)
        }
        _createUniformSyncFunction(e, t) {
            let i = this._uniformGroupSyncHash[e._signature] || (this._uniformGroupSyncHash[e._signature] = {})
              , r = this._getSignature(e, t._uniformData, "u");
            return this._cache[r] || (this._cache[r] = this._generateUniformsSync(e, t._uniformData)),
            i[t._key] = this._cache[r],
            i[t._key]
        }
        _generateUniformsSync(e, t) {
            return Rx(e, t)
        }
        _getSignature(e, t, i) {
            let r = e.uniforms
              , s = [`${i}-`];
            for (let o in r)
                s.push(o),
                t[o] && s.push(t[o].type);
            return s.join("-")
        }
        destroy() {
            this._renderer = null,
            this._cache = null
        }
    }
    ;
    io.extension = {
        type: [B.WebGLSystem],
        name: "uniformGroup"
    };
    function Mx(a) {
        let e = {};
        if (e.normal = [a.ONE, a.ONE_MINUS_SRC_ALPHA],
        e.add = [a.ONE, a.ONE],
        e.multiply = [a.DST_COLOR, a.ONE_MINUS_SRC_ALPHA, a.ONE, a.ONE_MINUS_SRC_ALPHA],
        e.screen = [a.ONE, a.ONE_MINUS_SRC_COLOR, a.ONE, a.ONE_MINUS_SRC_ALPHA],
        e.none = [0, 0],
        e["normal-npm"] = [a.SRC_ALPHA, a.ONE_MINUS_SRC_ALPHA, a.ONE, a.ONE_MINUS_SRC_ALPHA],
        e["add-npm"] = [a.SRC_ALPHA, a.ONE, a.ONE, a.ONE],
        e["screen-npm"] = [a.SRC_ALPHA, a.ONE_MINUS_SRC_COLOR, a.ONE, a.ONE_MINUS_SRC_ALPHA],
        e.erase = [a.ZERO, a.ONE_MINUS_SRC_ALPHA],
        !(a instanceof xe.get().getWebGLRenderingContext()))
            e.min = [a.ONE, a.ONE, a.ONE, a.ONE, a.MIN, a.MIN],
            e.max = [a.ONE, a.ONE, a.ONE, a.ONE, a.MAX, a.MAX];
        else {
            let t = a.getExtension("EXT_blend_minmax");
            t && (e.min = [a.ONE, a.ONE, a.ONE, a.ONE, t.MIN_EXT, t.MIN_EXT],
            e.max = [a.ONE, a.ONE, a.ONE, a.ONE, t.MAX_EXT, t.MAX_EXT])
        }
        return e
    }
    var Cx = 0
      , Ox = 1
      , Ix = 2
      , Gx = 3
      , Bx = 4
      , Fx = 5
      , G3 = class $h {
        constructor() {
            this.gl = null,
            this.stateId = 0,
            this.polygonOffset = 0,
            this.blendMode = "none",
            this._blendEq = !1,
            this.map = [],
            this.map[Cx] = this.setBlend,
            this.map[Ox] = this.setOffset,
            this.map[Ix] = this.setCullFace,
            this.map[Gx] = this.setDepthTest,
            this.map[Bx] = this.setFrontFace,
            this.map[Fx] = this.setDepthMask,
            this.checks = [],
            this.defaultState = Et.for2d()
        }
        contextChange(e) {
            this.gl = e,
            this.blendModesMap = Mx(e),
            this.resetState()
        }
        set(e) {
            if (e || (e = this.defaultState),
            this.stateId !== e.data) {
                let t = this.stateId ^ e.data
                  , i = 0;
                for (; t; )
                    t & 1 && this.map[i].call(this, !!(e.data & 1 << i)),
                    t >>= 1,
                    i++;
                this.stateId = e.data
            }
            for (let t = 0; t < this.checks.length; t++)
                this.checks[t](this, e)
        }
        forceState(e) {
            e || (e = this.defaultState);
            for (let t = 0; t < this.map.length; t++)
                this.map[t].call(this, !!(e.data & 1 << t));
            for (let t = 0; t < this.checks.length; t++)
                this.checks[t](this, e);
            this.stateId = e.data
        }
        setBlend(e) {
            this._updateCheck($h._checkBlendMode, e),
            this.gl[e ? "enable" : "disable"](this.gl.BLEND)
        }
        setOffset(e) {
            this._updateCheck($h._checkPolygonOffset, e),
            this.gl[e ? "enable" : "disable"](this.gl.POLYGON_OFFSET_FILL)
        }
        setDepthTest(e) {
            this.gl[e ? "enable" : "disable"](this.gl.DEPTH_TEST)
        }
        setDepthMask(e) {
            this.gl.depthMask(e)
        }
        setCullFace(e) {
            this.gl[e ? "enable" : "disable"](this.gl.CULL_FACE)
        }
        setFrontFace(e) {
            this.gl.frontFace(this.gl[e ? "CW" : "CCW"])
        }
        setBlendMode(e) {
            if (this.blendModesMap[e] || (e = "normal"),
            e === this.blendMode)
                return;
            this.blendMode = e;
            let t = this.blendModesMap[e]
              , i = this.gl;
            t.length === 2 ? i.blendFunc(t[0], t[1]) : i.blendFuncSeparate(t[0], t[1], t[2], t[3]),
            t.length === 6 ? (this._blendEq = !0,
            i.blendEquationSeparate(t[4], t[5])) : this._blendEq && (this._blendEq = !1,
            i.blendEquationSeparate(i.FUNC_ADD, i.FUNC_ADD))
        }
        setPolygonOffset(e, t) {
            this.gl.polygonOffset(e, t)
        }
        resetState() {
            this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, !1),
            this.forceState(this.defaultState),
            this._blendEq = !0,
            this.blendMode = "",
            this.setBlendMode("normal")
        }
        _updateCheck(e, t) {
            let i = this.checks.indexOf(e);
            t && i === -1 ? this.checks.push(e) : !t && i !== -1 && this.checks.splice(i, 1)
        }
        static _checkBlendMode(e, t) {
            e.setBlendMode(t.blendMode)
        }
        static _checkPolygonOffset(e, t) {
            e.setPolygonOffset(1, t.polygonOffset)
        }
        destroy() {
            this.gl = null,
            this.checks.length = 0
        }
    }
    ;
    G3.extension = {
        type: [B.WebGLSystem],
        name: "state"
    };
    var Dx = G3
      , Kh = class {
        constructor(e) {
            this.target = S3.TEXTURE_2D,
            this.texture = e,
            this.width = -1,
            this.height = -1,
            this.type = Se.UNSIGNED_BYTE,
            this.internalFormat = Xh.RGBA,
            this.format = Xh.RGBA,
            this.samplerType = 0
        }
    }
      , kx = {
        id: "buffer",
        upload(a, e, t) {
            e.width === a.width || e.height === a.height ? t.texSubImage2D(t.TEXTURE_2D, 0, 0, 0, a.width, a.height, e.format, e.type, a.resource) : t.texImage2D(e.target, 0, e.internalFormat, a.width, a.height, 0, e.format, e.type, a.resource),
            e.width = a.width,
            e.height = a.height
        }
    }
      , Ux = {
        "bc1-rgba-unorm": !0,
        "bc1-rgba-unorm-srgb": !0,
        "bc2-rgba-unorm": !0,
        "bc2-rgba-unorm-srgb": !0,
        "bc3-rgba-unorm": !0,
        "bc3-rgba-unorm-srgb": !0,
        "bc4-r-unorm": !0,
        "bc4-r-snorm": !0,
        "bc5-rg-unorm": !0,
        "bc5-rg-snorm": !0,
        "bc6h-rgb-ufloat": !0,
        "bc6h-rgb-float": !0,
        "bc7-rgba-unorm": !0,
        "bc7-rgba-unorm-srgb": !0,
        "etc2-rgb8unorm": !0,
        "etc2-rgb8unorm-srgb": !0,
        "etc2-rgb8a1unorm": !0,
        "etc2-rgb8a1unorm-srgb": !0,
        "etc2-rgba8unorm": !0,
        "etc2-rgba8unorm-srgb": !0,
        "eac-r11unorm": !0,
        "eac-r11snorm": !0,
        "eac-rg11unorm": !0,
        "eac-rg11snorm": !0,
        "astc-4x4-unorm": !0,
        "astc-4x4-unorm-srgb": !0,
        "astc-5x4-unorm": !0,
        "astc-5x4-unorm-srgb": !0,
        "astc-5x5-unorm": !0,
        "astc-5x5-unorm-srgb": !0,
        "astc-6x5-unorm": !0,
        "astc-6x5-unorm-srgb": !0,
        "astc-6x6-unorm": !0,
        "astc-6x6-unorm-srgb": !0,
        "astc-8x5-unorm": !0,
        "astc-8x5-unorm-srgb": !0,
        "astc-8x6-unorm": !0,
        "astc-8x6-unorm-srgb": !0,
        "astc-8x8-unorm": !0,
        "astc-8x8-unorm-srgb": !0,
        "astc-10x5-unorm": !0,
        "astc-10x5-unorm-srgb": !0,
        "astc-10x6-unorm": !0,
        "astc-10x6-unorm-srgb": !0,
        "astc-10x8-unorm": !0,
        "astc-10x8-unorm-srgb": !0,
        "astc-10x10-unorm": !0,
        "astc-10x10-unorm-srgb": !0,
        "astc-12x10-unorm": !0,
        "astc-12x10-unorm-srgb": !0,
        "astc-12x12-unorm": !0,
        "astc-12x12-unorm-srgb": !0
    }
      , Lx = {
        id: "compressed",
        upload(a, e, t) {
            t.pixelStorei(t.UNPACK_ALIGNMENT, 4);
            let i = a.pixelWidth
              , r = a.pixelHeight
              , s = !!Ux[a.format];
            for (let o = 0; o < a.resource.length; o++) {
                let d = a.resource[o];
                s ? t.compressedTexImage2D(t.TEXTURE_2D, o, e.internalFormat, i, r, 0, d) : t.texImage2D(t.TEXTURE_2D, o, e.internalFormat, i, r, 0, e.format, e.type, d),
                i = Math.max(i >> 1, 1),
                r = Math.max(r >> 1, 1)
            }
        }
    }
      , B3 = {
        id: "image",
        upload(a, e, t, i) {
            let r = e.width
              , s = e.height
              , o = a.pixelWidth
              , d = a.pixelHeight
              , h = a.resourceWidth
              , l = a.resourceHeight;
            h < o || l < d ? ((r !== o || s !== d) && t.texImage2D(e.target, 0, e.internalFormat, o, d, 0, e.format, e.type, null),
            i === 2 ? t.texSubImage2D(t.TEXTURE_2D, 0, 0, 0, h, l, e.format, e.type, a.resource) : t.texSubImage2D(t.TEXTURE_2D, 0, 0, 0, e.format, e.type, a.resource)) : r === o && s === d ? t.texSubImage2D(t.TEXTURE_2D, 0, 0, 0, e.format, e.type, a.resource) : i === 2 ? t.texImage2D(e.target, 0, e.internalFormat, o, d, 0, e.format, e.type, a.resource) : t.texImage2D(e.target, 0, e.internalFormat, e.format, e.type, a.resource),
            e.width = o,
            e.height = d
        }
    }
      , Nx = {
        id: "video",
        upload(a, e, t, i) {
            if (!a.isValid) {
                t.texImage2D(e.target, 0, e.internalFormat, 1, 1, 0, e.format, e.type, null);
                return
            }
            B3.upload(a, e, t, i)
        }
    }
      , g1 = {
        linear: 9729,
        nearest: 9728
    }
      , jx = {
        linear: {
            linear: 9987,
            nearest: 9985
        },
        nearest: {
            linear: 9986,
            nearest: 9984
        }
    }
      , yd = {
        "clamp-to-edge": 33071,
        repeat: 10497,
        "mirror-repeat": 33648
    }
      , Xx = {
        never: 512,
        less: 513,
        equal: 514,
        "less-equal": 515,
        greater: 516,
        "not-equal": 517,
        "greater-equal": 518,
        always: 519
    };
    function m1(a, e, t, i, r, s, o, d) {
        let h = s;
        if (!d || a.addressModeU !== "repeat" || a.addressModeV !== "repeat" || a.addressModeW !== "repeat") {
            let l = yd[o ? "clamp-to-edge" : a.addressModeU]
              , u = yd[o ? "clamp-to-edge" : a.addressModeV]
              , p = yd[o ? "clamp-to-edge" : a.addressModeW];
            e[r](h, e.TEXTURE_WRAP_S, l),
            e[r](h, e.TEXTURE_WRAP_T, u),
            e.TEXTURE_WRAP_R && e[r](h, e.TEXTURE_WRAP_R, p)
        }
        if ((!d || a.magFilter !== "linear") && e[r](h, e.TEXTURE_MAG_FILTER, g1[a.magFilter]),
        t) {
            if (!d || a.mipmapFilter !== "linear") {
                let l = jx[a.minFilter][a.mipmapFilter];
                e[r](h, e.TEXTURE_MIN_FILTER, l)
            }
        } else
            e[r](h, e.TEXTURE_MIN_FILTER, g1[a.minFilter]);
        if (i && a.maxAnisotropy > 1) {
            let l = Math.min(a.maxAnisotropy, e.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));
            e[r](h, i.TEXTURE_MAX_ANISOTROPY_EXT, l)
        }
        a.compare && e[r](h, e.TEXTURE_COMPARE_FUNC, Xx[a.compare])
    }
    function Hx(a) {
        return {
            r8unorm: a.RED,
            r8snorm: a.RED,
            r8uint: a.RED,
            r8sint: a.RED,
            r16uint: a.RED,
            r16sint: a.RED,
            r16float: a.RED,
            rg8unorm: a.RG,
            rg8snorm: a.RG,
            rg8uint: a.RG,
            rg8sint: a.RG,
            r32uint: a.RED,
            r32sint: a.RED,
            r32float: a.RED,
            rg16uint: a.RG,
            rg16sint: a.RG,
            rg16float: a.RG,
            rgba8unorm: a.RGBA,
            "rgba8unorm-srgb": a.RGBA,
            rgba8snorm: a.RGBA,
            rgba8uint: a.RGBA,
            rgba8sint: a.RGBA,
            bgra8unorm: a.RGBA,
            "bgra8unorm-srgb": a.RGBA,
            rgb9e5ufloat: a.RGB,
            rgb10a2unorm: a.RGBA,
            rg11b10ufloat: a.RGB,
            rg32uint: a.RG,
            rg32sint: a.RG,
            rg32float: a.RG,
            rgba16uint: a.RGBA,
            rgba16sint: a.RGBA,
            rgba16float: a.RGBA,
            rgba32uint: a.RGBA,
            rgba32sint: a.RGBA,
            rgba32float: a.RGBA,
            stencil8: a.STENCIL_INDEX8,
            depth16unorm: a.DEPTH_COMPONENT,
            depth24plus: a.DEPTH_COMPONENT,
            "depth24plus-stencil8": a.DEPTH_STENCIL,
            depth32float: a.DEPTH_COMPONENT,
            "depth32float-stencil8": a.DEPTH_STENCIL
        }
    }
    var zx = Object.defineProperty
      , Vx = Object.defineProperties
      , Wx = Object.getOwnPropertyDescriptors
      , _1 = Object.getOwnPropertySymbols
      , Yx = Object.prototype.hasOwnProperty
      , $x = Object.prototype.propertyIsEnumerable
      , y1 = (a, e, t) => e in a ? zx(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , ja = (a, e) => {
        for (var t in e || (e = {}))
            Yx.call(e, t) && y1(a, t, e[t]);
        if (_1)
            for (var t of _1(e))
                $x.call(e, t) && y1(a, t, e[t]);
        return a
    }
      , Kx = (a, e) => Vx(a, Wx(e));
    function qx(a, e) {
        let t = {}
          , i = a.RGBA;
        return a instanceof xe.get().getWebGLRenderingContext() ? e.srgb && (t = {
            "rgba8unorm-srgb": e.srgb.SRGB8_ALPHA8_EXT,
            "bgra8unorm-srgb": e.srgb.SRGB8_ALPHA8_EXT
        }) : (t = {
            "rgba8unorm-srgb": a.SRGB8_ALPHA8,
            "bgra8unorm-srgb": a.SRGB8_ALPHA8
        },
        i = a.RGBA8),
        ja(ja(ja(ja(ja(ja(Kx(ja({
            r8unorm: a.R8,
            r8snorm: a.R8_SNORM,
            r8uint: a.R8UI,
            r8sint: a.R8I,
            r16uint: a.R16UI,
            r16sint: a.R16I,
            r16float: a.R16F,
            rg8unorm: a.RG8,
            rg8snorm: a.RG8_SNORM,
            rg8uint: a.RG8UI,
            rg8sint: a.RG8I,
            r32uint: a.R32UI,
            r32sint: a.R32I,
            r32float: a.R32F,
            rg16uint: a.RG16UI,
            rg16sint: a.RG16I,
            rg16float: a.RG16F,
            rgba8unorm: a.RGBA
        }, t), {
            rgba8snorm: a.RGBA8_SNORM,
            rgba8uint: a.RGBA8UI,
            rgba8sint: a.RGBA8I,
            bgra8unorm: i,
            rgb9e5ufloat: a.RGB9_E5,
            rgb10a2unorm: a.RGB10_A2,
            rg11b10ufloat: a.R11F_G11F_B10F,
            rg32uint: a.RG32UI,
            rg32sint: a.RG32I,
            rg32float: a.RG32F,
            rgba16uint: a.RGBA16UI,
            rgba16sint: a.RGBA16I,
            rgba16float: a.RGBA16F,
            rgba32uint: a.RGBA32UI,
            rgba32sint: a.RGBA32I,
            rgba32float: a.RGBA32F,
            stencil8: a.STENCIL_INDEX8,
            depth16unorm: a.DEPTH_COMPONENT16,
            depth24plus: a.DEPTH_COMPONENT24,
            "depth24plus-stencil8": a.DEPTH24_STENCIL8,
            depth32float: a.DEPTH_COMPONENT32F,
            "depth32float-stencil8": a.DEPTH32F_STENCIL8
        }), e.s3tc ? {
            "bc1-rgba-unorm": e.s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT,
            "bc2-rgba-unorm": e.s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT,
            "bc3-rgba-unorm": e.s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT
        } : {}), e.s3tc_sRGB ? {
            "bc1-rgba-unorm-srgb": e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,
            "bc2-rgba-unorm-srgb": e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,
            "bc3-rgba-unorm-srgb": e.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT
        } : {}), e.rgtc ? {
            "bc4-r-unorm": e.rgtc.COMPRESSED_RED_RGTC1_EXT,
            "bc4-r-snorm": e.rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT,
            "bc5-rg-unorm": e.rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT,
            "bc5-rg-snorm": e.rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT
        } : {}), e.bptc ? {
            "bc6h-rgb-float": e.bptc.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,
            "bc6h-rgb-ufloat": e.bptc.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,
            "bc7-rgba-unorm": e.bptc.COMPRESSED_RGBA_BPTC_UNORM_EXT,
            "bc7-rgba-unorm-srgb": e.bptc.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT
        } : {}), e.etc ? {
            "etc2-rgb8unorm": e.etc.COMPRESSED_RGB8_ETC2,
            "etc2-rgb8unorm-srgb": e.etc.COMPRESSED_SRGB8_ETC2,
            "etc2-rgb8a1unorm": e.etc.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,
            "etc2-rgb8a1unorm-srgb": e.etc.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,
            "etc2-rgba8unorm": e.etc.COMPRESSED_RGBA8_ETC2_EAC,
            "etc2-rgba8unorm-srgb": e.etc.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,
            "eac-r11unorm": e.etc.COMPRESSED_R11_EAC,
            "eac-rg11unorm": e.etc.COMPRESSED_SIGNED_RG11_EAC
        } : {}), e.astc ? {
            "astc-4x4-unorm": e.astc.COMPRESSED_RGBA_ASTC_4x4_KHR,
            "astc-4x4-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,
            "astc-5x4-unorm": e.astc.COMPRESSED_RGBA_ASTC_5x4_KHR,
            "astc-5x4-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR,
            "astc-5x5-unorm": e.astc.COMPRESSED_RGBA_ASTC_5x5_KHR,
            "astc-5x5-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,
            "astc-6x5-unorm": e.astc.COMPRESSED_RGBA_ASTC_6x5_KHR,
            "astc-6x5-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,
            "astc-6x6-unorm": e.astc.COMPRESSED_RGBA_ASTC_6x6_KHR,
            "astc-6x6-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,
            "astc-8x5-unorm": e.astc.COMPRESSED_RGBA_ASTC_8x5_KHR,
            "astc-8x5-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,
            "astc-8x6-unorm": e.astc.COMPRESSED_RGBA_ASTC_8x6_KHR,
            "astc-8x6-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,
            "astc-8x8-unorm": e.astc.COMPRESSED_RGBA_ASTC_8x8_KHR,
            "astc-8x8-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,
            "astc-10x5-unorm": e.astc.COMPRESSED_RGBA_ASTC_10x5_KHR,
            "astc-10x5-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,
            "astc-10x6-unorm": e.astc.COMPRESSED_RGBA_ASTC_10x6_KHR,
            "astc-10x6-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,
            "astc-10x8-unorm": e.astc.COMPRESSED_RGBA_ASTC_10x8_KHR,
            "astc-10x8-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,
            "astc-10x10-unorm": e.astc.COMPRESSED_RGBA_ASTC_10x10_KHR,
            "astc-10x10-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,
            "astc-12x10-unorm": e.astc.COMPRESSED_RGBA_ASTC_12x10_KHR,
            "astc-12x10-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,
            "astc-12x12-unorm": e.astc.COMPRESSED_RGBA_ASTC_12x12_KHR,
            "astc-12x12-unorm-srgb": e.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR
        } : {})
    }
    function Zx(a) {
        return {
            r8unorm: a.UNSIGNED_BYTE,
            r8snorm: a.BYTE,
            r8uint: a.UNSIGNED_BYTE,
            r8sint: a.BYTE,
            r16uint: a.UNSIGNED_SHORT,
            r16sint: a.SHORT,
            r16float: a.HALF_FLOAT,
            rg8unorm: a.UNSIGNED_BYTE,
            rg8snorm: a.BYTE,
            rg8uint: a.UNSIGNED_BYTE,
            rg8sint: a.BYTE,
            r32uint: a.UNSIGNED_INT,
            r32sint: a.INT,
            r32float: a.FLOAT,
            rg16uint: a.UNSIGNED_SHORT,
            rg16sint: a.SHORT,
            rg16float: a.HALF_FLOAT,
            rgba8unorm: a.UNSIGNED_BYTE,
            "rgba8unorm-srgb": a.UNSIGNED_BYTE,
            rgba8snorm: a.BYTE,
            rgba8uint: a.UNSIGNED_BYTE,
            rgba8sint: a.BYTE,
            bgra8unorm: a.UNSIGNED_BYTE,
            "bgra8unorm-srgb": a.UNSIGNED_BYTE,
            rgb9e5ufloat: a.UNSIGNED_INT_5_9_9_9_REV,
            rgb10a2unorm: a.UNSIGNED_INT_2_10_10_10_REV,
            rg11b10ufloat: a.UNSIGNED_INT_10F_11F_11F_REV,
            rg32uint: a.UNSIGNED_INT,
            rg32sint: a.INT,
            rg32float: a.FLOAT,
            rgba16uint: a.UNSIGNED_SHORT,
            rgba16sint: a.SHORT,
            rgba16float: a.HALF_FLOAT,
            rgba32uint: a.UNSIGNED_INT,
            rgba32sint: a.INT,
            rgba32float: a.FLOAT,
            stencil8: a.UNSIGNED_BYTE,
            depth16unorm: a.UNSIGNED_SHORT,
            depth24plus: a.UNSIGNED_INT,
            "depth24plus-stencil8": a.UNSIGNED_INT_24_8,
            depth32float: a.FLOAT,
            "depth32float-stencil8": a.FLOAT_32_UNSIGNED_INT_24_8_REV
        }
    }
    var Qx = 4
      , ro = class {
        constructor(e) {
            this.managedTextures = [],
            this._glTextures = Object.create(null),
            this._glSamplers = Object.create(null),
            this._boundTextures = [],
            this._activeTextureLocation = -1,
            this._boundSamplers = Object.create(null),
            this._uploads = {
                image: B3,
                buffer: kx,
                video: Nx,
                compressed: Lx
            },
            this._premultiplyAlpha = !1,
            this._useSeparateSamplers = !1,
            this._renderer = e,
            this._renderer.renderableGC.addManagedHash(this, "_glTextures"),
            this._renderer.renderableGC.addManagedHash(this, "_glSamplers")
        }
        contextChange(e) {
            this._gl = e,
            this._mapFormatToInternalFormat || (this._mapFormatToInternalFormat = qx(e, this._renderer.context.extensions),
            this._mapFormatToType = Zx(e),
            this._mapFormatToFormat = Hx(e)),
            this._glTextures = Object.create(null),
            this._glSamplers = Object.create(null),
            this._boundSamplers = Object.create(null),
            this._premultiplyAlpha = !1;
            for (let t = 0; t < 16; t++)
                this.bind(K.EMPTY, t)
        }
        initSource(e) {
            this.bind(e)
        }
        bind(e, t=0) {
            let i = e.source;
            e ? (this.bindSource(i, t),
            this._useSeparateSamplers && this._bindSampler(i.style, t)) : (this.bindSource(null, t),
            this._useSeparateSamplers && this._bindSampler(null, t))
        }
        bindSource(e, t=0) {
            let i = this._gl;
            if (e._touched = this._renderer.textureGC.count,
            this._boundTextures[t] !== e) {
                this._boundTextures[t] = e,
                this._activateLocation(t),
                e || (e = K.EMPTY.source);
                let r = this.getGlSource(e);
                i.bindTexture(r.target, r.texture)
            }
        }
        _bindSampler(e, t=0) {
            let i = this._gl;
            if (!e) {
                this._boundSamplers[t] = null,
                i.bindSampler(t, null);
                return
            }
            let r = this._getGlSampler(e);
            this._boundSamplers[t] !== r && (this._boundSamplers[t] = r,
            i.bindSampler(t, r))
        }
        unbind(e) {
            let t = e.source
              , i = this._boundTextures
              , r = this._gl;
            for (let s = 0; s < i.length; s++)
                if (i[s] === t) {
                    this._activateLocation(s);
                    let o = this.getGlSource(t);
                    r.bindTexture(o.target, null),
                    i[s] = null
                }
        }
        _activateLocation(e) {
            this._activeTextureLocation !== e && (this._activeTextureLocation = e,
            this._gl.activeTexture(this._gl.TEXTURE0 + e))
        }
        _initSource(e) {
            let t = this._gl
              , i = new Kh(t.createTexture());
            if (i.type = this._mapFormatToType[e.format],
            i.internalFormat = this._mapFormatToInternalFormat[e.format],
            i.format = this._mapFormatToFormat[e.format],
            e.autoGenerateMipmaps && (this._renderer.context.supports.nonPowOf2mipmaps || e.isPowerOfTwo)) {
                let r = Math.max(e.width, e.height);
                e.mipLevelCount = Math.floor(Math.log2(r)) + 1
            }
            return this._glTextures[e.uid] = i,
            this.managedTextures.includes(e) || (e.on("update", this.onSourceUpdate, this),
            e.on("resize", this.onSourceUpdate, this),
            e.on("styleChange", this.onStyleChange, this),
            e.on("destroy", this.onSourceDestroy, this),
            e.on("unload", this.onSourceUnload, this),
            e.on("updateMipmaps", this.onUpdateMipmaps, this),
            this.managedTextures.push(e)),
            this.onSourceUpdate(e),
            this.updateStyle(e, !1),
            i
        }
        onStyleChange(e) {
            this.updateStyle(e, !1)
        }
        updateStyle(e, t) {
            let i = this._gl
              , r = this.getGlSource(e);
            i.bindTexture(i.TEXTURE_2D, r.texture),
            this._boundTextures[this._activeTextureLocation] = e,
            m1(e.style, i, e.mipLevelCount > 1, this._renderer.context.extensions.anisotropicFiltering, "texParameteri", i.TEXTURE_2D, !this._renderer.context.supports.nonPowOf2wrapping && !e.isPowerOfTwo, t)
        }
        onSourceUnload(e) {
            let t = this._glTextures[e.uid];
            t && (this.unbind(e),
            this._glTextures[e.uid] = null,
            this._gl.deleteTexture(t.texture))
        }
        onSourceUpdate(e) {
            let t = this._gl
              , i = this.getGlSource(e);
            t.bindTexture(t.TEXTURE_2D, i.texture),
            this._boundTextures[this._activeTextureLocation] = e;
            let r = e.alphaMode === "premultiply-alpha-on-upload";
            this._premultiplyAlpha !== r && (this._premultiplyAlpha = r,
            t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL, r)),
            this._uploads[e.uploadMethodId] ? this._uploads[e.uploadMethodId].upload(e, i, t, this._renderer.context.webGLVersion) : t.texImage2D(t.TEXTURE_2D, 0, t.RGBA, e.pixelWidth, e.pixelHeight, 0, t.RGBA, t.UNSIGNED_BYTE, null),
            e.autoGenerateMipmaps && e.mipLevelCount > 1 && this.onUpdateMipmaps(e, !1)
        }
        onUpdateMipmaps(e, t=!0) {
            t && this.bindSource(e, 0);
            let i = this.getGlSource(e);
            this._gl.generateMipmap(i.target)
        }
        onSourceDestroy(e) {
            e.off("destroy", this.onSourceDestroy, this),
            e.off("update", this.onSourceUpdate, this),
            e.off("resize", this.onSourceUpdate, this),
            e.off("unload", this.onSourceUnload, this),
            e.off("styleChange", this.onStyleChange, this),
            e.off("updateMipmaps", this.onUpdateMipmaps, this),
            this.managedTextures.splice(this.managedTextures.indexOf(e), 1),
            this.onSourceUnload(e)
        }
        _initSampler(e) {
            let t = this._gl
              , i = this._gl.createSampler();
            return this._glSamplers[e._resourceId] = i,
            m1(e, t, this._boundTextures[this._activeTextureLocation].mipLevelCount > 1, this._renderer.context.extensions.anisotropicFiltering, "samplerParameteri", i, !1, !0),
            this._glSamplers[e._resourceId]
        }
        _getGlSampler(e) {
            return this._glSamplers[e._resourceId] || this._initSampler(e)
        }
        getGlSource(e) {
            return this._glTextures[e.uid] || this._initSource(e)
        }
        generateCanvas(e) {
            let {pixels: t, width: i, height: r} = this.getPixels(e)
              , s = xe.get().createCanvas();
            s.width = i,
            s.height = r;
            let o = s.getContext("2d");
            if (o) {
                let d = o.createImageData(i, r);
                d.data.set(t),
                o.putImageData(d, 0, 0)
            }
            return s
        }
        getPixels(e) {
            let t = e.source.resolution
              , i = e.frame
              , r = Math.max(Math.round(i.width * t), 1)
              , s = Math.max(Math.round(i.height * t), 1)
              , o = new Uint8Array(Qx * r * s)
              , d = this._renderer
              , h = d.renderTarget.getRenderTarget(e)
              , l = d.renderTarget.getGpuRenderTarget(h)
              , u = d.gl;
            return u.bindFramebuffer(u.FRAMEBUFFER, l.resolveTargetFramebuffer),
            u.readPixels(Math.round(i.x * t), Math.round(i.y * t), r, s, u.RGBA, u.UNSIGNED_BYTE, o),
            {
                pixels: new Uint8ClampedArray(o.buffer),
                width: r,
                height: s
            }
        }
        destroy() {
            this.managedTextures.slice().forEach(e => this.onSourceDestroy(e)),
            this.managedTextures = null,
            this._renderer = null
        }
        resetState() {
            this._activeTextureLocation = -1,
            this._boundTextures.fill(K.EMPTY.source),
            this._boundSamplers = Object.create(null)
        }
    }
    ;
    ro.extension = {
        type: [B.WebGLSystem],
        name: "texture"
    };
    var so = class {
        init() {
            let e = new Je({
                uColor: {
                    value: new Float32Array([1, 1, 1, 1]),
                    type: "vec4<f32>"
                },
                uTransformMatrix: {
                    value: new ie,
                    type: "mat3x3<f32>"
                },
                uRound: {
                    value: 0,
                    type: "f32"
                }
            })
              , t = Ii()
              , i = Wr({
                name: "graphics",
                bits: [xl, Tl(t), El, $r]
            });
            this.shader = new ht({
                glProgram: i,
                resources: {
                    localUniforms: e,
                    batchSamplers: Sl(t)
                }
            })
        }
        execute(e, t) {
            let i = t.context
              , r = i.customShader || this.shader
              , s = e.renderer
              , o = s.graphicsContext
              , {batcher: d, instructions: h} = o.getContextRenderData(i);
            r.groups[0] = s.globalUniforms.bindGroup,
            s.state.set(e.state),
            s.shader.bind(r),
            s.geometry.bind(d.geometry, r.glProgram);
            let l = h.instructions;
            for (let u = 0; u < h.instructionSize; u++) {
                let p = l[u];
                if (p.size) {
                    for (let y = 0; y < p.textures.count; y++)
                        s.texture.bind(p.textures.textures[y], y);
                    s.geometry.draw(p.topology, p.size, p.start)
                }
            }
        }
        destroy() {
            this.shader.destroy(!0),
            this.shader = null
        }
    }
    ;
    so.extension = {
        type: [B.WebGLPipesAdaptor],
        name: "graphics"
    };
    var no = class {
        init() {
            let e = Wr({
                name: "mesh",
                bits: [El, By, $r]
            });
            this._shader = new ht({
                glProgram: e,
                resources: {
                    uTexture: K.EMPTY.source,
                    textureUniforms: {
                        uTextureMatrix: {
                            type: "mat3x3<f32>",
                            value: new ie
                        }
                    }
                }
            })
        }
        execute(e, t) {
            let i = e.renderer
              , r = t._shader;
            if (r) {
                if (!r.glProgram)
                    return
            } else {
                r = this._shader;
                let s = t.texture
                  , o = s.source;
                r.resources.uTexture = o,
                r.resources.uSampler = o.style,
                r.resources.textureUniforms.uniforms.uTextureMatrix = s.textureMatrix.mapCoord
            }
            r.groups[100] = i.globalUniforms.bindGroup,
            r.groups[101] = e.localUniformsBindGroup,
            i.encoder.draw({
                geometry: t._geometry,
                shader: r,
                state: t.state
            })
        }
        destroy() {
            this._shader.destroy(!0),
            this._shader = null
        }
    }
    ;
    no.extension = {
        type: [B.WebGLPipesAdaptor],
        name: "mesh"
    };
    var oo = class {
        constructor(e) {
            this._renderer = e
        }
        updateRenderable() {}
        destroyRenderable() {}
        validateRenderable() {
            return !1
        }
        addRenderable(e, t) {
            this._renderer.renderPipes.batch.break(t),
            t.add(e)
        }
        execute(e) {
            e.isRenderable && e.render(this._renderer)
        }
        destroy() {
            this._renderer = null
        }
    }
    ;
    oo.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "customRender"
    };
    function qh(a, e) {
        let t = a.instructionSet
          , i = t.instructions;
        for (let r = 0; r < t.instructionSize; r++) {
            let s = i[r];
            e[s.renderPipeId].execute(s)
        }
    }
    var Jx = new ie
      , co = class {
        constructor(e) {
            this._renderer = e
        }
        addRenderGroup(e, t) {
            e.isCachedAsTexture ? this._addRenderableCacheAsTexture(e, t) : this._addRenderableDirect(e, t)
        }
        execute(e) {
            e.isRenderable && (e.isCachedAsTexture ? this._executeCacheAsTexture(e) : this._executeDirect(e))
        }
        destroy() {
            this._renderer = null
        }
        _addRenderableDirect(e, t) {
            this._renderer.renderPipes.batch.break(t),
            e._batchableRenderGroup && (ye.return(e._batchableRenderGroup),
            e._batchableRenderGroup = null),
            t.add(e)
        }
        _addRenderableCacheAsTexture(e, t) {
            var i;
            let r = (i = e._batchableRenderGroup) != null ? i : e._batchableRenderGroup = ye.get(Ri);
            r.renderable = e.root,
            r.transform = e.root.relativeGroupTransform,
            r.texture = e.texture,
            r.bounds = e._textureBounds,
            t.add(e),
            this._renderer.renderPipes.batch.addToBatch(r, t)
        }
        _executeCacheAsTexture(e) {
            if (e.textureNeedsUpdate) {
                e.textureNeedsUpdate = !1;
                let t = Jx.identity().translate(-e._textureBounds.x, -e._textureBounds.y);
                this._renderer.renderTarget.push(e.texture, !0, null, e.texture.frame),
                this._renderer.globalUniforms.push({
                    worldTransformMatrix: t,
                    worldColor: 4294967295
                }),
                qh(e, this._renderer.renderPipes),
                this._renderer.renderTarget.finishRenderPass(),
                this._renderer.renderTarget.pop(),
                this._renderer.globalUniforms.pop()
            }
            e._batchableRenderGroup._batcher.updateElement(e._batchableRenderGroup),
            e._batchableRenderGroup._batcher.geometry.buffers[0].update()
        }
        _executeDirect(e) {
            this._renderer.globalUniforms.push({
                worldTransformMatrix: e.inverseParentTextureTransform,
                worldColor: e.worldColorAlpha
            }),
            qh(e, this._renderer.renderPipes),
            this._renderer.globalUniforms.pop()
        }
    }
    ;
    co.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "renderGroup"
    };
    function Zh(a, e) {
        e || (e = 0);
        for (let t = e; t < a.length && a[t]; t++)
            a[t] = null
    }
    var ev = new le
      , x1 = vr | Ws | ml;
    function F3(a, e=!1) {
        tv(a);
        let t = a.childrenToUpdate
          , i = a.updateTick++;
        for (let r in t) {
            let s = Number(r)
              , o = t[r]
              , d = o.list
              , h = o.index;
            for (let l = 0; l < h; l++) {
                let u = d[l];
                u.parentRenderGroup === a && u.relativeRenderGroupDepth === s && D3(u, i, 0)
            }
            Zh(d, h),
            o.index = 0
        }
        if (e)
            for (let r = 0; r < a.renderGroupChildren.length; r++)
                F3(a.renderGroupChildren[r], e)
    }
    function tv(a) {
        let e = a.root, t;
        if (a.renderGroupParent) {
            let i = a.renderGroupParent;
            a.worldTransform.appendFrom(e.relativeGroupTransform, i.worldTransform),
            a.worldColor = Hs(e.groupColor, i.worldColor),
            t = e.groupAlpha * i.worldAlpha
        } else
            a.worldTransform.copyFrom(e.localTransform),
            a.worldColor = e.localColor,
            t = e.localAlpha;
        t = t < 0 ? 0 : t > 1 ? 1 : t,
        a.worldAlpha = t,
        a.worldColorAlpha = a.worldColor + ((t * 255 | 0) << 24)
    }
    function D3(a, e, t) {
        if (e === a.updateTick)
            return;
        a.updateTick = e,
        a.didChange = !1;
        let i = a.localTransform;
        a.updateLocalTransform();
        let r = a.parent;
        if (r && !r.renderGroup ? (t |= a._updateFlags,
        a.relativeGroupTransform.appendFrom(i, r.relativeGroupTransform),
        t & x1 && v1(a, r, t)) : (t = a._updateFlags,
        a.relativeGroupTransform.copyFrom(i),
        t & x1 && v1(a, ev, t)),
        !a.renderGroup) {
            let s = a.children
              , o = s.length;
            for (let l = 0; l < o; l++)
                D3(s[l], e, t);
            let d = a.parentRenderGroup
              , h = a;
            h.renderPipeId && !d.structureDidChange && d.updateRenderable(h)
        }
    }
    function v1(a, e, t) {
        if (t & Ws) {
            a.groupColor = Hs(a.localColor, e.groupColor);
            let i = a.localAlpha * e.groupAlpha;
            i = i < 0 ? 0 : i > 1 ? 1 : i,
            a.groupAlpha = i,
            a.groupColorAlpha = a.groupColor + ((i * 255 | 0) << 24)
        }
        t & ml && (a.groupBlendMode = a.localBlendMode === "inherit" ? e.groupBlendMode : a.localBlendMode),
        t & vr && (a.globalDisplayStatus = a.localDisplayStatus & e.globalDisplayStatus),
        a._updateFlags = 0
    }
    function av(a, e) {
        let {list: t, index: i} = a.childrenRenderablesToUpdate
          , r = !1;
        for (let s = 0; s < i; s++) {
            let o = t[s];
            if (r = e[o.renderPipeId].validateRenderable(o),
            r)
                break
        }
        return a.structureDidChange = r,
        r
    }
    var iv = new ie
      , ho = class {
        constructor(e) {
            this._renderer = e
        }
        render({container: e, transform: t}) {
            let i = e.parent
              , r = e.renderGroup.renderGroupParent;
            e.parent = null,
            e.renderGroup.renderGroupParent = null;
            let s = this._renderer
              , o = iv;
            t && (o = o.copyFrom(e.renderGroup.localTransform),
            e.renderGroup.localTransform.copyFrom(t));
            let d = s.renderPipes;
            this._updateCachedRenderGroups(e.renderGroup, null),
            this._updateRenderGroups(e.renderGroup),
            s.globalUniforms.start({
                worldTransformMatrix: t ? e.renderGroup.localTransform : e.renderGroup.worldTransform,
                worldColor: e.renderGroup.worldColorAlpha
            }),
            qh(e.renderGroup, d),
            d.uniformBatch && d.uniformBatch.renderEnd(),
            t && e.renderGroup.localTransform.copyFrom(o),
            e.parent = i,
            e.renderGroup.renderGroupParent = r
        }
        destroy() {
            this._renderer = null
        }
        _updateCachedRenderGroups(e, t) {
            var i;
            if (e.isCachedAsTexture) {
                if (!e.updateCacheTexture)
                    return;
                t = e
            }
            e._parentCacheAsTextureRenderGroup = t;
            for (let r = e.renderGroupChildren.length - 1; r >= 0; r--)
                this._updateCachedRenderGroups(e.renderGroupChildren[r], t);
            if (e.invalidateMatrices(),
            e.isCachedAsTexture) {
                if (e.textureNeedsUpdate) {
                    let r = e.root.getLocalBounds();
                    r.ceil();
                    let s = e.texture;
                    e.texture && ze.returnTexture(e.texture);
                    let o = this._renderer
                      , d = e.textureOptions.resolution || o.view.resolution
                      , h = (i = e.textureOptions.antialias) != null ? i : o.view.antialias;
                    e.texture = ze.getOptimalTexture(r.width, r.height, d, h),
                    e._textureBounds || (e._textureBounds = new qe),
                    e._textureBounds.copyFrom(r),
                    s !== e.texture && e.renderGroupParent && (e.renderGroupParent.structureDidChange = !0)
                }
            } else
                e.texture && (ze.returnTexture(e.texture),
                e.texture = null)
        }
        _updateRenderGroups(e) {
            let t = this._renderer
              , i = t.renderPipes;
            if (e.runOnRender(t),
            e.instructionSet.renderPipes = i,
            e.structureDidChange ? Zh(e.childrenRenderablesToUpdate.list, 0) : av(e, i),
            F3(e),
            e.structureDidChange ? (e.structureDidChange = !1,
            this._buildInstructions(e, t)) : this._updateRenderables(e),
            e.childrenRenderablesToUpdate.index = 0,
            t.renderPipes.batch.upload(e.instructionSet),
            !(e.isCachedAsTexture && !e.textureNeedsUpdate))
                for (let r = 0; r < e.renderGroupChildren.length; r++)
                    this._updateRenderGroups(e.renderGroupChildren[r])
        }
        _updateRenderables(e) {
            let {list: t, index: i} = e.childrenRenderablesToUpdate;
            for (let r = 0; r < i; r++) {
                let s = t[r];
                s.didViewUpdate && e.updateRenderable(s)
            }
            Zh(t, i)
        }
        _buildInstructions(e, t) {
            let i = e.root
              , r = e.instructionSet;
            r.reset();
            let s = t.renderPipes ? t : t.batch.renderer
              , o = s.renderPipes;
            o.batch.buildStart(r),
            o.blendMode.buildStart(),
            o.colorMask.buildStart(),
            i.sortableChildren && i.sortChildren(),
            i.collectRenderablesWithEffects(r, s, null),
            o.batch.buildEnd(r),
            o.blendMode.buildEnd(r)
        }
    }
    ;
    ho.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem, B.CanvasSystem],
        name: "renderGroup"
    };
    var lo = class {
        constructor(e) {
            this._gpuSpriteHash = Object.create(null),
            this._destroyRenderableBound = this.destroyRenderable.bind(this),
            this._renderer = e,
            this._renderer.renderableGC.addManagedHash(this, "_gpuSpriteHash")
        }
        addRenderable(e, t) {
            let i = this._getGpuSprite(e);
            e.didViewUpdate && this._updateBatchableSprite(e, i),
            this._renderer.renderPipes.batch.addToBatch(i, t)
        }
        updateRenderable(e) {
            let t = this._gpuSpriteHash[e.uid];
            e.didViewUpdate && this._updateBatchableSprite(e, t),
            t._batcher.updateElement(t)
        }
        validateRenderable(e) {
            let t = this._getGpuSprite(e);
            return !t._batcher.checkAndUpdateTexture(t, e._texture)
        }
        destroyRenderable(e) {
            let t = this._gpuSpriteHash[e.uid];
            ye.return(t),
            this._gpuSpriteHash[e.uid] = null,
            e.off("destroyed", this._destroyRenderableBound)
        }
        _updateBatchableSprite(e, t) {
            t.bounds = e.visualBounds,
            t.texture = e._texture
        }
        _getGpuSprite(e) {
            return this._gpuSpriteHash[e.uid] || this._initGPUSprite(e)
        }
        _initGPUSprite(e) {
            let t = ye.get(Ri);
            return t.renderable = e,
            t.transform = e.groupTransform,
            t.texture = e._texture,
            t.bounds = e.visualBounds,
            t.roundPixels = this._renderer._roundPixels | e._roundPixels,
            this._gpuSpriteHash[e.uid] = t,
            e.on("destroyed", this._destroyRenderableBound),
            t
        }
        destroy() {
            for (let e in this._gpuSpriteHash)
                ye.return(this._gpuSpriteHash[e]);
            this._gpuSpriteHash = null,
            this._renderer = null
        }
    }
    ;
    lo.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "sprite"
    };
    var rv = Object.defineProperty
      , T1 = Object.getOwnPropertySymbols
      , sv = Object.prototype.hasOwnProperty
      , nv = Object.prototype.propertyIsEnumerable
      , S1 = (a, e, t) => e in a ? rv(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , w1 = (a, e) => {
        for (var t in e || (e = {}))
            sv.call(e, t) && S1(a, t, e[t]);
        if (T1)
            for (var t of T1(e))
                nv.call(e, t) && S1(a, t, e[t]);
        return a
    }
      , Qh = class k3 {
        constructor() {
            this.clearBeforeRender = !0,
            this._backgroundColor = new Ee(0),
            this.color = this._backgroundColor,
            this.alpha = 1
        }
        init(e) {
            e = w1(w1({}, k3.defaultOptions), e),
            this.clearBeforeRender = e.clearBeforeRender,
            this.color = e.background || e.backgroundColor || this._backgroundColor,
            this.alpha = e.backgroundAlpha,
            this._backgroundColor.setAlpha(e.backgroundAlpha)
        }
        get color() {
            return this._backgroundColor
        }
        set color(e) {
            this._backgroundColor.setValue(e)
        }
        get alpha() {
            return this._backgroundColor.alpha
        }
        set alpha(e) {
            this._backgroundColor.setAlpha(e)
        }
        get colorRgba() {
            return this._backgroundColor.toArray()
        }
        destroy() {}
    }
    ;
    Qh.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem, B.CanvasSystem],
        name: "background",
        priority: 0
    },
    Qh.defaultOptions = {
        backgroundAlpha: 1,
        backgroundColor: 0,
        clearBeforeRender: !0
    };
    var ov = Qh
      , Pr = {};
    pe.handle(B.BlendMode, a => {
        if (!a.name)
            throw new Error("BlendMode extension must have a name property");
        Pr[a.name] = a.ref
    }
    , a => {
        delete Pr[a.name]
    }
    );
    var fo = class {
        constructor(e) {
            this._isAdvanced = !1,
            this._filterHash = Object.create(null),
            this._renderer = e,
            this._renderer.runners.prerender.add(this)
        }
        prerender() {
            this._activeBlendMode = "normal",
            this._isAdvanced = !1
        }
        setBlendMode(e, t, i) {
            if (this._activeBlendMode === t) {
                this._isAdvanced && this._renderableList.push(e);
                return
            }
            this._activeBlendMode = t,
            this._isAdvanced && this._endAdvancedBlendMode(i),
            this._isAdvanced = !!Pr[t],
            this._isAdvanced && (this._beginAdvancedBlendMode(i),
            this._renderableList.push(e))
        }
        _beginAdvancedBlendMode(e) {
            this._renderer.renderPipes.batch.break(e);
            let t = this._activeBlendMode;
            if (!Pr[t])
                return;
            let i = this._filterHash[t];
            i || (i = this._filterHash[t] = new Ai,
            i.filters = [new Pr[t]]);
            let r = {
                renderPipeId: "filter",
                action: "pushFilter",
                renderables: [],
                filterEffect: i,
                canBundle: !1
            };
            this._renderableList = r.renderables,
            e.add(r)
        }
        _endAdvancedBlendMode(e) {
            this._renderableList = null,
            this._renderer.renderPipes.batch.break(e),
            e.add({
                renderPipeId: "filter",
                action: "popFilter",
                canBundle: !1
            })
        }
        buildStart() {
            this._isAdvanced = !1
        }
        buildEnd(e) {
            this._isAdvanced && this._endAdvancedBlendMode(e)
        }
        destroy() {
            this._renderer = null,
            this._renderableList = null;
            for (let e in this._filterHash)
                this._filterHash[e].destroy();
            this._filterHash = null
        }
    }
    ;
    fo.extension = {
        type: [B.WebGLPipes, B.WebGPUPipes, B.CanvasPipes],
        name: "blendMode"
    };
    var cv = Object.defineProperty
      , A1 = Object.getOwnPropertySymbols
      , dv = Object.prototype.hasOwnProperty
      , hv = Object.prototype.propertyIsEnumerable
      , E1 = (a, e, t) => e in a ? cv(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , xd = (a, e) => {
        for (var t in e || (e = {}))
            dv.call(e, t) && E1(a, t, e[t]);
        if (A1)
            for (var t of A1(e))
                hv.call(e, t) && E1(a, t, e[t]);
        return a
    }
      , vd = {
        png: "image/png",
        jpg: "image/jpeg",
        webp: "image/webp"
    }
      , Jh = class U3 {
        constructor(e) {
            this._renderer = e
        }
        _normalizeOptions(e, t={}) {
            return e instanceof le || e instanceof K ? xd({
                target: e
            }, t) : xd(xd({}, t), e)
        }
        async image(e) {
            let t = new Image;
            return t.src = await this.base64(e),
            t
        }
        async base64(e) {
            e = this._normalizeOptions(e, U3.defaultImageOptions);
            let {format: t, quality: i} = e
              , r = this.canvas(e);
            if (r.toBlob !== void 0)
                return new Promise( (s, o) => {
                    r.toBlob(d => {
                        if (!d) {
                            o(new Error("ICanvas.toBlob failed!"));
                            return
                        }
                        let h = new FileReader;
                        h.onload = () => s(h.result),
                        h.onerror = o,
                        h.readAsDataURL(d)
                    }
                    , vd[t], i)
                }
                );
            if (r.toDataURL !== void 0)
                return r.toDataURL(vd[t], i);
            if (r.convertToBlob !== void 0) {
                let s = await r.convertToBlob({
                    type: vd[t],
                    quality: i
                });
                return new Promise( (o, d) => {
                    let h = new FileReader;
                    h.onload = () => o(h.result),
                    h.onerror = d,
                    h.readAsDataURL(s)
                }
                )
            }
            throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")
        }
        canvas(e) {
            e = this._normalizeOptions(e);
            let t = e.target
              , i = this._renderer;
            if (t instanceof K)
                return i.texture.generateCanvas(t);
            let r = i.textureGenerator.generateTexture(e)
              , s = i.texture.generateCanvas(r);
            return r.destroy(!0),
            s
        }
        pixels(e) {
            e = this._normalizeOptions(e);
            let t = e.target
              , i = this._renderer
              , r = t instanceof K ? t : i.textureGenerator.generateTexture(e)
              , s = i.texture.getPixels(r);
            return t instanceof le && r.destroy(!0),
            s
        }
        texture(e) {
            return e = this._normalizeOptions(e),
            e.target instanceof K ? e.target : this._renderer.textureGenerator.generateTexture(e)
        }
        download(e) {
            var t;
            e = this._normalizeOptions(e);
            let i = this.canvas(e)
              , r = document.createElement("a");
            r.download = (t = e.filename) != null ? t : "image.png",
            r.href = i.toDataURL("image/png"),
            document.body.appendChild(r),
            r.click(),
            document.body.removeChild(r)
        }
        log(e) {
            var t;
            let i = (t = e.width) != null ? t : 200;
            e = this._normalizeOptions(e);
            let r = this.canvas(e)
              , s = r.toDataURL()
              , o = ["font-size: 1px;", `padding: ${i}px 300px;`, `background: url(${s}) no-repeat;`, "background-size: contain;"].join(" ")
        }
        destroy() {
            this._renderer = null
        }
    }
    ;
    Jh.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem],
        name: "extract"
    },
    Jh.defaultImageOptions = {
        format: "png",
        quality: 1
    };
    var lv = Jh
      , el = class a extends K {
        static create(e) {
            return new a({
                source: new Fe(e)
            })
        }
        resize(e, t, i) {
            return this.source.resize(e, t, i),
            this
        }
    }
      , fv = Object.defineProperty
      , uv = Object.defineProperties
      , bv = Object.getOwnPropertyDescriptors
      , P1 = Object.getOwnPropertySymbols
      , pv = Object.prototype.hasOwnProperty
      , gv = Object.prototype.propertyIsEnumerable
      , R1 = (a, e, t) => e in a ? fv(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , mv = (a, e) => {
        for (var t in e || (e = {}))
            pv.call(e, t) && R1(a, t, e[t]);
        if (P1)
            for (var t of P1(e))
                gv.call(e, t) && R1(a, t, e[t]);
        return a
    }
      , _v = (a, e) => uv(a, bv(e))
      , yv = new Pe
      , xv = new qe
      , vv = [0, 0, 0, 0]
      , uo = class {
        constructor(e) {
            this._renderer = e
        }
        generateTexture(e) {
            var t;
            e instanceof le && (e = {
                target: e,
                frame: void 0,
                textureSourceOptions: {},
                resolution: void 0
            });
            let i = e.resolution || this._renderer.resolution
              , r = e.antialias || this._renderer.view.antialias
              , s = e.target
              , o = e.clearColor;
            o ? o = Array.isArray(o) && o.length === 4 ? o : Ee.shared.setValue(o).toArray() : o = vv;
            let d = ((t = e.frame) == null ? void 0 : t.copyTo(yv)) || gl(s, xv).rectangle;
            d.width = Math.max(d.width, 1 / i) | 0,
            d.height = Math.max(d.height, 1 / i) | 0;
            let h = el.create(_v(mv({}, e.textureSourceOptions), {
                width: d.width,
                height: d.height,
                resolution: i,
                antialias: r
            }))
              , l = ie.shared.translate(-d.x, -d.y);
            return this._renderer.render({
                container: s,
                transform: l,
                target: h,
                clearColor: o
            }),
            h.source.updateMipmaps(),
            h
        }
        destroy() {
            this._renderer = null
        }
    }
    ;
    uo.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem],
        name: "textureGenerator"
    };
    var bo = class {
        constructor(e) {
            this._stackIndex = 0,
            this._globalUniformDataStack = [],
            this._uniformsPool = [],
            this._activeUniforms = [],
            this._bindGroupPool = [],
            this._activeBindGroups = [],
            this._renderer = e
        }
        reset() {
            this._stackIndex = 0;
            for (let e = 0; e < this._activeUniforms.length; e++)
                this._uniformsPool.push(this._activeUniforms[e]);
            for (let e = 0; e < this._activeBindGroups.length; e++)
                this._bindGroupPool.push(this._activeBindGroups[e]);
            this._activeUniforms.length = 0,
            this._activeBindGroups.length = 0
        }
        start(e) {
            this.reset(),
            this.push(e)
        }
        bind({size: e, projectionMatrix: t, worldTransformMatrix: i, worldColor: r, offset: s}) {
            let o = this._renderer.renderTarget.renderTarget
              , d = this._stackIndex ? this._globalUniformDataStack[this._stackIndex - 1] : {
                projectionData: o,
                worldTransformMatrix: new ie,
                worldColor: 4294967295,
                offset: new Ce
            }
              , h = {
                projectionMatrix: t || this._renderer.renderTarget.projectionMatrix,
                resolution: e || o.size,
                worldTransformMatrix: i || d.worldTransformMatrix,
                worldColor: r || d.worldColor,
                offset: s || d.offset,
                bindGroup: null
            }
              , l = this._uniformsPool.pop() || this._createUniforms();
            this._activeUniforms.push(l);
            let u = l.uniforms;
            u.uProjectionMatrix = h.projectionMatrix,
            u.uResolution = h.resolution,
            u.uWorldTransformMatrix.copyFrom(h.worldTransformMatrix),
            u.uWorldTransformMatrix.tx -= h.offset.x,
            u.uWorldTransformMatrix.ty -= h.offset.y,
            Kr(h.worldColor, u.uWorldColorAlpha, 0),
            l.update();
            let p;
            this._renderer.renderPipes.uniformBatch ? p = this._renderer.renderPipes.uniformBatch.getUniformBindGroup(l, !1) : (p = this._bindGroupPool.pop() || new Ht,
            this._activeBindGroups.push(p),
            p.setResource(l, 0)),
            h.bindGroup = p,
            this._currentGlobalUniformData = h
        }
        push(e) {
            this.bind(e),
            this._globalUniformDataStack[this._stackIndex++] = this._currentGlobalUniformData
        }
        pop() {
            this._currentGlobalUniformData = this._globalUniformDataStack[--this._stackIndex - 1],
            this._renderer.type === yt.WEBGL && this._currentGlobalUniformData.bindGroup.resources[0].update()
        }
        get bindGroup() {
            return this._currentGlobalUniformData.bindGroup
        }
        get globalUniformData() {
            return this._currentGlobalUniformData
        }
        get uniformGroup() {
            return this._currentGlobalUniformData.bindGroup.resources[0]
        }
        _createUniforms() {
            return new Je({
                uProjectionMatrix: {
                    value: new ie,
                    type: "mat3x3<f32>"
                },
                uWorldTransformMatrix: {
                    value: new ie,
                    type: "mat3x3<f32>"
                },
                uWorldColorAlpha: {
                    value: new Float32Array(4),
                    type: "vec4<f32>"
                },
                uResolution: {
                    value: [0, 0],
                    type: "vec2<f32>"
                }
            },{
                isStatic: !0
            })
        }
        destroy() {
            this._renderer = null
        }
    }
    ;
    bo.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem, B.CanvasSystem],
        name: "globalUniforms"
    };
    var Tv = 1
      , po = class {
        constructor() {
            this._tasks = [],
            this._offset = 0
        }
        init() {
            tt.system.add(this._update, this)
        }
        repeat(e, t, i=!0) {
            let r = Tv++
              , s = 0;
            return i && (this._offset += 1e3,
            s = this._offset),
            this._tasks.push({
                func: e,
                duration: t,
                start: performance.now(),
                offset: s,
                last: performance.now(),
                repeat: !0,
                id: r
            }),
            r
        }
        cancel(e) {
            for (let t = 0; t < this._tasks.length; t++)
                if (this._tasks[t].id === e) {
                    this._tasks.splice(t, 1);
                    return
                }
        }
        _update() {
            let e = performance.now();
            for (let t = 0; t < this._tasks.length; t++) {
                let i = this._tasks[t];
                if (e - i.offset - i.last >= i.duration) {
                    let r = e - i.start;
                    i.func(r),
                    i.last = e
                }
            }
        }
        destroy() {
            tt.system.remove(this._update, this),
            this._tasks.length = 0
        }
    }
    ;
    po.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem, B.CanvasSystem],
        name: "scheduler",
        priority: 0
    };
    var M1 = !1;
    function Sv(a) {
        if (!M1) {
            if (xe.get().getNavigator().userAgent.toLowerCase().indexOf("chrome") > -1) {
                let e = [`%c  %c  %c  %c  %c PixiJS %c v${Pn} (${a}) http://www.pixijs.com/

`, "background: #E72264; padding:5px 0;", "background: #6CA2EA; padding:5px 0;", "background: #B5D33D; padding:5px 0;", "background: #FED23F; padding:5px 0;", "color: #FFFFFF; background: #E72264; padding:5px 0;", "color: #E72264; background: #FFFFFF; padding:5px 0;"];
                globalThis.console.log(...e)
            } else
                globalThis.console && globalThis.console.log(`PixiJS ${Pn} - ${a} - http://www.pixijs.com/`);
            M1 = !0
        }
    }
    var Hr = class {
        constructor(e) {
            this._renderer = e
        }
        init(e) {
            if (e.hello) {
                let t = this._renderer.name;
                this._renderer.type === yt.WEBGL && (t += ` ${this._renderer.context.webGLVersion}`),
                Sv(t)
            }
        }
    }
    ;
    Hr.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem, B.CanvasSystem],
        name: "hello",
        priority: -2
    },
    Hr.defaultOptions = {
        hello: !1
    };
    function wv(a) {
        let e = !1;
        for (let i in a)
            if (a[i] == null) {
                e = !0;
                break
            }
        if (!e)
            return a;
        let t = Object.create(null);
        for (let i in a) {
            let r = a[i];
            r && (t[i] = r)
        }
        return t
    }
    function Av(a) {
        let e = 0;
        for (let t = 0; t < a.length; t++)
            a[t] == null ? e++ : a[t - e] = a[t];
        return a.length -= e,
        a
    }
    var Ev = Object.defineProperty
      , C1 = Object.getOwnPropertySymbols
      , Pv = Object.prototype.hasOwnProperty
      , Rv = Object.prototype.propertyIsEnumerable
      , O1 = (a, e, t) => e in a ? Ev(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , I1 = (a, e) => {
        for (var t in e || (e = {}))
            Pv.call(e, t) && O1(a, t, e[t]);
        if (C1)
            for (var t of C1(e))
                Rv.call(e, t) && O1(a, t, e[t]);
        return a
    }
      , Mv = 0
      , tl = class L3 {
        constructor(e) {
            this._managedRenderables = [],
            this._managedHashes = [],
            this._managedArrays = [],
            this._renderer = e
        }
        init(e) {
            e = I1(I1({}, L3.defaultOptions), e),
            this.maxUnusedTime = e.renderableGCMaxUnusedTime,
            this._frequency = e.renderableGCFrequency,
            this.enabled = e.renderableGCActive
        }
        get enabled() {
            return !!this._handler
        }
        set enabled(e) {
            this.enabled !== e && (e ? (this._handler = this._renderer.scheduler.repeat( () => this.run(), this._frequency, !1),
            this._hashHandler = this._renderer.scheduler.repeat( () => {
                for (let t of this._managedHashes)
                    t.context[t.hash] = wv(t.context[t.hash])
            }
            , this._frequency),
            this._arrayHandler = this._renderer.scheduler.repeat( () => {
                for (let t of this._managedArrays)
                    Av(t.context[t.hash])
            }
            , this._frequency)) : (this._renderer.scheduler.cancel(this._handler),
            this._renderer.scheduler.cancel(this._hashHandler),
            this._renderer.scheduler.cancel(this._arrayHandler)))
        }
        addManagedHash(e, t) {
            this._managedHashes.push({
                context: e,
                hash: t
            })
        }
        addManagedArray(e, t) {
            this._managedArrays.push({
                context: e,
                hash: t
            })
        }
        prerender({container: e}) {
            this._now = performance.now(),
            e.renderGroup.gcTick = Mv++,
            this._updateInstructionGCTick(e.renderGroup, e.renderGroup.gcTick)
        }
        addRenderable(e) {
            this.enabled && (e._lastUsed === -1 && (this._managedRenderables.push(e),
            e.once("destroyed", this._removeRenderable, this)),
            e._lastUsed = this._now)
        }
        run() {
            var e, t, i, r;
            let s = this._now
              , o = this._managedRenderables
              , d = this._renderer.renderPipes
              , h = 0;
            for (let l = 0; l < o.length; l++) {
                let u = o[l];
                if (u === null) {
                    h++;
                    continue
                }
                let p = (e = u.renderGroup) != null ? e : u.parentRenderGroup
                  , y = (i = (t = p?.instructionSet) == null ? void 0 : t.gcTick) != null ? i : -1;
                if (((r = p?.gcTick) != null ? r : 0) === y && (u._lastUsed = s),
                s - u._lastUsed > this.maxUnusedTime) {
                    if (!u.destroyed) {
                        let _ = d;
                        p && (p.structureDidChange = !0),
                        _[u.renderPipeId].destroyRenderable(u)
                    }
                    u._lastUsed = -1,
                    h++,
                    u.off("destroyed", this._removeRenderable, this)
                } else
                    o[l - h] = u
            }
            o.length -= h
        }
        destroy() {
            this.enabled = !1,
            this._renderer = null,
            this._managedRenderables.length = 0,
            this._managedHashes.length = 0,
            this._managedArrays.length = 0
        }
        _removeRenderable(e) {
            let t = this._managedRenderables.indexOf(e);
            t >= 0 && (e.off("destroyed", this._removeRenderable, this),
            this._managedRenderables[t] = null)
        }
        _updateInstructionGCTick(e, t) {
            e.instructionSet.gcTick = t;
            for (let i of e.renderGroupChildren)
                this._updateInstructionGCTick(i, t)
        }
    }
    ;
    tl.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem],
        name: "renderableGC",
        priority: 0
    },
    tl.defaultOptions = {
        renderableGCActive: !0,
        renderableGCMaxUnusedTime: 6e4,
        renderableGCFrequency: 3e4
    };
    var Cv = tl
      , Ov = Object.defineProperty
      , G1 = Object.getOwnPropertySymbols
      , Iv = Object.prototype.hasOwnProperty
      , Gv = Object.prototype.propertyIsEnumerable
      , B1 = (a, e, t) => e in a ? Ov(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , F1 = (a, e) => {
        for (var t in e || (e = {}))
            Iv.call(e, t) && B1(a, t, e[t]);
        if (G1)
            for (var t of G1(e))
                Gv.call(e, t) && B1(a, t, e[t]);
        return a
    }
      , al = class N3 {
        constructor(e) {
            this._renderer = e,
            this.count = 0,
            this.checkCount = 0
        }
        init(e) {
            var t;
            e = F1(F1({}, N3.defaultOptions), e),
            this.checkCountMax = e.textureGCCheckCountMax,
            this.maxIdle = (t = e.textureGCAMaxIdle) != null ? t : e.textureGCMaxIdle,
            this.active = e.textureGCActive
        }
        postrender() {
            this._renderer.renderingToScreen && (this.count++,
            this.active && (this.checkCount++,
            this.checkCount > this.checkCountMax && (this.checkCount = 0,
            this.run())))
        }
        run() {
            let e = this._renderer.texture.managedTextures;
            for (let t = 0; t < e.length; t++) {
                let i = e[t];
                i.autoGarbageCollect && i.resource && i._touched > -1 && this.count - i._touched > this.maxIdle && (i._touched = -1,
                i.unload())
            }
        }
        destroy() {
            this._renderer = null
        }
    }
    ;
    al.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem],
        name: "textureGC"
    },
    al.defaultOptions = {
        textureGCActive: !0,
        textureGCAMaxIdle: null,
        textureGCMaxIdle: 60 * 60,
        textureGCCheckCountMax: 600
    };
    var Bv = al
      , Fv = Object.defineProperty
      , D1 = Object.getOwnPropertySymbols
      , Dv = Object.prototype.hasOwnProperty
      , kv = Object.prototype.propertyIsEnumerable
      , k1 = (a, e, t) => e in a ? Fv(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , U1 = (a, e) => {
        for (var t in e || (e = {}))
            Dv.call(e, t) && k1(a, t, e[t]);
        if (D1)
            for (var t of D1(e))
                kv.call(e, t) && k1(a, t, e[t]);
        return a
    }
      , il = class j3 {
        get autoDensity() {
            return this.texture.source.autoDensity
        }
        set autoDensity(e) {
            this.texture.source.autoDensity = e
        }
        get resolution() {
            return this.texture.source._resolution
        }
        set resolution(e) {
            this.texture.source.resize(this.texture.source.width, this.texture.source.height, e)
        }
        init(e) {
            e = U1(U1({}, j3.defaultOptions), e),
            e.view && (e.canvas = e.view),
            this.screen = new Pe(0,0,e.width,e.height),
            this.canvas = e.canvas || xe.get().createCanvas(),
            this.antialias = !!e.antialias,
            this.texture = R3(this.canvas, e),
            this.renderTarget = new Wh({
                colorTextures: [this.texture],
                depth: !!e.depth,
                isRoot: !0
            }),
            this.texture.source.transparent = e.backgroundAlpha < 1,
            this.resolution = e.resolution
        }
        resize(e, t, i) {
            this.texture.source.resize(e, t, i),
            this.screen.width = this.texture.frame.width,
            this.screen.height = this.texture.frame.height
        }
        destroy(e=!1) {
            (typeof e == "boolean" ? e : e != null && e.removeView) && this.canvas.parentNode && this.canvas.parentNode.removeChild(this.canvas)
        }
    }
    ;
    il.extension = {
        type: [B.WebGLSystem, B.WebGPUSystem, B.CanvasSystem],
        name: "view",
        priority: 0
    },
    il.defaultOptions = {
        width: 800,
        height: 600,
        autoDensity: !1,
        antialias: !1
    };
    var Uv = il
      , X3 = [ov, bo, Hr, Uv, ho, Bv, uo, lv, Mn, Cv, po]
      , H3 = [fo, x3, lo, co, zn, Wn, Vn, oo]
      , Lv = [...X3, Jn, Zy, Xy, Yn, ro, to, $n, io, ao, qn, Dx, Zn, Kn]
      , Nv = [...H3]
      , jv = [Xn, no, so]
      , z3 = []
      , V3 = []
      , W3 = [];
    pe.handleByNamedList(B.WebGLSystem, z3),
    pe.handleByNamedList(B.WebGLPipes, V3),
    pe.handleByNamedList(B.WebGLPipesAdaptor, W3),
    pe.add(...Lv, ...Nv, ...jv);
    var rl = class extends Lo {
        constructor() {
            let e = {
                name: "webgl",
                type: yt.WEBGL,
                systems: z3,
                renderPipes: V3,
                renderPipeAdaptors: W3
            };
            super(e)
        }
    }
      , Xv = {
        __proto__: null,
        WebGLRenderer: rl
    }
      , go = class {
        constructor(e) {
            this._hash = Object.create(null),
            this._renderer = e,
            this._renderer.renderableGC.addManagedHash(this, "_hash")
        }
        contextChange(e) {
            this._gpu = e
        }
        getBindGroup(e, t, i) {
            return e._updateKey(),
            this._hash[e._key] || this._createBindGroup(e, t, i)
        }
        _createBindGroup(e, t, i) {
            var r;
            let s = this._gpu.device
              , o = t.layout[i]
              , d = []
              , h = this._renderer;
            for (let p in o) {
                let y = (r = e.resources[p]) != null ? r : e.resources[o[p]], _;
                if (y._resourceType === "uniformGroup") {
                    let v = y;
                    h.ubo.updateUniformGroup(v);
                    let T = v.buffer;
                    _ = {
                        buffer: h.buffer.getGPUBuffer(T),
                        offset: 0,
                        size: T.descriptor.size
                    }
                } else if (y._resourceType === "buffer") {
                    let v = y;
                    _ = {
                        buffer: h.buffer.getGPUBuffer(v),
                        offset: 0,
                        size: v.descriptor.size
                    }
                } else if (y._resourceType === "bufferResource") {
                    let v = y;
                    _ = {
                        buffer: h.buffer.getGPUBuffer(v.buffer),
                        offset: v.offset,
                        size: v.size
                    }
                } else if (y._resourceType === "textureSampler") {
                    let v = y;
                    _ = h.texture.getGpuSampler(v)
                } else if (y._resourceType === "textureSource") {
                    let v = y;
                    _ = h.texture.getGpuSource(v).createView({})
                }
                d.push({
                    binding: o[p],
                    resource: _
                })
            }
            let l = h.shader.getProgramData(t).bindGroups[i]
              , u = s.createBindGroup({
                layout: l,
                entries: d
            });
            return this._hash[e._key] = u,
            u
        }
        destroy() {
            for (let e of Object.keys(this._hash))
                this._hash[e] = null;
            this._hash = null,
            this._renderer = null
        }
    }
    ;
    go.extension = {
        type: [B.WebGPUSystem],
        name: "bindGroup"
    };
    var mo = class {
        constructor(e) {
            this._gpuBuffers = Object.create(null),
            this._managedBuffers = [],
            e.renderableGC.addManagedHash(this, "_gpuBuffers")
        }
        contextChange(e) {
            this._gpu = e
        }
        getGPUBuffer(e) {
            return this._gpuBuffers[e.uid] || this.createGPUBuffer(e)
        }
        updateBuffer(e) {
            let t = this._gpuBuffers[e.uid] || this.createGPUBuffer(e)
              , i = e.data;
            return e._updateID && i && (e._updateID = 0,
            this._gpu.device.queue.writeBuffer(t, 0, i.buffer, 0, (e._updateSize || i.byteLength) + 3 & -4)),
            t
        }
        destroyAll() {
            for (let e in this._gpuBuffers)
                this._gpuBuffers[e].destroy();
            this._gpuBuffers = {}
        }
        createGPUBuffer(e) {
            this._gpuBuffers[e.uid] || (e.on("update", this.updateBuffer, this),
            e.on("change", this.onBufferChange, this),
            e.on("destroy", this.onBufferDestroy, this),
            this._managedBuffers.push(e));
            let t = this._gpu.device.createBuffer(e.descriptor);
            return e._updateID = 0,
            e.data && (jd(e.data.buffer, t.getMappedRange()),
            t.unmap()),
            this._gpuBuffers[e.uid] = t,
            t
        }
        onBufferChange(e) {
            this._gpuBuffers[e.uid].destroy(),
            e._updateID = 0,
            this._gpuBuffers[e.uid] = this.createGPUBuffer(e)
        }
        onBufferDestroy(e) {
            this._managedBuffers.splice(this._managedBuffers.indexOf(e), 1),
            this._destroyBuffer(e)
        }
        destroy() {
            this._managedBuffers.forEach(e => this._destroyBuffer(e)),
            this._managedBuffers = null,
            this._gpuBuffers = null
        }
        _destroyBuffer(e) {
            this._gpuBuffers[e.uid].destroy(),
            e.off("update", this.updateBuffer, this),
            e.off("change", this.onBufferChange, this),
            e.off("destroy", this.onBufferDestroy, this),
            this._gpuBuffers[e.uid] = null
        }
    }
    ;
    mo.extension = {
        type: [B.WebGPUSystem],
        name: "buffer"
    };
    var sl = class {
        constructor({minUniformOffsetAlignment: e}) {
            this._minUniformOffsetAlignment = 256,
            this.byteIndex = 0,
            this._minUniformOffsetAlignment = e,
            this.data = new Float32Array(65535)
        }
        clear() {
            this.byteIndex = 0
        }
        addEmptyGroup(e) {
            if (e > this._minUniformOffsetAlignment / 4)
                throw new Error(`UniformBufferBatch: array is too large: ${e * 4}`);
            let t = this.byteIndex
              , i = t + e * 4;
            if (i = Math.ceil(i / this._minUniformOffsetAlignment) * this._minUniformOffsetAlignment,
            i > this.data.length * 4)
                throw new Error("UniformBufferBatch: ubo batch got too big");
            return this.byteIndex = i,
            t
        }
        addGroup(e) {
            let t = this.addEmptyGroup(e.length);
            for (let i = 0; i < e.length; i++)
                this.data[t / 4 + i] = e[i];
            return t
        }
        destroy() {
            this.data = null
        }
    }
      , _o = class {
        constructor(e) {
            this._colorMaskCache = 15,
            this._renderer = e
        }
        setMask(e) {
            this._colorMaskCache !== e && (this._colorMaskCache = e,
            this._renderer.pipeline.setColorMask(e))
        }
        destroy() {
            this._renderer = null,
            this._colorMaskCache = null
        }
    }
    ;
    _o.extension = {
        type: [B.WebGPUSystem],
        name: "colorMask"
    };
    var zr = class {
        constructor(e) {
            this._renderer = e
        }
        async init(e) {
            return this._initPromise ? this._initPromise : (this._initPromise = this._createDeviceAndAdaptor(e).then(t => {
                this.gpu = t,
                this._renderer.runners.contextChange.emit(this.gpu)
            }
            ),
            this._initPromise)
        }
        contextChange(e) {
            this._renderer.gpu = e
        }
        async _createDeviceAndAdaptor(e) {
            let t = await xe.get().getNavigator().gpu.requestAdapter({
                powerPreference: e.powerPreference,
                forceFallbackAdapter: e.forceFallbackAdapter
            })
              , i = ["texture-compression-bc", "texture-compression-astc", "texture-compression-etc2"].filter(s => t.features.has(s))
              , r = await t.requestDevice({
                requiredFeatures: i
            });
            return {
                adapter: t,
                device: r
            }
        }
        destroy() {
            this.gpu = null,
            this._renderer = null
        }
    }
    ;
    zr.extension = {
        type: [B.WebGPUSystem],
        name: "device"
    },
    zr.defaultOptions = {
        powerPreference: void 0,
        forceFallbackAdapter: !1
    };
    var Hv = Object.defineProperty
      , L1 = Object.getOwnPropertySymbols
      , zv = Object.prototype.hasOwnProperty
      , Vv = Object.prototype.propertyIsEnumerable
      , N1 = (a, e, t) => e in a ? Hv(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , j1 = (a, e) => {
        for (var t in e || (e = {}))
            zv.call(e, t) && N1(a, t, e[t]);
        if (L1)
            for (var t of L1(e))
                Vv.call(e, t) && N1(a, t, e[t]);
        return a
    }
      , yo = class {
        constructor(e) {
            this._boundBindGroup = Object.create(null),
            this._boundVertexBuffer = Object.create(null),
            this._renderer = e
        }
        renderStart() {
            this.commandFinished = new Promise(e => {
                this._resolveCommandFinished = e
            }
            ),
            this.commandEncoder = this._renderer.gpu.device.createCommandEncoder()
        }
        beginRenderPass(e) {
            this.endRenderPass(),
            this._clearCache(),
            this.renderPassEncoder = this.commandEncoder.beginRenderPass(e.descriptor)
        }
        endRenderPass() {
            this.renderPassEncoder && this.renderPassEncoder.end(),
            this.renderPassEncoder = null
        }
        setViewport(e) {
            this.renderPassEncoder.setViewport(e.x, e.y, e.width, e.height, 0, 1)
        }
        setPipelineFromGeometryProgramAndState(e, t, i, r) {
            let s = this._renderer.pipeline.getPipeline(e, t, i, r);
            this.setPipeline(s)
        }
        setPipeline(e) {
            this._boundPipeline !== e && (this._boundPipeline = e,
            this.renderPassEncoder.setPipeline(e))
        }
        _setVertexBuffer(e, t) {
            this._boundVertexBuffer[e] !== t && (this._boundVertexBuffer[e] = t,
            this.renderPassEncoder.setVertexBuffer(e, this._renderer.buffer.updateBuffer(t)))
        }
        _setIndexBuffer(e) {
            if (this._boundIndexBuffer === e)
                return;
            this._boundIndexBuffer = e;
            let t = e.data.BYTES_PER_ELEMENT === 2 ? "uint16" : "uint32";
            this.renderPassEncoder.setIndexBuffer(this._renderer.buffer.updateBuffer(e), t)
        }
        resetBindGroup(e) {
            this._boundBindGroup[e] = null
        }
        setBindGroup(e, t, i) {
            if (this._boundBindGroup[e] === t)
                return;
            this._boundBindGroup[e] = t,
            t._touch(this._renderer.textureGC.count);
            let r = this._renderer.bindGroup.getBindGroup(t, i, e);
            this.renderPassEncoder.setBindGroup(e, r)
        }
        setGeometry(e, t) {
            let i = this._renderer.pipeline.getBufferNamesToBind(e, t);
            for (let r in i)
                this._setVertexBuffer(r, e.attributes[i[r]].buffer);
            e.indexBuffer && this._setIndexBuffer(e.indexBuffer)
        }
        _setShaderBindGroups(e, t) {
            for (let i in e.groups) {
                let r = e.groups[i];
                t || this._syncBindGroup(r),
                this.setBindGroup(i, r, e.gpuProgram)
            }
        }
        _syncBindGroup(e) {
            for (let t in e.resources) {
                let i = e.resources[t];
                i.isUniformGroup && this._renderer.ubo.updateUniformGroup(i)
            }
        }
        draw(e) {
            let {geometry: t, shader: i, state: r, topology: s, size: o, start: d, instanceCount: h, skipSync: l} = e;
            this.setPipelineFromGeometryProgramAndState(t, i.gpuProgram, r, s),
            this.setGeometry(t, i.gpuProgram),
            this._setShaderBindGroups(i, l),
            t.indexBuffer ? this.renderPassEncoder.drawIndexed(o || t.indexBuffer.data.length, h ?? t.instanceCount, d || 0) : this.renderPassEncoder.draw(o || t.getSize(), h ?? t.instanceCount, d || 0)
        }
        finishRenderPass() {
            this.renderPassEncoder && (this.renderPassEncoder.end(),
            this.renderPassEncoder = null)
        }
        postrender() {
            this.finishRenderPass(),
            this._gpu.device.queue.submit([this.commandEncoder.finish()]),
            this._resolveCommandFinished(),
            this.commandEncoder = null
        }
        restoreRenderPass() {
            let e = this._renderer.renderTarget.adaptor.getDescriptor(this._renderer.renderTarget.renderTarget, !1, [0, 0, 0, 1]);
            this.renderPassEncoder = this.commandEncoder.beginRenderPass(e);
            let t = this._boundPipeline
              , i = j1({}, this._boundVertexBuffer)
              , r = this._boundIndexBuffer
              , s = j1({}, this._boundBindGroup);
            this._clearCache();
            let o = this._renderer.renderTarget.viewport;
            this.renderPassEncoder.setViewport(o.x, o.y, o.width, o.height, 0, 1),
            this.setPipeline(t);
            for (let d in i)
                this._setVertexBuffer(d, i[d]);
            for (let d in s)
                this.setBindGroup(d, s[d], null);
            this._setIndexBuffer(r)
        }
        _clearCache() {
            for (let e = 0; e < 16; e++)
                this._boundBindGroup[e] = null,
                this._boundVertexBuffer[e] = null;
            this._boundIndexBuffer = null,
            this._boundPipeline = null
        }
        destroy() {
            this._renderer = null,
            this._gpu = null,
            this._boundBindGroup = null,
            this._boundVertexBuffer = null,
            this._boundIndexBuffer = null,
            this._boundPipeline = null
        }
        contextChange(e) {
            this._gpu = e
        }
    }
    ;
    yo.extension = {
        type: [B.WebGPUSystem],
        name: "encoder",
        priority: 1
    };
    var xo = class {
        constructor(e) {
            this._renderTargetStencilState = Object.create(null),
            this._renderer = e,
            e.renderTarget.onRenderTargetChange.add(this)
        }
        onRenderTargetChange(e) {
            let t = this._renderTargetStencilState[e.uid];
            t || (t = this._renderTargetStencilState[e.uid] = {
                stencilMode: Ne.DISABLED,
                stencilReference: 0
            }),
            this._activeRenderTarget = e,
            this.setStencilMode(t.stencilMode, t.stencilReference)
        }
        setStencilMode(e, t) {
            let i = this._renderTargetStencilState[this._activeRenderTarget.uid];
            i.stencilMode = e,
            i.stencilReference = t;
            let r = this._renderer;
            r.pipeline.setStencilMode(e),
            r.encoder.renderPassEncoder.setStencilReference(t)
        }
        destroy() {
            this._renderer.renderTarget.onRenderTargetChange.remove(this),
            this._renderer = null,
            this._activeRenderTarget = null,
            this._renderTargetStencilState = null
        }
    }
    ;
    xo.extension = {
        type: [B.WebGPUSystem],
        name: "stencil"
    };
    var Xs = {
        i32: {
            align: 4,
            size: 4
        },
        u32: {
            align: 4,
            size: 4
        },
        f32: {
            align: 4,
            size: 4
        },
        f16: {
            align: 2,
            size: 2
        },
        "vec2<i32>": {
            align: 8,
            size: 8
        },
        "vec2<u32>": {
            align: 8,
            size: 8
        },
        "vec2<f32>": {
            align: 8,
            size: 8
        },
        "vec2<f16>": {
            align: 4,
            size: 4
        },
        "vec3<i32>": {
            align: 16,
            size: 12
        },
        "vec3<u32>": {
            align: 16,
            size: 12
        },
        "vec3<f32>": {
            align: 16,
            size: 12
        },
        "vec3<f16>": {
            align: 8,
            size: 6
        },
        "vec4<i32>": {
            align: 16,
            size: 16
        },
        "vec4<u32>": {
            align: 16,
            size: 16
        },
        "vec4<f32>": {
            align: 16,
            size: 16
        },
        "vec4<f16>": {
            align: 8,
            size: 8
        },
        "mat2x2<f32>": {
            align: 8,
            size: 16
        },
        "mat2x2<f16>": {
            align: 4,
            size: 8
        },
        "mat3x2<f32>": {
            align: 8,
            size: 24
        },
        "mat3x2<f16>": {
            align: 4,
            size: 12
        },
        "mat4x2<f32>": {
            align: 8,
            size: 32
        },
        "mat4x2<f16>": {
            align: 4,
            size: 16
        },
        "mat2x3<f32>": {
            align: 16,
            size: 32
        },
        "mat2x3<f16>": {
            align: 8,
            size: 16
        },
        "mat3x3<f32>": {
            align: 16,
            size: 48
        },
        "mat3x3<f16>": {
            align: 8,
            size: 24
        },
        "mat4x3<f32>": {
            align: 16,
            size: 64
        },
        "mat4x3<f16>": {
            align: 8,
            size: 32
        },
        "mat2x4<f32>": {
            align: 16,
            size: 32
        },
        "mat2x4<f16>": {
            align: 8,
            size: 16
        },
        "mat3x4<f32>": {
            align: 16,
            size: 48
        },
        "mat3x4<f16>": {
            align: 8,
            size: 24
        },
        "mat4x4<f32>": {
            align: 16,
            size: 64
        },
        "mat4x4<f16>": {
            align: 8,
            size: 32
        }
    };
    function Wv(a) {
        let e = a.map(i => ({
            data: i,
            offset: 0,
            size: 0
        }))
          , t = 0;
        for (let i = 0; i < e.length; i++) {
            let r = e[i]
              , s = Xs[r.data.type].size
              , o = Xs[r.data.type].align;
            if (!Xs[r.data.type])
                throw new Error(`[Pixi.js] WebGPU UniformBuffer: Unknown type ${r.data.type}`);
            r.data.size > 1 && (s = Math.max(s, o) * r.data.size),
            t = Math.ceil(t / o) * o,
            r.size = s,
            r.offset = t,
            t += s
        }
        return t = Math.ceil(t / 16) * 16,
        {
            uboElements: e,
            size: t
        }
    }
    function Yv(a, e) {
        let {size: t, align: i} = Xs[a.data.type]
          , r = (i - t) / 4
          , s = a.data.type.indexOf("i32") >= 0 ? "dataInt32" : "data";
        return `
v = uv.${a.data.name};
${e !== 0 ? `offset += ${e};` : ""}

arrayOffset = offset;

t = 0;

for(var i=0; i < ${a.data.size * (t / 4)}; i++)
{
for(var j = 0; j < ${t / 4}; j++)
{
${s}[arrayOffset++] = v[t++];
}
${r !== 0 ? `arrayOffset += ${r};` : ""}
}
`
    }
    function $v(a) {
        return E3(a, "uboWgsl", Yv, nx)
    }
    var vo = class extends Qn {
        constructor() {
            super({
                createUboElements: Wv,
                generateUboSync: $v
            })
        }
    }
    ;
    vo.extension = {
        type: [B.WebGPUSystem],
        name: "ubo"
    };
    var wa = 128
      , To = class {
        constructor(e) {
            this._bindGroupHash = Object.create(null),
            this._buffers = [],
            this._bindGroups = [],
            this._bufferResources = [],
            this._renderer = e,
            this._renderer.renderableGC.addManagedHash(this, "_bindGroupHash"),
            this._batchBuffer = new sl({
                minUniformOffsetAlignment: wa
            });
            let t = 256 / wa;
            for (let i = 0; i < t; i++) {
                let r = ve.UNIFORM | ve.COPY_DST;
                i === 0 && (r |= ve.COPY_SRC),
                this._buffers.push(new rt({
                    data: this._batchBuffer.data,
                    usage: r
                }))
            }
        }
        renderEnd() {
            this._uploadBindGroups(),
            this._resetBindGroups()
        }
        _resetBindGroups() {
            for (let e in this._bindGroupHash)
                this._bindGroupHash[e] = null;
            this._batchBuffer.clear()
        }
        getUniformBindGroup(e, t) {
            if (!t && this._bindGroupHash[e.uid])
                return this._bindGroupHash[e.uid];
            this._renderer.ubo.ensureUniformGroup(e);
            let i = e.buffer.data
              , r = this._batchBuffer.addEmptyGroup(i.length);
            return this._renderer.ubo.syncUniformGroup(e, this._batchBuffer.data, r / 4),
            this._bindGroupHash[e.uid] = this._getBindGroup(r / wa),
            this._bindGroupHash[e.uid]
        }
        getUboResource(e) {
            this._renderer.ubo.updateUniformGroup(e);
            let t = e.buffer.data
              , i = this._batchBuffer.addGroup(t);
            return this._getBufferResource(i / wa)
        }
        getArrayBindGroup(e) {
            let t = this._batchBuffer.addGroup(e);
            return this._getBindGroup(t / wa)
        }
        getArrayBufferResource(e) {
            let t = this._batchBuffer.addGroup(e) / wa;
            return this._getBufferResource(t)
        }
        _getBufferResource(e) {
            if (!this._bufferResources[e]) {
                let t = this._buffers[e % 2];
                this._bufferResources[e] = new Xr({
                    buffer: t,
                    offset: (e / 2 | 0) * 256,
                    size: wa
                })
            }
            return this._bufferResources[e]
        }
        _getBindGroup(e) {
            if (!this._bindGroups[e]) {
                let t = new Ht({
                    0: this._getBufferResource(e)
                });
                this._bindGroups[e] = t
            }
            return this._bindGroups[e]
        }
        _uploadBindGroups() {
            let e = this._renderer.buffer
              , t = this._buffers[0];
            t.update(this._batchBuffer.byteIndex),
            e.updateBuffer(t);
            let i = this._renderer.gpu.device.createCommandEncoder();
            for (let r = 1; r < this._buffers.length; r++) {
                let s = this._buffers[r];
                i.copyBufferToBuffer(e.getGPUBuffer(t), wa, e.getGPUBuffer(s), 0, this._batchBuffer.byteIndex)
            }
            this._renderer.gpu.device.queue.submit([i.finish()])
        }
        destroy() {
            for (let e = 0; e < this._bindGroups.length; e++)
                this._bindGroups[e].destroy();
            this._bindGroups = null,
            this._bindGroupHash = null;
            for (let e = 0; e < this._buffers.length; e++)
                this._buffers[e].destroy();
            this._buffers = null;
            for (let e = 0; e < this._bufferResources.length; e++)
                this._bufferResources[e].destroy();
            this._bufferResources = null,
            this._batchBuffer.destroy(),
            this._bindGroupHash = null,
            this._renderer = null
        }
    }
    ;
    To.extension = {
        type: [B.WebGPUPipes],
        name: "uniformBatch"
    };
    var Kv = Object.defineProperty
      , qv = Object.defineProperties
      , Zv = Object.getOwnPropertyDescriptors
      , X1 = Object.getOwnPropertySymbols
      , Qv = Object.prototype.hasOwnProperty
      , Jv = Object.prototype.propertyIsEnumerable
      , H1 = (a, e, t) => e in a ? Kv(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , eT = (a, e) => {
        for (var t in e || (e = {}))
            Qv.call(e, t) && H1(a, t, e[t]);
        if (X1)
            for (var t of X1(e))
                Jv.call(e, t) && H1(a, t, e[t]);
        return a
    }
      , tT = (a, e) => qv(a, Zv(e))
      , aT = {
        "point-list": 0,
        "line-list": 1,
        "line-strip": 2,
        "triangle-list": 3,
        "triangle-strip": 4
    };
    function iT(a, e, t, i, r) {
        return a << 24 | e << 16 | t << 10 | i << 5 | r
    }
    function rT(a, e, t, i) {
        return t << 6 | a << 3 | i << 1 | e
    }
    var So = class {
        constructor(e) {
            this._moduleCache = Object.create(null),
            this._bufferLayoutsCache = Object.create(null),
            this._bindingNamesCache = Object.create(null),
            this._pipeCache = Object.create(null),
            this._pipeStateCaches = Object.create(null),
            this._colorMask = 15,
            this._multisampleCount = 1,
            this._renderer = e
        }
        contextChange(e) {
            this._gpu = e,
            this.setStencilMode(Ne.DISABLED),
            this._updatePipeHash()
        }
        setMultisampleCount(e) {
            this._multisampleCount !== e && (this._multisampleCount = e,
            this._updatePipeHash())
        }
        setRenderTarget(e) {
            this._multisampleCount = e.msaaSamples,
            this._depthStencilAttachment = e.descriptor.depthStencilAttachment ? 1 : 0,
            this._updatePipeHash()
        }
        setColorMask(e) {
            this._colorMask !== e && (this._colorMask = e,
            this._updatePipeHash())
        }
        setStencilMode(e) {
            this._stencilMode !== e && (this._stencilMode = e,
            this._stencilState = Aa[e],
            this._updatePipeHash())
        }
        setPipeline(e, t, i, r) {
            let s = this.getPipeline(e, t, i);
            r.setPipeline(s)
        }
        getPipeline(e, t, i, r) {
            e._layoutKey || (T3(e, t.attributeData),
            this._generateBufferKey(e)),
            r || (r = e.topology);
            let s = iT(e._layoutKey, t._layoutKey, i.data, i._blendModeId, aT[r]);
            return this._pipeCache[s] ? this._pipeCache[s] : (this._pipeCache[s] = this._createPipeline(e, t, i, r),
            this._pipeCache[s])
        }
        _createPipeline(e, t, i, r) {
            let s = this._gpu.device
              , o = this._createVertexBufferLayouts(e, t)
              , d = this._renderer.state.getColorTargets(i);
            d[0].writeMask = this._stencilMode === Ne.RENDERING_MASK_ADD ? 0 : this._colorMask;
            let h = this._renderer.shader.getProgramData(t).pipeline
              , l = {
                vertex: {
                    module: this._getModule(t.vertex.source),
                    entryPoint: t.vertex.entryPoint,
                    buffers: o
                },
                fragment: {
                    module: this._getModule(t.fragment.source),
                    entryPoint: t.fragment.entryPoint,
                    targets: d
                },
                primitive: {
                    topology: r,
                    cullMode: i.cullMode
                },
                layout: h,
                multisample: {
                    count: this._multisampleCount
                },
                label: "PIXI Pipeline"
            };
            return this._depthStencilAttachment && (l.depthStencil = tT(eT({}, this._stencilState), {
                format: "depth24plus-stencil8",
                depthWriteEnabled: i.depthTest,
                depthCompare: i.depthTest ? "less" : "always"
            })),
            s.createRenderPipeline(l)
        }
        _getModule(e) {
            return this._moduleCache[e] || this._createModule(e)
        }
        _createModule(e) {
            let t = this._gpu.device;
            return this._moduleCache[e] = t.createShaderModule({
                code: e
            }),
            this._moduleCache[e]
        }
        _generateBufferKey(e) {
            let t = []
              , i = 0
              , r = Object.keys(e.attributes).sort();
            for (let o = 0; o < r.length; o++) {
                let d = e.attributes[r[o]];
                t[i++] = d.offset,
                t[i++] = d.format,
                t[i++] = d.stride,
                t[i++] = d.instance
            }
            let s = t.join("|");
            return e._layoutKey = Gr(s, "geometry"),
            e._layoutKey
        }
        _generateAttributeLocationsKey(e) {
            let t = []
              , i = 0
              , r = Object.keys(e.attributeData).sort();
            for (let o = 0; o < r.length; o++) {
                let d = e.attributeData[r[o]];
                t[i++] = d.location
            }
            let s = t.join("|");
            return e._attributeLocationsKey = Gr(s, "programAttributes"),
            e._attributeLocationsKey
        }
        getBufferNamesToBind(e, t) {
            let i = e._layoutKey << 16 | t._attributeLocationsKey;
            if (this._bindingNamesCache[i])
                return this._bindingNamesCache[i];
            let r = this._createVertexBufferLayouts(e, t)
              , s = Object.create(null)
              , o = t.attributeData;
            for (let d = 0; d < r.length; d++) {
                let h = Object.values(r[d].attributes)[0].shaderLocation;
                for (let l in o)
                    if (o[l].location === h) {
                        s[d] = l;
                        break
                    }
            }
            return this._bindingNamesCache[i] = s,
            s
        }
        _createVertexBufferLayouts(e, t) {
            t._attributeLocationsKey || this._generateAttributeLocationsKey(t);
            let i = e._layoutKey << 16 | t._attributeLocationsKey;
            if (this._bufferLayoutsCache[i])
                return this._bufferLayoutsCache[i];
            let r = [];
            return e.buffers.forEach(s => {
                var o;
                let d = {
                    arrayStride: 0,
                    stepMode: "vertex",
                    attributes: []
                }
                  , h = d.attributes;
                for (let l in t.attributeData) {
                    let u = e.attributes[l];
                    ((o = u.divisor) != null ? o : 1) !== 1 && Jt(`Attribute ${l} has an invalid divisor value of '${u.divisor}'. WebGPU only supports a divisor value of 1`),
                    u.buffer === s && (d.arrayStride = u.stride,
                    d.stepMode = u.instance ? "instance" : "vertex",
                    h.push({
                        shaderLocation: t.attributeData[l].location,
                        offset: u.offset,
                        format: u.format
                    }))
                }
                h.length && r.push(d)
            }
            ),
            this._bufferLayoutsCache[i] = r,
            r
        }
        _updatePipeHash() {
            let e = rT(this._stencilMode, this._multisampleCount, this._colorMask, this._depthStencilAttachment);
            this._pipeStateCaches[e] || (this._pipeStateCaches[e] = Object.create(null)),
            this._pipeCache = this._pipeStateCaches[e]
        }
        destroy() {
            this._renderer = null,
            this._bufferLayoutsCache = null
        }
    }
    ;
    So.extension = {
        type: [B.WebGPUSystem],
        name: "pipeline"
    };
    var nl = class {
        constructor() {
            this.contexts = [],
            this.msaaTextures = [],
            this.msaaSamples = 1
        }
    }
      , ol = class {
        init(e, t) {
            this._renderer = e,
            this._renderTargetSystem = t
        }
        copyToTexture(e, t, i, r, s) {
            let o = this._renderer
              , d = this._getGpuColorTexture(e)
              , h = o.texture.getGpuSource(t.source);
            return o.encoder.commandEncoder.copyTextureToTexture({
                texture: d,
                origin: i
            }, {
                texture: h,
                origin: s
            }, r),
            t
        }
        startRenderPass(e, t=!0, i, r) {
            let s = this._renderTargetSystem.getGpuRenderTarget(e)
              , o = this.getDescriptor(e, t, i);
            s.descriptor = o,
            this._renderer.pipeline.setRenderTarget(s),
            this._renderer.encoder.beginRenderPass(s),
            this._renderer.encoder.setViewport(r)
        }
        finishRenderPass() {
            this._renderer.encoder.endRenderPass()
        }
        _getGpuColorTexture(e) {
            let t = this._renderTargetSystem.getGpuRenderTarget(e);
            return t.contexts[0] ? t.contexts[0].getCurrentTexture() : this._renderer.texture.getGpuSource(e.colorTextures[0].source)
        }
        getDescriptor(e, t, i) {
            typeof t == "boolean" && (t = t ? mt.ALL : mt.NONE);
            let r = this._renderTargetSystem, s = r.getGpuRenderTarget(e), o = e.colorTextures.map( (h, l) => {
                let u = s.contexts[l], p, y;
                u ? p = u.getCurrentTexture().createView() : p = this._renderer.texture.getGpuSource(h).createView({
                    mipLevelCount: 1
                }),
                s.msaaTextures[l] && (y = p,
                p = this._renderer.texture.getTextureView(s.msaaTextures[l]));
                let _ = t & mt.COLOR ? "clear" : "load";
                return i != null || (i = r.defaultClearColor),
                {
                    view: p,
                    resolveTarget: y,
                    clearValue: i,
                    storeOp: "store",
                    loadOp: _
                }
            }
            ), d;
            if ((e.stencil || e.depth) && !e.depthStencilTexture && (e.ensureDepthStencilTexture(),
            e.depthStencilTexture.source.sampleCount = s.msaa ? 4 : 1),
            e.depthStencilTexture) {
                let h = t & mt.STENCIL ? "clear" : "load"
                  , l = t & mt.DEPTH ? "clear" : "load";
                d = {
                    view: this._renderer.texture.getGpuSource(e.depthStencilTexture.source).createView(),
                    stencilStoreOp: "store",
                    stencilLoadOp: h,
                    depthClearValue: 1,
                    depthLoadOp: l,
                    depthStoreOp: "store"
                }
            }
            return {
                colorAttachments: o,
                depthStencilAttachment: d
            }
        }
        clear(e, t=!0, i, r) {
            if (!t)
                return;
            let {gpu: s, encoder: o} = this._renderer
              , d = s.device;
            if (o.commandEncoder === null) {
                let h = d.createCommandEncoder()
                  , l = this.getDescriptor(e, t, i)
                  , u = h.beginRenderPass(l);
                u.setViewport(r.x, r.y, r.width, r.height, 0, 1),
                u.end();
                let p = h.finish();
                d.queue.submit([p])
            } else
                this.startRenderPass(e, t, i, r)
        }
        initGpuRenderTarget(e) {
            e.isRoot = !0;
            let t = new nl;
            return e.colorTextures.forEach( (i, r) => {
                if (qt.test(i.resource)) {
                    let s = i.resource.getContext("webgpu")
                      , o = i.transparent ? "premultiplied" : "opaque";
                    try {
                        s.configure({
                            device: this._renderer.gpu.device,
                            usage: GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST | GPUTextureUsage.RENDER_ATTACHMENT | GPUTextureUsage.COPY_SRC,
                            format: "bgra8unorm",
                            alphaMode: o
                        })
                    } catch {}
                    t.contexts[r] = s
                }
                if (t.msaa = i.source.antialias,
                i.source.antialias) {
                    let s = new Fe({
                        width: 0,
                        height: 0,
                        sampleCount: 4
                    });
                    t.msaaTextures[r] = s
                }
            }
            ),
            t.msaa && (t.msaaSamples = 4,
            e.depthStencilTexture && (e.depthStencilTexture.source.sampleCount = 4)),
            t
        }
        destroyGpuRenderTarget(e) {
            e.contexts.forEach(t => {
                t.unconfigure()
            }
            ),
            e.msaaTextures.forEach(t => {
                t.destroy()
            }
            ),
            e.msaaTextures.length = 0,
            e.contexts.length = 0
        }
        ensureDepthStencilTexture(e) {
            let t = this._renderTargetSystem.getGpuRenderTarget(e);
            e.depthStencilTexture && t.msaa && (e.depthStencilTexture.source.sampleCount = 4)
        }
        resizeGpuRenderTarget(e) {
            let t = this._renderTargetSystem.getGpuRenderTarget(e);
            t.width = e.width,
            t.height = e.height,
            t.msaa && e.colorTextures.forEach( (i, r) => {
                let s = t.msaaTextures[r];
                s?.resize(i.source.width, i.source.height, i.source._resolution)
            }
            )
        }
    }
      , wo = class extends eo {
        constructor(e) {
            super(e),
            this.adaptor = new ol,
            this.adaptor.init(e, this)
        }
    }
    ;
    wo.extension = {
        type: [B.WebGPUSystem],
        name: "renderTarget"
    };
    var Ao = class {
        constructor() {
            this._gpuProgramData = Object.create(null)
        }
        contextChange(e) {
            this._gpu = e,
            this.maxTextures = e.device.limits.maxSampledTexturesPerShaderStage
        }
        getProgramData(e) {
            return this._gpuProgramData[e._layoutKey] || this._createGPUProgramData(e)
        }
        _createGPUProgramData(e) {
            let t = this._gpu.device
              , i = e.gpuLayout.map(s => t.createBindGroupLayout({
                entries: s
            }))
              , r = {
                bindGroupLayouts: i
            };
            return this._gpuProgramData[e._layoutKey] = {
                bindGroups: i,
                pipeline: t.createPipelineLayout(r)
            },
            this._gpuProgramData[e._layoutKey]
        }
        destroy() {
            this._gpu = null,
            this._gpuProgramData = null
        }
    }
    ;
    Ao.extension = {
        type: [B.WebGPUSystem],
        name: "shader"
    };
    var ct = {};
    ct.normal = {
        alpha: {
            srcFactor: "one",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        },
        color: {
            srcFactor: "one",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        }
    },
    ct.add = {
        alpha: {
            srcFactor: "src-alpha",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        },
        color: {
            srcFactor: "one",
            dstFactor: "one",
            operation: "add"
        }
    },
    ct.multiply = {
        alpha: {
            srcFactor: "one",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        },
        color: {
            srcFactor: "dst",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        }
    },
    ct.screen = {
        alpha: {
            srcFactor: "one",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        },
        color: {
            srcFactor: "one",
            dstFactor: "one-minus-src",
            operation: "add"
        }
    },
    ct.overlay = {
        alpha: {
            srcFactor: "one",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        },
        color: {
            srcFactor: "one",
            dstFactor: "one-minus-src",
            operation: "add"
        }
    },
    ct.none = {
        alpha: {
            srcFactor: "one",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        },
        color: {
            srcFactor: "zero",
            dstFactor: "zero",
            operation: "add"
        }
    },
    ct["normal-npm"] = {
        alpha: {
            srcFactor: "one",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        },
        color: {
            srcFactor: "src-alpha",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        }
    },
    ct["add-npm"] = {
        alpha: {
            srcFactor: "one",
            dstFactor: "one",
            operation: "add"
        },
        color: {
            srcFactor: "src-alpha",
            dstFactor: "one",
            operation: "add"
        }
    },
    ct["screen-npm"] = {
        alpha: {
            srcFactor: "one",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        },
        color: {
            srcFactor: "src-alpha",
            dstFactor: "one-minus-src",
            operation: "add"
        }
    },
    ct.erase = {
        alpha: {
            srcFactor: "zero",
            dstFactor: "one-minus-src-alpha",
            operation: "add"
        },
        color: {
            srcFactor: "zero",
            dstFactor: "one-minus-src",
            operation: "add"
        }
    },
    ct.min = {
        alpha: {
            srcFactor: "one",
            dstFactor: "one",
            operation: "min"
        },
        color: {
            srcFactor: "one",
            dstFactor: "one",
            operation: "min"
        }
    },
    ct.max = {
        alpha: {
            srcFactor: "one",
            dstFactor: "one",
            operation: "max"
        },
        color: {
            srcFactor: "one",
            dstFactor: "one",
            operation: "max"
        }
    };
    var Eo = class {
        constructor() {
            this.defaultState = new Et,
            this.defaultState.blend = !0
        }
        contextChange(e) {
            this.gpu = e
        }
        getColorTargets(e) {
            return [{
                format: "bgra8unorm",
                writeMask: 0,
                blend: ct[e.blendMode] || ct.normal
            }]
        }
        destroy() {
            this.gpu = null
        }
    }
    ;
    Eo.extension = {
        type: [B.WebGPUSystem],
        name: "state"
    };
    var sT = {
        type: "image",
        upload(a, e, t) {
            let i = a.resource
              , r = (a.pixelWidth | 0) * (a.pixelHeight | 0)
              , s = i.byteLength / r;
            t.device.queue.writeTexture({
                texture: e
            }, i, {
                offset: 0,
                rowsPerImage: a.pixelHeight,
                bytesPerRow: a.pixelHeight * s
            }, {
                width: a.pixelWidth,
                height: a.pixelHeight,
                depthOrArrayLayers: 1
            })
        }
    }
      , Y3 = {
        "bc1-rgba-unorm": {
            blockBytes: 8,
            blockWidth: 4,
            blockHeight: 4
        },
        "bc2-rgba-unorm": {
            blockBytes: 16,
            blockWidth: 4,
            blockHeight: 4
        },
        "bc3-rgba-unorm": {
            blockBytes: 16,
            blockWidth: 4,
            blockHeight: 4
        },
        "bc7-rgba-unorm": {
            blockBytes: 16,
            blockWidth: 4,
            blockHeight: 4
        },
        "etc1-rgb-unorm": {
            blockBytes: 8,
            blockWidth: 4,
            blockHeight: 4
        },
        "etc2-rgba8unorm": {
            blockBytes: 16,
            blockWidth: 4,
            blockHeight: 4
        },
        "astc-4x4-unorm": {
            blockBytes: 16,
            blockWidth: 4,
            blockHeight: 4
        }
    }
      , nT = {
        blockBytes: 4,
        blockWidth: 1,
        blockHeight: 1
    }
      , oT = {
        type: "compressed",
        upload(a, e, t) {
            let i = a.pixelWidth
              , r = a.pixelHeight
              , s = Y3[a.format] || nT;
            for (let o = 0; o < a.resource.length; o++) {
                let d = a.resource[o]
                  , h = Math.ceil(i / s.blockWidth) * s.blockBytes;
                t.device.queue.writeTexture({
                    texture: e,
                    mipLevel: o
                }, d, {
                    offset: 0,
                    bytesPerRow: h
                }, {
                    width: Math.ceil(i / s.blockWidth) * s.blockWidth,
                    height: Math.ceil(r / s.blockHeight) * s.blockHeight,
                    depthOrArrayLayers: 1
                }),
                i = Math.max(i >> 1, 1),
                r = Math.max(r >> 1, 1)
            }
        }
    }
      , $3 = {
        type: "image",
        upload(a, e, t) {
            let i = a.resource;
            if (!i)
                return;
            let r = Math.min(e.width, a.resourceWidth || a.pixelWidth)
              , s = Math.min(e.height, a.resourceHeight || a.pixelHeight)
              , o = a.alphaMode === "premultiply-alpha-on-upload";
            t.device.queue.copyExternalImageToTexture({
                source: i
            }, {
                texture: e,
                premultipliedAlpha: o
            }, {
                width: r,
                height: s
            })
        }
    }
      , cT = {
        type: "video",
        upload(a, e, t) {
            $3.upload(a, e, t)
        }
    }
      , cl = class {
        constructor(e) {
            this.device = e,
            this.sampler = e.createSampler({
                minFilter: "linear"
            }),
            this.pipelines = {}
        }
        _getMipmapPipeline(e) {
            let t = this.pipelines[e];
            return t || (this.mipmapShaderModule || (this.mipmapShaderModule = this.device.createShaderModule({
                code: `
    var<private> pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(
    vec2<f32>(-1.0, -1.0), vec2<f32>(-1.0, 3.0), vec2<f32>(3.0, -1.0));

    struct VertexOutput {
    @builtin(position) position : vec4<f32>,
    @location(0) texCoord : vec2<f32>,
    };

    @vertex
    fn vertexMain(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {
    var output : VertexOutput;
    output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);
    output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);
    return output;
    }

    @group(0) @binding(0) var imgSampler : sampler;
    @group(0) @binding(1) var img : texture_2d<f32>;

    @fragment
    fn fragmentMain(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {
    return textureSample(img, imgSampler, texCoord);
    }
`
            })),
            t = this.device.createRenderPipeline({
                layout: "auto",
                vertex: {
                    module: this.mipmapShaderModule,
                    entryPoint: "vertexMain"
                },
                fragment: {
                    module: this.mipmapShaderModule,
                    entryPoint: "fragmentMain",
                    targets: [{
                        format: e
                    }]
                }
            }),
            this.pipelines[e] = t),
            t
        }
        generateMipmap(e) {
            let t = this._getMipmapPipeline(e.format);
            if (e.dimension === "3d" || e.dimension === "1d")
                throw new Error("Generating mipmaps for non-2d textures is currently unsupported!");
            let i = e
              , r = e.depthOrArrayLayers || 1
              , s = e.usage & GPUTextureUsage.RENDER_ATTACHMENT;
            if (!s) {
                let h = {
                    size: {
                        width: Math.ceil(e.width / 2),
                        height: Math.ceil(e.height / 2),
                        depthOrArrayLayers: r
                    },
                    format: e.format,
                    usage: GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_SRC | GPUTextureUsage.RENDER_ATTACHMENT,
                    mipLevelCount: e.mipLevelCount - 1
                };
                i = this.device.createTexture(h)
            }
            let o = this.device.createCommandEncoder({})
              , d = t.getBindGroupLayout(0);
            for (let h = 0; h < r; ++h) {
                let l = e.createView({
                    baseMipLevel: 0,
                    mipLevelCount: 1,
                    dimension: "2d",
                    baseArrayLayer: h,
                    arrayLayerCount: 1
                })
                  , u = s ? 1 : 0;
                for (let p = 1; p < e.mipLevelCount; ++p) {
                    let y = i.createView({
                        baseMipLevel: u++,
                        mipLevelCount: 1,
                        dimension: "2d",
                        baseArrayLayer: h,
                        arrayLayerCount: 1
                    })
                      , _ = o.beginRenderPass({
                        colorAttachments: [{
                            view: y,
                            storeOp: "store",
                            loadOp: "clear",
                            clearValue: {
                                r: 0,
                                g: 0,
                                b: 0,
                                a: 0
                            }
                        }]
                    })
                      , v = this.device.createBindGroup({
                        layout: d,
                        entries: [{
                            binding: 0,
                            resource: this.sampler
                        }, {
                            binding: 1,
                            resource: l
                        }]
                    });
                    _.setPipeline(t),
                    _.setBindGroup(0, v),
                    _.draw(3, 1, 0, 0),
                    _.end(),
                    l = y
                }
            }
            if (!s) {
                let h = {
                    width: Math.ceil(e.width / 2),
                    height: Math.ceil(e.height / 2),
                    depthOrArrayLayers: r
                };
                for (let l = 1; l < e.mipLevelCount; ++l)
                    o.copyTextureToTexture({
                        texture: i,
                        mipLevel: l - 1
                    }, {
                        texture: e,
                        mipLevel: l
                    }, h),
                    h.width = Math.ceil(h.width / 2),
                    h.height = Math.ceil(h.height / 2)
            }
            return this.device.queue.submit([o.finish()]),
            s || i.destroy(),
            e
        }
    }
      , Po = class {
        constructor(e) {
            this.managedTextures = [],
            this._gpuSources = Object.create(null),
            this._gpuSamplers = Object.create(null),
            this._bindGroupHash = Object.create(null),
            this._textureViewHash = Object.create(null),
            this._uploads = {
                image: $3,
                buffer: sT,
                video: cT,
                compressed: oT
            },
            this._renderer = e,
            e.renderableGC.addManagedHash(this, "_gpuSources"),
            e.renderableGC.addManagedHash(this, "_gpuSamplers"),
            e.renderableGC.addManagedHash(this, "_bindGroupHash"),
            e.renderableGC.addManagedHash(this, "_textureViewHash")
        }
        contextChange(e) {
            this._gpu = e
        }
        initSource(e) {
            if (e.autoGenerateMipmaps) {
                let h = Math.max(e.pixelWidth, e.pixelHeight);
                e.mipLevelCount = Math.floor(Math.log2(h)) + 1
            }
            let t = GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST;
            e.uploadMethodId !== "compressed" && (t |= GPUTextureUsage.RENDER_ATTACHMENT,
            t |= GPUTextureUsage.COPY_SRC);
            let i = Y3[e.format] || {
                blockBytes: 4,
                blockWidth: 1,
                blockHeight: 1
            }
              , r = Math.ceil(e.pixelWidth / i.blockWidth) * i.blockWidth
              , s = Math.ceil(e.pixelHeight / i.blockHeight) * i.blockHeight
              , o = {
                label: e.label,
                size: {
                    width: r,
                    height: s
                },
                format: e.format,
                sampleCount: e.sampleCount,
                mipLevelCount: e.mipLevelCount,
                dimension: e.dimension,
                usage: t
            }
              , d = this._gpu.device.createTexture(o);
            return this._gpuSources[e.uid] = d,
            this.managedTextures.includes(e) || (e.on("update", this.onSourceUpdate, this),
            e.on("resize", this.onSourceResize, this),
            e.on("destroy", this.onSourceDestroy, this),
            e.on("unload", this.onSourceUnload, this),
            e.on("updateMipmaps", this.onUpdateMipmaps, this),
            this.managedTextures.push(e)),
            this.onSourceUpdate(e),
            d
        }
        onSourceUpdate(e) {
            let t = this.getGpuSource(e);
            t && (this._uploads[e.uploadMethodId] && this._uploads[e.uploadMethodId].upload(e, t, this._gpu),
            e.autoGenerateMipmaps && e.mipLevelCount > 1 && this.onUpdateMipmaps(e))
        }
        onSourceUnload(e) {
            let t = this._gpuSources[e.uid];
            t && (this._gpuSources[e.uid] = null,
            t.destroy())
        }
        onUpdateMipmaps(e) {
            this._mipmapGenerator || (this._mipmapGenerator = new cl(this._gpu.device));
            let t = this.getGpuSource(e);
            this._mipmapGenerator.generateMipmap(t)
        }
        onSourceDestroy(e) {
            e.off("update", this.onSourceUpdate, this),
            e.off("unload", this.onSourceUnload, this),
            e.off("destroy", this.onSourceDestroy, this),
            e.off("resize", this.onSourceResize, this),
            e.off("updateMipmaps", this.onUpdateMipmaps, this),
            this.managedTextures.splice(this.managedTextures.indexOf(e), 1),
            this.onSourceUnload(e)
        }
        onSourceResize(e) {
            let t = this._gpuSources[e.uid];
            t ? (t.width !== e.pixelWidth || t.height !== e.pixelHeight) && (this._textureViewHash[e.uid] = null,
            this._bindGroupHash[e.uid] = null,
            this.onSourceUnload(e),
            this.initSource(e)) : this.initSource(e)
        }
        _initSampler(e) {
            return this._gpuSamplers[e._resourceId] = this._gpu.device.createSampler(e),
            this._gpuSamplers[e._resourceId]
        }
        getGpuSampler(e) {
            return this._gpuSamplers[e._resourceId] || this._initSampler(e)
        }
        getGpuSource(e) {
            return this._gpuSources[e.uid] || this.initSource(e)
        }
        getTextureBindGroup(e) {
            var t;
            return (t = this._bindGroupHash[e.uid]) != null ? t : this._createTextureBindGroup(e)
        }
        _createTextureBindGroup(e) {
            let t = e.source;
            return this._bindGroupHash[e.uid] = new Ht({
                0: t,
                1: t.style,
                2: new Je({
                    uTextureMatrix: {
                        type: "mat3x3<f32>",
                        value: e.textureMatrix.mapCoord
                    }
                })
            }),
            this._bindGroupHash[e.uid]
        }
        getTextureView(e) {
            var t;
            let i = e.source;
            return (t = this._textureViewHash[i.uid]) != null ? t : this._createTextureView(i)
        }
        _createTextureView(e) {
            return this._textureViewHash[e.uid] = this.getGpuSource(e).createView(),
            this._textureViewHash[e.uid]
        }
        generateCanvas(e) {
            let t = this._renderer
              , i = t.gpu.device.createCommandEncoder()
              , r = xe.get().createCanvas();
            r.width = e.source.pixelWidth,
            r.height = e.source.pixelHeight;
            let s = r.getContext("webgpu");
            return s.configure({
                device: t.gpu.device,
                usage: GPUTextureUsage.COPY_DST | GPUTextureUsage.COPY_SRC,
                format: xe.get().getNavigator().gpu.getPreferredCanvasFormat(),
                alphaMode: "premultiplied"
            }),
            i.copyTextureToTexture({
                texture: t.texture.getGpuSource(e.source),
                origin: {
                    x: 0,
                    y: 0
                }
            }, {
                texture: s.getCurrentTexture()
            }, {
                width: r.width,
                height: r.height
            }),
            t.gpu.device.queue.submit([i.finish()]),
            r
        }
        getPixels(e) {
            let t = this.generateCanvas(e)
              , i = da.getOptimalCanvasAndContext(t.width, t.height)
              , r = i.context;
            r.drawImage(t, 0, 0);
            let {width: s, height: o} = t
              , d = r.getImageData(0, 0, s, o)
              , h = new Uint8ClampedArray(d.data.buffer);
            return da.returnCanvasAndContext(i),
            {
                pixels: h,
                width: s,
                height: o
            }
        }
        destroy() {
            this.managedTextures.slice().forEach(e => this.onSourceDestroy(e)),
            this.managedTextures = null;
            for (let e of Object.keys(this._bindGroupHash)) {
                let t = Number(e)
                  , i = this._bindGroupHash[t];
                i?.destroy(),
                this._bindGroupHash[t] = null
            }
            this._gpu = null,
            this._mipmapGenerator = null,
            this._gpuSources = null,
            this._bindGroupHash = null,
            this._textureViewHash = null,
            this._gpuSamplers = null
        }
    }
    ;
    Po.extension = {
        type: [B.WebGPUSystem],
        name: "texture"
    };
    var Ro = class {
        init() {
            let e = new Je({
                uTransformMatrix: {
                    value: new ie,
                    type: "mat3x3<f32>"
                },
                uColor: {
                    value: new Float32Array([1, 1, 1, 1]),
                    type: "vec4<f32>"
                },
                uRound: {
                    value: 0,
                    type: "f32"
                }
            })
              , t = Vr({
                name: "graphics",
                bits: [yl, vl(Ii()), dg, Yr]
            });
            this.shader = new ht({
                gpuProgram: t,
                resources: {
                    localUniforms: e
                }
            })
        }
        execute(e, t) {
            let i = t.context
              , r = i.customShader || this.shader
              , s = e.renderer
              , o = s.graphicsContext
              , {batcher: d, instructions: h} = o.getContextRenderData(i)
              , l = s.encoder;
            l.setGeometry(d.geometry, r.gpuProgram);
            let u = s.globalUniforms.bindGroup;
            l.setBindGroup(0, u, r.gpuProgram);
            let p = s.renderPipes.uniformBatch.getUniformBindGroup(r.resources.localUniforms, !0);
            l.setBindGroup(2, p, r.gpuProgram);
            let y = h.instructions
              , _ = null;
            for (let v = 0; v < h.instructionSize; v++) {
                let T = y[v];
                if (T.topology !== _ && (_ = T.topology,
                l.setPipelineFromGeometryProgramAndState(d.geometry, r.gpuProgram, e.state, T.topology)),
                r.groups[1] = T.bindGroup,
                !T.gpuBindGroup) {
                    let A = T.textures;
                    T.bindGroup = _l(A.textures, A.count),
                    T.gpuBindGroup = s.bindGroup.getBindGroup(T.bindGroup, r.gpuProgram, 1)
                }
                l.setBindGroup(1, T.bindGroup, r.gpuProgram),
                l.renderPassEncoder.drawIndexed(T.size, 1, T.start)
            }
        }
        destroy() {
            this.shader.destroy(!0),
            this.shader = null
        }
    }
    ;
    Ro.extension = {
        type: [B.WebGPUPipesAdaptor],
        name: "graphics"
    };
    var Mo = class {
        init() {
            let e = Vr({
                name: "mesh",
                bits: [Er, Gy, Yr]
            });
            this._shader = new ht({
                gpuProgram: e,
                resources: {
                    uTexture: K.EMPTY._source,
                    uSampler: K.EMPTY._source.style,
                    textureUniforms: {
                        uTextureMatrix: {
                            type: "mat3x3<f32>",
                            value: new ie
                        }
                    }
                }
            })
        }
        execute(e, t) {
            let i = e.renderer
              , r = t._shader;
            if (!r)
                r = this._shader,
                r.groups[2] = i.texture.getTextureBindGroup(t.texture);
            else if (!r.gpuProgram)
                return;
            let s = r.gpuProgram;
            if (s.autoAssignGlobalUniforms && (r.groups[0] = i.globalUniforms.bindGroup),
            s.autoAssignLocalUniforms) {
                let o = e.localUniforms;
                r.groups[1] = i.renderPipes.uniformBatch.getUniformBindGroup(o, !0)
            }
            i.encoder.draw({
                geometry: t._geometry,
                shader: r,
                state: t.state
            })
        }
        destroy() {
            this._shader.destroy(!0),
            this._shader = null
        }
    }
    ;
    Mo.extension = {
        type: [B.WebGPUPipesAdaptor],
        name: "mesh"
    };
    var dT = [...X3, vo, yo, zr, mo, Po, wo, Ao, Eo, So, _o, xo, go]
      , hT = [...H3, To]
      , lT = [Hn, Mo, Ro]
      , K3 = []
      , q3 = []
      , Z3 = [];
    pe.handleByNamedList(B.WebGPUSystem, K3),
    pe.handleByNamedList(B.WebGPUPipes, q3),
    pe.handleByNamedList(B.WebGPUPipesAdaptor, Z3),
    pe.add(...dT, ...hT, ...lT);
    var dl = class extends Lo {
        constructor() {
            let e = {
                name: "webgpu",
                type: yt.WEBGPU,
                systems: K3,
                renderPipes: q3,
                renderPipeAdaptors: Z3
            };
            super(e)
        }
    }
      , fT = {
        __proto__: null,
        WebGPURenderer: dl
    }
      , uT = {
        POINTS: "point-list",
        LINES: "line-list",
        LINE_STRIP: "line-strip",
        TRIANGLES: "triangle-list",
        TRIANGLE_STRIP: "triangle-strip"
    }
      , bS = new Proxy(uT,{
        get(a, e) {
            return a[e]
        }
    })
      , pS = new Pe(0,0,1,1);
    var bT = (a => (a[a.NONE = 0] = "NONE",
    a[a.LOW = 2] = "LOW",
    a[a.MEDIUM = 4] = "MEDIUM",
    a[a.HIGH = 8] = "HIGH",
    a))(bT || {})
      , Q3 = (a => (a.CLAMP = "clamp-to-edge",
    a.REPEAT = "repeat",
    a.MIRRORED_REPEAT = "mirror-repeat",
    a))(Q3 || {})
      , gS = new Proxy(Q3,{
        get(a, e) {
            return a[e]
        }
    })
      , J3 = (a => (a.NEAREST = "nearest",
    a.LINEAR = "linear",
    a))(J3 || {})
      , mS = new Proxy(J3,{
        get(a, e) {
            return a[e]
        }
    });
    var pT = Object.defineProperty
      , z1 = Object.getOwnPropertySymbols
      , gT = Object.prototype.hasOwnProperty
      , mT = Object.prototype.propertyIsEnumerable
      , V1 = (a, e, t) => e in a ? pT(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , W1 = (a, e) => {
        for (var t in e || (e = {}))
            gT.call(e, t) && V1(a, t, e[t]);
        if (z1)
            for (var t of z1(e))
                mT.call(e, t) && V1(a, t, e[t]);
        return a
    }
      , _T = class e5 extends le {
        constructor(e={}) {
            e = W1(W1({}, e5.defaultOptions), e),
            super(),
            this.renderLayerChildren = [],
            this.sortableChildren = e.sortableChildren,
            this.sortFunction = e.sortFunction
        }
        attach(...e) {
            for (let t = 0; t < e.length; t++) {
                let i = e[t];
                if (i.parentRenderLayer) {
                    if (i.parentRenderLayer === this)
                        continue;
                    i.parentRenderLayer.detach(i)
                }
                this.renderLayerChildren.push(i),
                i.parentRenderLayer = this;
                let r = this.renderGroup || this.parentRenderGroup;
                r && (r.structureDidChange = !0)
            }
            return e[0]
        }
        detach(...e) {
            for (let t = 0; t < e.length; t++) {
                let i = e[t]
                  , r = this.renderLayerChildren.indexOf(i);
                r !== -1 && this.renderLayerChildren.splice(r, 1),
                i.parentRenderLayer = null;
                let s = this.renderGroup || this.parentRenderGroup;
                s && (s.structureDidChange = !0)
            }
            return e[0]
        }
        detachAll() {
            let e = this.renderLayerChildren;
            for (let t = 0; t < e.length; t++)
                e[t].parentRenderLayer = null;
            this.renderLayerChildren.length = 0
        }
        collectRenderables(e, t, i) {
            let r = this.renderLayerChildren
              , s = r.length;
            this.sortableChildren && this.sortRenderLayerChildren();
            for (let o = 0; o < s; o++)
                r[o].parent || Jt("Container must be added to both layer and scene graph. Layers only handle render order - the scene graph is required for transforms (addChild)", r[o]),
                r[o].collectRenderables(e, t, this)
        }
        sortRenderLayerChildren() {
            this.renderLayerChildren.sort(this.sortFunction)
        }
        _getGlobalBoundsRecursive(e, t, i) {
            if (!e)
                return;
            let r = this.renderLayerChildren;
            for (let s = 0; s < r.length; s++)
                r[s]._getGlobalBoundsRecursive(!0, t, this)
        }
    }
    ;
    _T.defaultOptions = {
        sortableChildren: !1,
        sortFunction: (a, e) => a.zIndex - e.zIndex
    };
    function yT(a, e, t, i) {
        let r = t.buffers[0]
          , s = r.data
          , {verticesX: o, verticesY: d} = t
          , h = a / (o - 1)
          , l = e / (d - 1)
          , u = 0
          , p = i[0]
          , y = i[1]
          , _ = i[2]
          , v = i[3]
          , T = i[4]
          , A = i[5]
          , P = i[6]
          , I = i[7]
          , F = i[8];
        for (let D = 0; D < s.length; D += 2) {
            let H = u % o * h
              , N = (u / o | 0) * l
              , j = p * H + y * N + _
              , re = v * H + T * N + A
              , ce = P * H + I * N + F;
            s[D] = j / ce,
            s[D + 1] = re / ce,
            u++
        }
        r.update()
    }
    function t5(a, e) {
        let t = e[0]
          , i = e[1]
          , r = e[2]
          , s = e[3]
          , o = e[4]
          , d = e[5]
          , h = e[6]
          , l = e[7]
          , u = e[8];
        return a[0] = o * u - d * l,
        a[1] = r * l - i * u,
        a[2] = i * d - r * o,
        a[3] = d * h - s * u,
        a[4] = t * u - r * h,
        a[5] = r * s - t * d,
        a[6] = s * l - o * h,
        a[7] = i * h - t * l,
        a[8] = t * o - i * s,
        a
    }
    function a5(a, e, t) {
        let i = e[0]
          , r = e[1]
          , s = e[2]
          , o = e[3]
          , d = e[4]
          , h = e[5]
          , l = e[6]
          , u = e[7]
          , p = e[8]
          , y = t[0]
          , _ = t[1]
          , v = t[2]
          , T = t[3]
          , A = t[4]
          , P = t[5]
          , I = t[6]
          , F = t[7]
          , D = t[8];
        return a[0] = y * i + _ * o + v * l,
        a[1] = y * r + _ * d + v * u,
        a[2] = y * s + _ * h + v * p,
        a[3] = T * i + A * o + P * l,
        a[4] = T * r + A * d + P * u,
        a[5] = T * s + A * h + P * p,
        a[6] = I * i + F * o + D * l,
        a[7] = I * r + F * d + D * u,
        a[8] = I * s + F * h + D * p,
        a
    }
    function xT(a, e, t) {
        let i = t[0]
          , r = t[1]
          , s = t[2];
        return a[0] = e[0] * i + e[1] * r + e[2] * s,
        a[1] = e[3] * i + e[4] * r + e[5] * s,
        a[2] = e[6] * i + e[7] * r + e[8] * s,
        a
    }
    var vT = [0, 0, 0, 0, 0, 0, 0, 0, 0]
      , TT = [0, 0, 0]
      , Ds = [0, 0, 0];
    function Y1(a, e, t, i, r, s, o, d, h) {
        let l = vT;
        l[0] = e,
        l[1] = i,
        l[2] = s,
        l[3] = t,
        l[4] = r,
        l[5] = o,
        l[6] = 1,
        l[7] = 1,
        l[8] = 1;
        let u = t5(a, l);
        Ds[0] = d,
        Ds[1] = h,
        Ds[2] = 1;
        let p = xT(TT, u, Ds)
          , y = a;
        return a[0] = p[0],
        a[1] = 0,
        a[2] = 0,
        a[3] = 0,
        a[4] = p[1],
        a[5] = 0,
        a[6] = 0,
        a[7] = 0,
        a[8] = p[2],
        a5(a, y, l)
    }
    var ST = [0, 0, 0, 0, 0, 0, 0, 0, 0]
      , wT = [0, 0, 0, 0, 0, 0, 0, 0, 0];
    function AT(a, e, t, i, r, s, o, d, h, l, u, p, y, _, v, T, A) {
        let P = Y1(ST, e, t, s, o, l, u, _, v)
          , I = Y1(wT, i, r, d, h, p, y, T, A);
        return a5(a, t5(P, P), I)
    }
    var hl = class extends Ap {
        constructor(e) {
            super(e),
            this._projectionMatrix = [0, 0, 0, 0, 0, 0, 0, 0, 0];
            let {width: t, height: i} = e;
            this.corners = [0, 0, t, 0, t, i, 0, i]
        }
        setCorners(e, t, i, r, s, o, d, h) {
            let l = this.corners;
            l[0] = e,
            l[1] = t,
            l[2] = i,
            l[3] = r,
            l[4] = s,
            l[5] = o,
            l[6] = d,
            l[7] = h,
            this.updateProjection()
        }
        updateProjection() {
            let {width: e, height: t} = this
              , i = this.corners
              , r = AT(this._projectionMatrix, 0, 0, i[0], i[1], e, 0, i[2], i[3], e, t, i[4], i[5], 0, t, i[6], i[7]);
            yT(e, t, this, r)
        }
    }
      , ET = Object.defineProperty
      , PT = Object.defineProperties
      , RT = Object.getOwnPropertyDescriptors
      , Co = Object.getOwnPropertySymbols
      , i5 = Object.prototype.hasOwnProperty
      , r5 = Object.prototype.propertyIsEnumerable
      , $1 = (a, e, t) => e in a ? ET(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Td = (a, e) => {
        for (var t in e || (e = {}))
            i5.call(e, t) && $1(a, t, e[t]);
        if (Co)
            for (var t of Co(e))
                r5.call(e, t) && $1(a, t, e[t]);
        return a
    }
      , MT = (a, e) => PT(a, RT(e))
      , CT = (a, e) => {
        var t = {};
        for (var i in a)
            i5.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Co)
            for (var i of Co(a))
                e.indexOf(i) < 0 && r5.call(a, i) && (t[i] = a[i]);
        return t
    }
      , OT = class s5 extends Za {
        constructor(e) {
            e = Td(Td({}, s5.defaultOptions), e);
            let t = e
              , {texture: i, verticesX: r, verticesY: s} = t
              , o = CT(t, ["texture", "verticesX", "verticesY"])
              , d = new hl(Mr({
                width: i.width,
                height: i.height,
                verticesX: r,
                verticesY: s
            }));
            super(Mr(MT(Td({}, o), {
                geometry: d
            }))),
            this._texture = i,
            this.geometry.setCorners(e.x0, e.y0, e.x1, e.y1, e.x2, e.y2, e.x3, e.y3)
        }
        textureUpdated() {
            let e = this.geometry;
            if (!e)
                return;
            let {width: t, height: i} = this.texture;
            (e.width !== t || e.height !== i) && (e.width = t,
            e.height = i,
            e.updateProjection())
        }
        set texture(e) {
            this._texture !== e && (super.texture = e,
            this.textureUpdated())
        }
        get texture() {
            return this._texture
        }
        setCorners(e, t, i, r, s, o, d, h) {
            this.geometry.setCorners(e, t, i, r, s, o, d, h)
        }
    }
    ;
    OT.defaultOptions = {
        texture: K.WHITE,
        verticesX: 10,
        verticesY: 10,
        x0: 0,
        y0: 0,
        x1: 100,
        y1: 0,
        x2: 100,
        y2: 100,
        x3: 0,
        y3: 100
    };
    var IT = Object.defineProperty
      , K1 = Object.getOwnPropertySymbols
      , GT = Object.prototype.hasOwnProperty
      , BT = Object.prototype.propertyIsEnumerable
      , q1 = (a, e, t) => e in a ? IT(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Z1 = (a, e) => {
        for (var t in e || (e = {}))
            GT.call(e, t) && q1(a, t, e[t]);
        if (K1)
            for (var t of K1(e))
                BT.call(e, t) && q1(a, t, e[t]);
        return a
    }
      , n5 = class o5 extends qr {
        constructor(e) {
            let {width: t, points: i, textureScale: r} = Z1(Z1({}, o5.defaultOptions), e);
            super({
                positions: new Float32Array(i.length * 4),
                uvs: new Float32Array(i.length * 4),
                indices: new Uint32Array((i.length - 1) * 6)
            }),
            this.points = i,
            this._width = t,
            this.textureScale = r,
            this._build()
        }
        get width() {
            return this._width
        }
        _build() {
            let e = this.points;
            if (!e)
                return;
            let t = this.getBuffer("aPosition")
              , i = this.getBuffer("aUV")
              , r = this.getIndex();
            if (e.length < 1)
                return;
            t.data.length / 4 !== e.length && (t.data = new Float32Array(e.length * 4),
            i.data = new Float32Array(e.length * 4),
            r.data = new Uint16Array((e.length - 1) * 6));
            let s = i.data
              , o = r.data;
            s[0] = 0,
            s[1] = 0,
            s[2] = 0,
            s[3] = 1;
            let d = 0
              , h = e[0]
              , l = this._width * this.textureScale
              , u = e.length;
            for (let y = 0; y < u; y++) {
                let _ = y * 4;
                if (this.textureScale > 0) {
                    let v = h.x - e[y].x
                      , T = h.y - e[y].y
                      , A = Math.sqrt(v * v + T * T);
                    h = e[y],
                    d += A / l
                } else
                    d = y / (u - 1);
                s[_] = d,
                s[_ + 1] = 0,
                s[_ + 2] = d,
                s[_ + 3] = 1
            }
            let p = 0;
            for (let y = 0; y < u - 1; y++) {
                let _ = y * 2;
                o[p++] = _,
                o[p++] = _ + 1,
                o[p++] = _ + 2,
                o[p++] = _ + 2,
                o[p++] = _ + 1,
                o[p++] = _ + 3
            }
            i.update(),
            r.update(),
            this.updateVertices()
        }
        updateVertices() {
            let e = this.points;
            if (e.length < 1)
                return;
            let t = e[0], i, r = 0, s = 0, o = this.buffers[0].data, d = e.length, h = this.textureScale > 0 ? this.textureScale * this._width / 2 : this._width / 2;
            for (let l = 0; l < d; l++) {
                let u = e[l]
                  , p = l * 4;
                l < e.length - 1 ? i = e[l + 1] : i = u,
                s = -(i.x - t.x),
                r = i.y - t.y;
                let y = (1 - l / (d - 1)) * 10;
                y > 1 && (y = 1);
                let _ = Math.sqrt(r * r + s * s);
                _ < 1e-6 ? (r = 0,
                s = 0) : (r /= _,
                s /= _,
                r *= h,
                s *= h),
                o[p] = u.x + r,
                o[p + 1] = u.y + s,
                o[p + 2] = u.x - r,
                o[p + 3] = u.y - s,
                t = u
            }
            this.buffers[0].update()
        }
        update() {
            this.textureScale > 0 ? this._build() : this.updateVertices()
        }
    }
    ;
    n5.defaultOptions = {
        width: 200,
        points: [],
        textureScale: 0
    };
    var FT = n5
      , DT = Object.defineProperty
      , kT = Object.defineProperties
      , UT = Object.getOwnPropertyDescriptors
      , Oo = Object.getOwnPropertySymbols
      , c5 = Object.prototype.hasOwnProperty
      , d5 = Object.prototype.propertyIsEnumerable
      , Q1 = (a, e, t) => e in a ? DT(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , Sd = (a, e) => {
        for (var t in e || (e = {}))
            c5.call(e, t) && Q1(a, t, e[t]);
        if (Oo)
            for (var t of Oo(e))
                d5.call(e, t) && Q1(a, t, e[t]);
        return a
    }
      , LT = (a, e) => kT(a, UT(e))
      , NT = (a, e) => {
        var t = {};
        for (var i in a)
            c5.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Oo)
            for (var i of Oo(a))
                e.indexOf(i) < 0 && d5.call(a, i) && (t[i] = a[i]);
        return t
    }
      , jT = class h5 extends Za {
        constructor(e) {
            let t = Sd(Sd({}, h5.defaultOptions), e)
              , {texture: i, points: r, textureScale: s} = t
              , o = NT(t, ["texture", "points", "textureScale"])
              , d = new FT(Mr({
                width: i.height,
                points: r,
                textureScale: s
            }));
            s > 0 && (i.source.style.addressMode = "repeat"),
            super(Mr(LT(Sd({}, o), {
                texture: i,
                geometry: d
            }))),
            this.autoUpdate = !0,
            this.onRender = this._render
        }
        _render() {
            let e = this.geometry;
            (this.autoUpdate || e._width !== this.texture.height) && (e._width = this.texture.height,
            e.update())
        }
    }
    ;
    jT.defaultOptions = {
        textureScale: 0
    };
    var XT = Object.defineProperty
      , J1 = Object.getOwnPropertySymbols
      , HT = Object.prototype.hasOwnProperty
      , zT = Object.prototype.propertyIsEnumerable
      , e2 = (a, e, t) => e in a ? XT(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , t2 = (a, e) => {
        for (var t in e || (e = {}))
            HT.call(e, t) && e2(a, t, e[t]);
        if (J1)
            for (var t of J1(e))
                zT.call(e, t) && e2(a, t, e[t]);
        return a
    }
      , VT = class ll {
        constructor(e) {
            if (e instanceof K)
                this.texture = e,
                Gd(this, ll.defaultOptions, {});
            else {
                let t = t2(t2({}, ll.defaultOptions), e);
                Gd(this, t, {})
            }
        }
        get alpha() {
            return this._alpha
        }
        set alpha(e) {
            this._alpha = Math.min(Math.max(e, 0), 1),
            this._updateColor()
        }
        get tint() {
            return xr(this._tint)
        }
        set tint(e) {
            typeof e == "number" ? this._tint = e : this._tint = Ee.shared.setValue(e ?? 16777215).toBgrNumber(),
            this._updateColor()
        }
        _updateColor() {
            this.color = this._tint + ((this._alpha * 255 | 0) << 24)
        }
    }
    ;
    VT.defaultOptions = {
        anchorX: 0,
        anchorY: 0,
        x: 0,
        y: 0,
        scaleX: 1,
        scaleY: 1,
        rotation: 0,
        tint: 16777215,
        alpha: 1
    };
    var a2 = {
        vertex: {
            attributeName: "aVertex",
            format: "float32x2",
            code: `
const texture = p.texture;
const sx = p.scaleX;
const sy = p.scaleY;
const ax = p.anchorX;
const ay = p.anchorY;
const trim = texture.trim;
const orig = texture.orig;

if (trim)
{
w1 = trim.x - (ax * orig.width);
w0 = w1 + trim.width;

h1 = trim.y - (ay * orig.height);
h0 = h1 + trim.height;
}
else
{
w1 = -ax * (orig.width);
w0 = w1 + orig.width;

h1 = -ay * (orig.height);
h0 = h1 + orig.height;
}

f32v[offset] = w1 * sx;
f32v[offset + 1] = h1 * sy;

f32v[offset + stride] = w0 * sx;
f32v[offset + stride + 1] = h1 * sy;

f32v[offset + (stride * 2)] = w0 * sx;
f32v[offset + (stride * 2) + 1] = h0 * sy;

f32v[offset + (stride * 3)] = w1 * sx;
f32v[offset + (stride * 3) + 1] = h0 * sy;
`,
            dynamic: !1
        },
        position: {
            attributeName: "aPosition",
            format: "float32x2",
            code: `
var x = p.x;
var y = p.y;

f32v[offset] = x;
f32v[offset + 1] = y;

f32v[offset + stride] = x;
f32v[offset + stride + 1] = y;

f32v[offset + (stride * 2)] = x;
f32v[offset + (stride * 2) + 1] = y;

f32v[offset + (stride * 3)] = x;
f32v[offset + (stride * 3) + 1] = y;
`,
            dynamic: !0
        },
        rotation: {
            attributeName: "aRotation",
            format: "float32",
            code: `
var rotation = p.rotation;

f32v[offset] = rotation;
f32v[offset + stride] = rotation;
f32v[offset + (stride * 2)] = rotation;
f32v[offset + (stride * 3)] = rotation;
`,
            dynamic: !1
        },
        uvs: {
            attributeName: "aUV",
            format: "float32x2",
            code: `
var uvs = p.texture.uvs;

f32v[offset] = uvs.x0;
f32v[offset + 1] = uvs.y0;

f32v[offset + stride] = uvs.x1;
f32v[offset + stride + 1] = uvs.y1;

f32v[offset + (stride * 2)] = uvs.x2;
f32v[offset + (stride * 2) + 1] = uvs.y2;

f32v[offset + (stride * 3)] = uvs.x3;
f32v[offset + (stride * 3) + 1] = uvs.y3;
`,
            dynamic: !1
        },
        color: {
            attributeName: "aColor",
            format: "unorm8x4",
            code: `
const c = p.color;

u32v[offset] = c;
u32v[offset + stride] = c;
u32v[offset + (stride * 2)] = c;
u32v[offset + (stride * 3)] = c;
`,
            dynamic: !1
        }
    }
      , WT = Object.defineProperty
      , YT = Object.defineProperties
      , $T = Object.getOwnPropertyDescriptors
      , Io = Object.getOwnPropertySymbols
      , l5 = Object.prototype.hasOwnProperty
      , f5 = Object.prototype.propertyIsEnumerable
      , i2 = (a, e, t) => e in a ? WT(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , mi = (a, e) => {
        for (var t in e || (e = {}))
            l5.call(e, t) && i2(a, t, e[t]);
        if (Io)
            for (var t of Io(e))
                f5.call(e, t) && i2(a, t, e[t]);
        return a
    }
      , r2 = (a, e) => YT(a, $T(e))
      , KT = (a, e) => {
        var t = {};
        for (var i in a)
            l5.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Io)
            for (var i of Io(a))
                e.indexOf(i) < 0 && f5.call(a, i) && (t[i] = a[i]);
        return t
    }
      , qT = new qe(0,0,0,0)
      , ZT = class fl extends la {
        constructor(e={}) {
            e = r2(mi(mi({}, fl.defaultOptions), e), {
                dynamicProperties: mi(mi({}, fl.defaultOptions.dynamicProperties), e?.dynamicProperties)
            });
            let t = e
              , {dynamicProperties: i, shader: r, roundPixels: s, texture: o, particles: d} = t
              , h = KT(t, ["dynamicProperties", "shader", "roundPixels", "texture", "particles"]);
            super(mi({
                label: "ParticleContainer"
            }, h)),
            this.renderPipeId = "particle",
            this.batched = !1,
            this._childrenDirty = !1,
            this.texture = o || null,
            this.shader = r,
            this._properties = {};
            for (let l in a2) {
                let u = a2[l]
                  , p = i[l];
                this._properties[l] = r2(mi({}, u), {
                    dynamic: p
                })
            }
            this.allowChildren = !0,
            this.roundPixels = s ?? !1,
            this.particleChildren = d ?? []
        }
        addParticle(...e) {
            for (let t = 0; t < e.length; t++)
                this.particleChildren.push(e[t]);
            return this.onViewUpdate(),
            e[0]
        }
        removeParticle(...e) {
            let t = !1;
            for (let i = 0; i < e.length; i++) {
                let r = this.particleChildren.indexOf(e[i]);
                r > -1 && (this.particleChildren.splice(r, 1),
                t = !0)
            }
            return t && this.onViewUpdate(),
            e[0]
        }
        update() {
            this._childrenDirty = !0
        }
        onViewUpdate() {
            this._childrenDirty = !0,
            super.onViewUpdate()
        }
        get bounds() {
            return qT
        }
        updateBounds() {}
        destroy(e=!1) {
            var t, i, r;
            if (super.destroy(e),
            typeof e == "boolean" ? e : e?.texture) {
                let s = typeof e == "boolean" ? e : e?.textureSource
                  , o = (i = this.texture) != null ? i : (t = this.particleChildren[0]) == null ? void 0 : t.texture;
                o && o.destroy(s)
            }
            this.texture = null,
            (r = this.shader) == null || r.destroy()
        }
        removeParticles(e, t) {
            let i = this.particleChildren.splice(e, t);
            return this.onViewUpdate(),
            i
        }
        removeParticleAt(e) {
            let t = this.particleChildren.splice(e, 1);
            return this.onViewUpdate(),
            t[0]
        }
        addParticleAt(e, t) {
            return this.particleChildren.splice(t, 0, e),
            this.onViewUpdate(),
            e
        }
        addChild(...e) {
            throw new Error("ParticleContainer.addChild() is not available. Please use ParticleContainer.addParticle()")
        }
        removeChild(...e) {
            throw new Error("ParticleContainer.removeChild() is not available. Please use ParticleContainer.removeParticle()")
        }
        removeChildren(e, t) {
            throw new Error("ParticleContainer.removeChildren() is not available. Please use ParticleContainer.removeParticles()")
        }
        removeChildAt(e) {
            throw new Error("ParticleContainer.removeChildAt() is not available. Please use ParticleContainer.removeParticleAt()")
        }
        getChildAt(e) {
            throw new Error("ParticleContainer.getChildAt() is not available. Please use ParticleContainer.getParticleAt()")
        }
        setChildIndex(e, t) {
            throw new Error("ParticleContainer.setChildIndex() is not available. Please use ParticleContainer.setParticleIndex()")
        }
        getChildIndex(e) {
            throw new Error("ParticleContainer.getChildIndex() is not available. Please use ParticleContainer.getParticleIndex()")
        }
        addChildAt(e, t) {
            throw new Error("ParticleContainer.addChildAt() is not available. Please use ParticleContainer.addParticleAt()")
        }
        swapChildren(e, t) {
            throw new Error("ParticleContainer.swapChildren() is not available. Please use ParticleContainer.swapParticles()")
        }
        reparentChild(...e) {
            throw new Error("ParticleContainer.reparentChild() is not available with the particle container")
        }
        reparentChildAt(e, t) {
            throw new Error("ParticleContainer.reparentChildAt() is not available with the particle container")
        }
    }
    ;
    ZT.defaultOptions = {
        dynamicProperties: {
            vertex: !1,
            position: !0,
            rotation: !1,
            uvs: !1,
            color: !1
        },
        roundPixels: !1
    };
    var QT = Object.defineProperty
      , Go = Object.getOwnPropertySymbols
      , u5 = Object.prototype.hasOwnProperty
      , b5 = Object.prototype.propertyIsEnumerable
      , s2 = (a, e, t) => e in a ? QT(a, e, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: t
    }) : a[e] = t
      , JT = (a, e) => {
        for (var t in e || (e = {}))
            u5.call(e, t) && s2(a, t, e[t]);
        if (Go)
            for (var t of Go(e))
                b5.call(e, t) && s2(a, t, e[t]);
        return a
    }
      , eS = (a, e) => {
        var t = {};
        for (var i in a)
            u5.call(a, i) && e.indexOf(i) < 0 && (t[i] = a[i]);
        if (a != null && Go)
            for (var i of Go(a))
                e.indexOf(i) < 0 && b5.call(a, i) && (t[i] = a[i]);
        return t
    }
      , tS = class p5 extends la {
        constructor(e) {
            var t, i, r, s, o, d, h, l, u, p;
            e instanceof K && (e = {
                texture: e
            });
            let y = e
              , {width: _, height: v, leftWidth: T, rightWidth: A, topHeight: P, bottomHeight: I, texture: F, roundPixels: D} = y
              , H = eS(y, ["width", "height", "leftWidth", "rightWidth", "topHeight", "bottomHeight", "texture", "roundPixels"]);
            super(JT({
                label: "NineSliceSprite"
            }, H)),
            this.renderPipeId = "nineSliceSprite",
            this.batched = !0,
            this._leftWidth = (i = T ?? ((t = F?.defaultBorders) == null ? void 0 : t.left)) != null ? i : Wa.defaultOptions.leftWidth,
            this._topHeight = (s = P ?? ((r = F?.defaultBorders) == null ? void 0 : r.top)) != null ? s : Wa.defaultOptions.topHeight,
            this._rightWidth = (d = A ?? ((o = F?.defaultBorders) == null ? void 0 : o.right)) != null ? d : Wa.defaultOptions.rightWidth,
            this._bottomHeight = (l = I ?? ((h = F?.defaultBorders) == null ? void 0 : h.bottom)) != null ? l : Wa.defaultOptions.bottomHeight,
            this.bounds.maxX = this._width = (u = _ ?? F.width) != null ? u : Wa.defaultOptions.width,
            this.bounds.maxY = this._height = (p = v ?? F.height) != null ? p : Wa.defaultOptions.height,
            this.allowChildren = !1,
            this.texture = F ?? p5.defaultOptions.texture,
            this.roundPixels = D ?? !1
        }
        updateBounds() {}
        get width() {
            return this._width
        }
        set width(e) {
            this.bounds.maxX = this._width = e,
            this.onViewUpdate()
        }
        get height() {
            return this._height
        }
        set height(e) {
            this.bounds.maxY = this._height = e,
            this.onViewUpdate()
        }
        setSize(e, t) {
            var i;
            typeof e == "object" && (t = (i = e.height) != null ? i : e.width,
            e = e.width),
            this.bounds.maxX = this._width = e,
            this.bounds.maxY = this._height = t ?? e,
            this.onViewUpdate()
        }
        getSize(e) {
            return e || (e = {}),
            e.width = this._width,
            e.height = this._height,
            e
        }
        get leftWidth() {
            return this._leftWidth
        }
        set leftWidth(e) {
            this._leftWidth = e,
            this.onViewUpdate()
        }
        get topHeight() {
            return this._topHeight
        }
        set topHeight(e) {
            this._topHeight = e,
            this.onViewUpdate()
        }
        get rightWidth() {
            return this._rightWidth
        }
        set rightWidth(e) {
            this._rightWidth = e,
            this.onViewUpdate()
        }
        get bottomHeight() {
            return this._bottomHeight
        }
        set bottomHeight(e) {
            this._bottomHeight = e,
            this.onViewUpdate()
        }
        get texture() {
            return this._texture
        }
        set texture(e) {
            e || (e = K.EMPTY);
            let t = this._texture;
            t !== e && (t && t.dynamic && t.off("update", this.onViewUpdate, this),
            e.dynamic && e.on("update", this.onViewUpdate, this),
            this._texture = e,
            this.onViewUpdate())
        }
        get originalWidth() {
            return this._texture.width
        }
        get originalHeight() {
            return this._texture.height
        }
        destroy(e) {
            if (super.destroy(e),
            typeof e == "boolean" ? e : e?.texture) {
                let t = typeof e == "boolean" ? e : e?.textureSource;
                this._texture.destroy(t)
            }
            this._texture = null
        }
    }
    ;
    tS.defaultOptions = {
        texture: K.EMPTY
    };
    function zo(a) {
        return !((1080 < a || a < 400) && a != 0)
    }
    function Bi(a) {
        a = encodeURIComponent(a);
        let e = Math.floor(256 * Math.random())
          , t = e.toString(16).padStart(2, "0");
        for (let i = 0; i < a.length; ++i)
            e = 3793 + 4513 * e & 255,
            t += (a.charCodeAt(i) ^ e).toString(16).padStart(2, "0");
        return t
    }
    function n(a) {
        let e = ""
          , t = parseInt(a.substring(0, 2), 16);
        for (let r = 2; r < a.length; r += 2) {
            var i = parseInt(a.substring(r, r + 2), 16);
            t = 3793 + 4513 * t & 255,
            e += String.fromCharCode(i ^ t)
        }
        return decodeURIComponent(e)
    }
    function g5(a) {
        return a || ""
    }
    function Fi(a) {
        return new Function(n("6ccfcb4b0533dce646f5").concat(a, n("18cc6929")))()
    }
    function ts(a, e) {
        return a && typeof a == "object" && e && typeof e == "object" ? (Object.keys(e).forEach(t => {
            var i = a[t]
              , r = e[t];
            Array.isArray(i) && Array.isArray(r) ? a[t] = i.concat(r) : a[t] = i && typeof i == "object" && r && typeof r == "object" ? ts(Object.assign({}, i), r) : r
        }
        ),
        a) : e
    }
    function m5(a) {
        var e = new Uint16Array(a.length);
        for (let t = 0; t < a.length; ++t)
            e[t] = a.charCodeAt(t);
        return e
    }
    function Cl(a) {
        return 8 <= a.length && a[a.length - 7] === 65534 ? a.slice(-6) : null
    }
    function Te() {
        window.localStorage.setItem(n("97bff26375ab426df0bec77b44"), JSON.stringify(U))
    }
    function ba(a) {
        C.Vh && (a = Math.max(U["1x"], Math.min(a, 50)),
        C.lc = a,
        ii.Xi((C.lc - .25) / 4),
        C.Re.text = +a[n("53703a00be70bc2e")](2) + n("866f"))
    }
    var _5, vt, ea, Ol, y5, Il, x5, Qr, Gl, E, v5, R, b, G, T5, C, U, De, Ia, Mt, Vo, S5, Jr, Bl, w5, es, ei, Fl, Ct, Wo, Di, ki, A5, ti, ai, ii, Ga, z, E5, Ui, Li, et, pa, Ba, Ze, J;
    T5 = class extends le {
        constructor(a) {
            super(),
            this.mf = Object.assign({
                fq: {
                    x: 1,
                    y: 1
                },
                Zp: {
                    x: 1,
                    y: 1
                }
            }, a),
            this.initialize()
        }
        initialize() {
            this.ba = this.mf.ba,
            this.ga = this.mf.ga,
            "anchor"in this.ba && this.ba.anchor.set(.5),
            "anchor"in this.ga && this.ga.anchor.set(.5),
            this.addChild(this.ba),
            this.addChild(this.ga),
            this.Tn()
        }
        Yf() {
            this.Vo = this.width / 2.5,
            this.Eo = this.ga.width / 2
        }
        Tn() {
            this.Bk = function() {
                this.mf.cq?.()
            }
            ,
            this.To = function() {
                this.ga.position.set(0, 0),
                this.mf.bq?.()
            }
            ,
            this.Uo = function(a) {
                a = (t = this[n("1257bb6979c4b9c5")](a)).x;
                var e = t.y
                  , t = Math.min(Math.sqrt(a * a + e * e), this.Vo + this.Eo / 2);
                a = Math.atan2(e, a),
                this.ga.position.set(t * Math.cos(a), t * Math.sin(a)),
                this.mf.So?.({
                    angle: a,
                    Vj: t
                })
            }
        }
    }
    ,
    U = {
        "1a": 0,
        "1b": 0,
        "1c": 0,
        "1d": 10,
        "1e": 0,
        "1f": 0,
        "1g": 0,
        "1h": !0,
        "1i": .25,
        "1j": 0,
        "1k": !0,
        "1l": !0,
        "1m": !0,
        "1n": !(C = {
            k: "http://127.0.0.1:8000",
            nn: "ws://127.0.0.1:8000/api/ws/?a=",
            Nd: null,
            ik: 0,
            Zl: !1,
            Vh: !1,
            lc: 1,
            bd: [],
            Uh: [],
            Mi: [],
            fg: 0,
            th: 0,
            Fe: !1,
            Me: !1,
            Re: 0,
            Ne: 0,
            bg: 0,
            Le: !1,
            Gh: [],
            dg: !1,
            Xh: !0,
            Ra: 0,
            Zf: !1,
            Kd: null,
            al: 0,
            qb: {},
            Fj: 0,
            qj: 0,
            Fk: 0,
            ad: !1,
            Ld: {},
            Sh: () => {}
        }),
        "1o": 0,
        "1p": 1,
        "1q": 1,
        "1r": 238,
        "1s": !0,
        "1t": 0,
        "1u": 0,
        "1v": 0,
        "1w": 24,
        "1x": .25,
        "1y": 0,
        "1z": 1,
        "1aa": 0,
        "1ab": 0,
        "1ac": 0,
        "1ad": 0,
        "1ae": 0
    },
    De = {},
    Ia = {
        [n("16e3bdcf7b5eb059")]: n("06b2fadf6376ad7a6becf5935441b30866c6acdd7f59b2006ec097830f72b67068f6c6c9445c"),
        [n("9cbeae0ec314")]: C.k + n("ab799fd85f1553ceda079094710154cd9e5efbcc582f709cb31aa2"),
        [n("e46656d68bdc0f09dc0f")]: C.k + n("53216700a77dbb26326f787c99798c35462623348047db741b720a"),
        [n("3e8d6ca427")]: C.k + n("2d3b9da6c15751885c4592daff43568b181cf992a66d70da3558a0"),
        [n("a788c07440")]: C.k + n("ee5a82c78276d6699fe49dbbbc62d16adbbd86f3654cf03b76f9af"),
        [n("2a79805c4dd4")]: C.k + n("8d5b3d0661f7f128fce5327a5fe3f62bb8bc592315cd8d24cbf1"),
        [n("170a5eafa97cac")]: C.k + n("66d21abf1a0e4e11079c153334ea59e253357e7a25a54ce319"),
        [n("041701f23ae978")]: C.k + n("398f892acddb5d1c28d1e64683df2a1f6c888d0ffce161f03fa5"),
        [n("8ad92bb8bc2f63")]: C.k + n("1be92f48efa5c37e4ab70024e1b1c47d0eee6b6d9dbf9f525d83"),
        [n("e4776192da891e")]: C.k + n("4034b0d534e0e47b217aafa90af4e3787513d4d067fab857364e"),
        [n("6b7e2a7bdd10c4")]: C.k + n("4bd97f78bf75b32e3a6770749161b42d7e3e1b3dea4fcf220d73"),
        [n("10a31546265560")]: C.k + n("879dbbbc7bc96f92e6a3b43055ad7861b2fadf792d93337ef1b7"),
        [n("4cdfc93a6211a5")]: C.k + n("21b79112d5e3453440f98e6eebf742071490f51782f9191857cd"),
        [n("7c8ff96ab261fa")]: C.k + n("fc680c8970a4203f6d3663e54eb0273c296f08ac28be7c137a02"),
        [n("10a3154626556f")]: C.k + n("a5b3151e59efc930c4fd0a5277cbde039094711b00f5951cd3c9"),
        [n("6fe236c7c194c4d6")]: C.k + n("6c989c790034d0af1da693753e20d7ac59fff82de733a5feb4e7e827e63e"),
        [n("aaf92b989c0f4170")]: C.k + n("4d1bfd46a13731683c25f23a9f23366b787c9972863004395565c968873d"),
        [n("ed9c288543d2c296")]: C.k + n("06b2fadf7a6eae7167fcf593544ab94233959ecb7d49bb002e9bcec14c54"),
        [n("d625df4ce8dbadde")]: C.k + n("095fb97afd0b6d2c78e1b676d3ef7a2f3cb8dd2efaec787d11a78d24cbf1"),
        [n("6998acb9dfee5e94")]: C.k + n("7543c56e891f1940140dda02471bee53a044415a6e18ec11bc4d21307fe5"),
        [n("6998acb9dfee5e95")]: C.k + n("8311b730774d6b16e25fa84c49297ce5b676d3e4702a7ea7aa78b3fe7137"),
        [n("4bbe0a1bfd30e074")]: C.k + n("36e2ca8f4a3e9e2157ac25e3043a693263e54ebb2d396b707fea3e913c04"),
        [n("dc6f598ad2811304")]: C.k + n("a93f199a5d6bcd8cd84116d6734fda8f9c187d8e5a4cd8ddf0046d842b51"),
        [n("6fe236c7c194c4de")]: C.k + n("bc28ccc9b0e4607fad7623a58ef0677ce92f48fdb7c3750ee51238d7b6ce"),
        [n("d8eb5d0eee1d2f96")]: C.k + n("8074f095f4a0a43be13aefe9cab4a338b5539481f387b14aa951f49bf28a"),
        [n("7ff2c6d7318437c6")]: C.k + n("8311b730774d6b16e25fa84c49297ce5b676d3e4702a7ea7a97cb3fe7137"),
        [n("7003f5e646f58476")]: C.k + n("31878122c5d3550450c99e5efbc7521764808516a2d420557b88e50ca3d9"),
        [n("e11024315766d52a")]: C.k + n("1e8ad2f7524686594fd4cd8b6c52815a0b8db6a35521936804f4d6b9542c"),
        [n("2b9e6a3b9dd08311")]: C.k + n("53216700a77dbb26326f787c99798c3546262334807a8e775928432e8147"),
        [n("126193002497ea9d")]: C.k + n("5a4e2e2b2e9a429d0b100147209e459e4f496a1f099d572c40b51af51860"),
        [n("d9081c296f7eed25")]: C.k + n("61f7d1d295a305f400b9ceaeabb702c754d0b5c6928410854bddd5dc9389"),
        [n("bb2efa8b0d407384")]: C.k + n("69ffd9da9dab0dcc1881d696b38f1acf5cd8bdd890c015c0e6"),
        [n("d0e35506e6152490")]: C.k + n("786c888d0cb8dc23e932e7e1c2bcab30ad6b8cafe1efe035e006"),
        [n("64f7e1125a099883")]: C.k + n("dc082ce990c4405f8d560385aed0475cc90f68dd97a3557acd6b41a29ab9"),
        [n("39e8fc498f9e0d49")]: C.k + n("7b094f288f45631eea57a0444151641dae0ecb1c687928ace32af2"),
        [n("9306d2a325782aba")]: C.k + n("fa2e8e4b8efaa2fd6b70e12740fea5fe2f298a7f69aee0913c53ba42")
    },
    Mt = {
        [n("8adf29fbef6a3c55")]: n("76220a4f0afe5ee1176c6523c4f231f1ef786d2bccf33fb3e36f63"),
        [n("b4559ff2ce")]: n("b6624a0fcabe1ea1d72ca56384b2f1b1af38ad6b8cabe5a8b871fd11e1"),
        [n("e91b0c700c338e05c3521b45110fd21ac90502421c")]: n("5246262326927a853308395f188e55950b1c014720964f950b164d50069e54685fec4deb1729557949"),
        [n("ba9819a1df22")]: n("69ffd9da9dab0dcc1881d696b38702cc1085de9ebb9d1adce09f2dd975c5"),
        [n("dd8f38fc00ab82f58ea506f64ce8dbd394bf01cd109b92c89c8b")]: n("5480a461285cf8c735cebb1d2650d7d70dda83052e58cdd70dc4cf5c112ac1a21aebd9201f"),
        [n("9afc1de1db64450392fb25f9e9")]: n("8b19bf387f3573eefa27b0b451296ceef223b8bc592740cdc238c4fd48364cb4c62c9e"),
        [n("8c9f870cd944e0d3cdaa9d")]: n("0470749178ac2837653e6bed568027077d0a73d55e8b3318751431840e9c1240"),
        [n("94a48332cd3c")]: n("3a6ece0b4eba62bd2b30216700b67dbd2334296f08be65947c0e6456"),
        [n("acbfa72f95b3c241fd55d3b588cbb35b")]: n("de4a92379286c6998f148d4bac9ad999871095b3b461dd7594eec8eb937b92608ebc"),
        [n("b320f0e078241c988b2bf4fa")]: n("fc680c8970a4203f6d3663e54eb83f3f65326bed568737057b09318e6cc7371b2f"),
        [n("ebdbb8993aec38a5a6")]: n("dc082ce990c4405f8d560385aed85f5f85520b8db6a6472481295fa08de7573bcf"),
        [n("d0ea5b6ef11726e694e8586290784b")]: n("499ff93abdcb2dec38a1f6b693a722ec30a5febe9ba536fd00be82f68cba0eea47b79baf"),
        [n("67d52c9f")]: n("57ad6b8cabf9bfa236f344e0a5f590b20ef74ce8adf188bb41cd01d1"),
        [n("acb0a726f1d7a4")]: n("86327a5ffaee2ef1e77c7513d4c221c1ff487d1bdcc635d4ff594e5cd280"),
        [n("421e4b1a09")]: n("b90f09aa4d5bdd9ca85166c60357b29ca0556ece0b53a06fff2f2337"),
        [n("9cbe9b23e13cb7bd81c7d636ed35b3b0f9b0")]: n("0c787c996094300f7d0673d55e882f0f75027bdd6682071f45181396449c1310591040924032"),
        [n("33a9606df2a5f46f77c90f1efea48d731abd16")]: n("0b993fb8ffb5f36e7aa73034d1a9ec6e72a3383cd9bdd47946b94873cbf6c46a18"),
        [n("a95b6a9b6a59")]: n("6c989c790034d0af1da693753e28cfaf15a29b7dc630a3b4e3fbab27bb"),
        [n("c43042aeeda13b3e88242ba791842013f1612e829a9a3f6fe4085f97c5f51b16dc7403f3d19c120fc90f1e9ab4f91702c36072feddf10e6eb8741bf734f4066a216d71f23ae96f1f357876ec35a56b462c2473a321cc625a395f6eca64c94732605022cf0db85d5e68444bc7042436ba11bd45227c315fb27aa4")]: n("71c7c1e2859315c41089de9ebb8f0ad4e89d2686439be396e48a38"),
        [n("0dbcc69ad82721f45e4fdaedab3a5a805c4cd69ce840")]: n("1a0eee6b6eda82dd4b50c10760d69ddd4354c90f68d4d5820666b6745ba694a8586ebf791b8d31bd6710307004e67af7272b3f"),
        [n("81a146fa20c4b7f3c6b45eef40bfaaf2a1515c8a5054")]: n("76220a4f0afe5ee1176c6523c4f231f1ef786d2bcce827f2e06a234cf38d39d5a5"),
        [n("ab1de5d36a341490832bf3e0764d0b9af92dee")]: n("a29656f3d6420a55c3d8498fe85e0525dbac51f7f0261024dfbf52a0ce7c"),
        [n("0932ce7dc92d470f5ea7a174c6ca581f")]: n("dba9ef882fe503be8af7c0e421f91cbe82f3c8ec29c802d0ddc985d5"),
        [n("7ff5ccbd4cf720c4b7f1d0b346f55eb7c1")]: n("8fe5a34463b1776afeabbc385dad686af6bf842065b14879c4f6c46a18"),
        [n("eabce9b5a65a82b1bf42ed48a3c99dbbca46e957dbbdf0c74741815643da85")]: n("f460048188bc5827952e1bfd46b037376d3a63e54eb42b22612820f17d9161")
    },
    Vo = {
        [n("4e9c6593210c664064d729")]: n("e3fc91a217eb4ce9aab9df984a92378696c88187019c578d92d8918f1d9ee89d26864380b09dbbbc6acf7e9bfbb3b43055a76074e4a7eb793efe5b6deaa2d27d518b152789bbdc68"),
        [n("4e9c6593210c664064d72a")]: n("37004ddecb1f989d7e5573f4e64683d222143ddbbd48e3d926f43da3b1aabca972ba1fbceca9ef883ee312b797e7c0e421fb1ca898f39fad4a92378186d6868905f749d2d5cf889c")
    },
    S5 = new Audio(C.k + n("56c22aaf2a1e7e01378c05c3241251110f980dcb2c174d0809971e6c02b0")),
    Jr = new Audio(C.k + n("9044e0a5e490b40bf10affd9da8cab0bc91ec7c1e29d831bd857878b9f")),
    Bl = [10001, 10002, 10003, 10004, 10005, 10006, 10007, 10008, 10009, 10010, 10011, 10012, 10013, 10014, 10015, 10017, 140, 142, 147, 23, 24, 25],
    w5 = [32, 33, 34, 35, 313, 314, 202],
    es = {},
    U["1g"] = 65280,
    U["1v"] = 65280,
    U["1ad"] = 65280,
    (ki = window.localStorage.getItem(n("ebeb86b701c72e819cca938f10"))) && (ki = JSON.parse(ki))["1r"] === 238 && Object.assign(U, ki),
    U["1t"] && (Ia[n("c17136873159aa")] = U["1t"]),
    Mt[U["1c"]] || (U["1c"] = Object.keys(Mt)[0],
    Te()),
    Ia[U["1b"]] || (U["1b"] = Object.keys(Mt)[0],
    Te()),
    Ct = ei = null,
    Wo = Fl = -1,
    Di = class extends le {
        constructor(a) {
            super(a),
            this[n("685cdcde02c9e3501424")] = "static",
            this.on("pointerdown", this.Hn)
        }
        Hn(a) {
            (a.shiftKey || C.Zf) && (Fl = a.pointerId,
            ei = this)
        }
    }
    ,
    ki = class extends Di {
        constructor(a) {
            super(a),
            a = new We().rect(0, 0, 4, 200).fill({
                color: 16777215
            }),
            this.$ = new We().circle(0, 0, 8).fill({
                color: 16777215
            }),
            this.$[n("af85c7475d907849d38d")] = "static",
            this.$[n("d9292e7e2e21ad")] = "pointer",
            this.$[n("87c8e68962c86491e1")][n("bab3")] = 2,
            this.$.on("pointerdown", this.pl),
            this.addChild(a),
            this.addChild(this.$),
            this[n("964f315ddbd939cc")] = new Pe(0,0,10,200)
        }
        pl(a) {
            Ct = this,
            Wo = a.pointerId
        }
        Xi(a, e) {
            e && ba(.25 + 3.75 * a),
            this.$.y = Math.max(this.$.height / 2, Math.min((1 - a) * this.height, this.height - this.$.height / 2))
        }
    }
    ,
    (ti = new (A5 = class extends Di {
        constructor(a) {
            super(a),
            (a = new je({
                [n("6207410d12")]: a.wg,
                [n("16d4acd0764e")]: {
                    [n("67fe06b49fda8cb306cc08")]: n("2a6bb86e4fd183"),
                    [n("8cbba131e432bb99f1")]: 12,
                    [n("c1542a9829")]: 16777215
                }
            })).position.y = 5,
            a.position.x = 100,
            a.anchor.x = .5,
            this.wg = a,
            this.addChild(a)
        }
        Yf(a) {
            for (; this.children[1]; )
                this.removeChild(this.children[1]);
            let e = this.wg.height + 15;
            for (var [t,i] of a.entries())
                (a = new je({
                    [n("074c6c02ff")]: (t + 1).toString() + ". " + i[n("027dad766d")].substring(0, 20),
                    [n("f270c07c9ae2")]: {
                        [n("f58018c60dac9ac1948206")]: n("f253e05697e9cb"),
                        [n("0ef9bfcf6670bd5f73")]: 12,
                        [n("e8df435780")]: 16777215
                    }
                })).position.y = e,
                a.position.x = 5,
                t = new je({
                    [n("585dffd328")]: i[n("b1415c915b52")],
                    [n("5377213fbb6d")]: {
                        [n("6e995f6f06c555e81f6b41")]: n("8b6cd92d6e2e62"),
                        [n("11e4fc2ae1d57e327c")]: 12,
                        [n("14033f8b74")]: 16777215
                    }
                }),
                t.position.x = 195,
                t.position.y = e,
                t.anchor.x = 1,
                e = e + a.height + 5 + 5,
                this.addChild(a),
                this.addChild(t);
            this[n("8af325e9cf6d3540")] = new Pe(0,0,this.width,this.height)
        }
    }
    )({
        wg: n("7e4713")
    })).position.x = 50,
    ti.position.y = 150,
    (ai = new A5({
        wg: n("d47753e497fb5e")
    })).position.x = 50,
    ai.position.y = 350,
    ii = new ki,
    Qa && (ti.scale.set(.8, .8),
    ai.scale.set(.8, .8)),
    Ga = Fi(n("8343ec1863577e")),
    z = Fi(n("a1764cb7507bc2b6dd")),
    E5 = Fi(n("aad50dcbc7581135ddb1")),
    z[n("77d90c8f89d5ae8b13d5e2866cc6")](n("d0c9664eb8"))[n("86642d6dcbef38efe77d2555f7")](n("b6330a28d4b810acca2a"), n("819c6c")),
    z.head.insertAdjacentHTML(n("2a59895b41cd95a45c27"), g5('<link rel="stylesheet" href="' + C.k + '/public/css/new.css" />')),
    Ui = null,
    Li = [],
    z.getElementById("social-buttons").remove(),
    et = new We,
    new Pt({
        fontFamily: n("31f2e737d4c844"),
        fontSize: 12,
        fill: 16777215
    }),
    pa = new Di,
    Ba = new we,
    Ze = new we,
    J = null,
    G = {},
    (b = {}).E = Fi(n("fa7cd5639ae0b7")),
    b.d = b.E[n("7aef53ee0b62257ff6")],
    G.e = function() {
        return (U["1n"] ? 1 : b.E[n("edba0ad6188196f49c9e12c42b8b8fc592")]) || 1
    }
    ,
    b.E.addEventListener(n("2d72c081d5"), async function() {
        var a, e, t, i, r, s, o, d, h, l, u, p, y, _, v, T, A, P, I, F, D, H, N, j, re, ce, Z, q, se, te, Ie, Tt, ne, de, Ni, Ae, Ot, ga, ta, ma, ji, Vt, _a, ya, Fa, xa, va, Da, It, Gt, Bt, Ft, Xi, ri, si, Yo, $o, Ko, qo, Dl, kl, Zo, Qo, Xe;
        function Hi(c) {
            this.zd = c,
            this.ta = 0
        }
        function Jo(c) {
            this.zd = c,
            this.ta = 0
        }
        function ka(c, f, g, m, x, S, w, M, O, k) {
            this.Db = c,
            this.Aj = f,
            this[n("ab08c8e65b1543c7")] = null,
            this.Cj = !1,
            this.ob = g,
            this.pb = m,
            this.hh = x,
            this.jh = S,
            this.kl = w || (O || x) / 2,
            this.In = M || (k || S) / 2,
            this.Kj = O || x,
            this.Oj = k || S,
            this.Yn = .5 - (this.kl - .5 * this.Kj) / this.hh,
            this.db = .5 - (this.In - .5 * this.Oj) / this.jh,
            this.jo = this.hh / this.Kj,
            this.po = this.jh / this.Oj
        }
        function ae(c, f, g, m, x, S, w, M, O, k, L, X, W, Y, V, be, oe, Re) {
            this.ng = c,
            this.Jh = f,
            this.uk = g,
            this.Po = m,
            this.Ck = x,
            this.Zo = S,
            this.Hk = w,
            this.fp = M,
            this.Pk = O,
            this.np = k,
            this.Wk = L,
            this.xp = X,
            this.bl = W,
            this.Dp = Y,
            this.il = V,
            this.ql = be,
            this.si = oe,
            this.El = Re
        }
        function aa() {}
        function ni(c) {
            this.xf = c
        }
        function ec() {
            this.cd = []
        }
        function Ul(c, f) {
            this.bj = c,
            this.Gf = f,
            this.Xg = this.Vg = 0
        }
        function Ta() {
            this.ma = new le,
            this.ma.sortableChildren = !0,
            this.P = new h,
            this.P.zIndex = 1.6,
            this.Y = 0,
            this.o = Array(797),
            this.o[0] = this.Gj(0, new b.nc, new b.nc);
            for (var c = 1; c < 797; c++)
                this.o[c] = this.Gj(c, new b.nc, new b.nc);
            this.Lj = this.Jj = this.oi = 0
        }
        function zi(c, f) {
            this.O = c,
            this.O.Qa(!1),
            this.id = f,
            this.id.Qa(!1)
        }
        function as(c) {
            this.ua = c,
            this.Aa = !1,
            this.Of = 1
        }
        function tc(c, f) {
            this.hb = c,
            this.Jn = f
        }
        function _e(c) {
            ++_e.Zn,
            this.Tj = c,
            this.gk = this.ek = this.ck = this.ak = this.Zj = null,
            this.Ub = this.lk = this.rd = !1
        }
        function Ll() {}
        function St() {}
        function ac() {
            this.sd = b.Nc.fk,
            this.tb = 0,
            this.Rc = 500,
            this.og = 4e3,
            this.Oh = 7e3
        }
        function Ge(c) {
            this.l = c,
            this.Bg = [],
            this.jl = 0
        }
        function Vi(c) {
            this.yi = c
        }
        function oi(c, f) {
            this.S = c,
            this.Oi = 80 <= c.oa,
            this.Hd = this.Gd = this.Kg = this.Ig = 0,
            this.me = this.Oi ? 1 : c.yd,
            this.$h = 1,
            this.ei = !1,
            this.Pg = this.Df = 0,
            this.Wa = 1,
            this.Ym = 6.283185307179586 * Math.random(),
            this.He = new b.cn,
            this.He.Zd(E.l.K.sd, this.S.qi === b.de.gf ? null : E.B.V().Ff(this.S.qi), E.B.V().jn(this.S.oa)),
            f.ml(c.T, this.He)
        }
        function ic() {
            this.Xa = new y(new b.nc,new b.nc),
            this.Xa.id.L.Up = "add",
            this.Xa.id.L.zIndex = 100,
            this.Xa.O.L.zIndex = 500
        }
        function rc(c, f) {
            this.O = c,
            this.id = f
        }
        function wt() {
            this.Qb = this.xb = this.Nb = this.Jb = this.Ja = 0,
            this.mh = []
        }
        function sc(c, f) {
            for (var g = 0; g < c.length; g++)
                if (parseInt(c[g][n("0bd569")]) === f)
                    return g;
            return -1
        }
        function ci() {}
        function nc() {}
        function Dt() {}
        function oc() {
            this.Ac = [],
            this.af = []
        }
        function fe() {
            this.fi = [],
            this.ii = [],
            this.v = !1,
            this.Yc = _,
            this.M = {}
        }
        function ia() {}
        function Wi(c, f, g) {
            for (this.Ec = g,
            this.Aa = !1,
            this.ma = new le,
            this.ma.visible = !1,
            this.Dd = Array(c),
            c = 0; c < this.Dd.length; c++)
                (g = new b.Gi(new Float32Array(3 * f))).Hi(f),
                this.Dd[c] = g,
                this.ma[n("97a9fd6e58a47462fb")](g.jd());
            this.Gc = this.Fc = 1,
            this.na()
        }
        function st() {}
        function Yi(c, f, g, m, x, S, w) {
            (w === 1 && C.bd.includes(S) || w === 2 && C.Uh.includes(S) || w === 3 && C.Mi.includes(S)) && (g = !1),
            this.bf = c,
            this.Ko = f,
            this.df = g,
            this.xk = m
        }
        function is() {
            var c = new Zt({
                [n("4cfcfa6b2248f0d620c0e5")]: {
                    [n("3547e18dcb5e5e946d41cc99b55b2c9a")]: [-.5, -.5, .5, -.5, .5, .5, -.5, -.5, .5, .5, -.5, .5],
                    [n("36a6acac420893224cab")]: [-.5, -.5, .5, -.5, .5, .5, -.5, -.5, .5, .5, -.5, .5]
                }
            })
              , f = new K;
            this.Cd = ht.from({
                [n("782ed6")]: {
                    [n("61a486e691b31f")]: n("c5c6351d2ad3b815a2d06ab261aabae3bdb672ba69acb7e3bcba7aa323f7d3d584a213ea00b89ee888fb5d9007879096d0d447c92f8f89d898962fdff29b77dd6a98a28bcbdf3bfd6c8afbb2f86066b07023a5f8ef6f78fe383cafb1f5775b974a79d5bc8c2969f91d5fda8ed8445c96580385d8d44b4fdf181c8f8591402c9e2055b391a654069d394ca678f47111216507a266b02c347e306bed208c3317274064d76dbe351970090a9d419f11154b070bba498d181254585dbd153133f65aec10684a645fb90ce01f7b7334b0a331c1f476266aecf43ef0c37e2453fbdb7196d4026868ecca2ed4f7410714908312d0c5054d0b9acd38d8d67c1f2ec0a751f6f4624808cca415a99b7db03ca3baeafdef72ba69efeccef8fe1eb553e2c6a6d5f355a84ce8dbeab9bb17e31e8d81c0d0d4478d4aaede9ecd8f2bd5f9b16cdb7792a28bcbdf398c28ccbfe5a33236f62523a789bc382be92f3ebae2913711e45373c4eb8c281baa486cdb85c9725c975c52de87d70f09dc181dfbd5f30235912605ef999f5f398828469f6fa22b276d3a28f23a9a6f693c6c60ef39c46121315517c22ad97f592c486cdf05c3521e450155d21ac9070d5c585ccf153236a606b503574a6610ee5ff917602e5ce3e736fcfe327a29a0be7eadfb483f53fec700d7f7492b4ff5d931e0ff5b1258da9656858c125a09dfef1edcc04c162ec0ae39a4c23511319ff83ee88e0ea563f2f6b6e5e365b87cf8ebebb1910fff12bb97fd8ab842aa59ffd8d8c8ec5fd61481c78cdd8b01d85cd8cb86d8dc4fc6e48077d17da6e8cbe08e62d363d7a1b8e82721873034a7f8b73a3efe5e2bade0903c13fd0025e5fd995b0eeb69"),
                    [n("782fc8aa1ba0db21f4")]: n("af90c347508d464fd8869c180b845449d780e40073922959a68cec0909d97d7fea30903432762c2fb96ffc786b7a382ded35d3621540002ea47786280f395e1cca10b0171d4d13098545dc584b5a180dcb153342f677ea1a684a460cee4ee11f766522c0b674d4f379217fe5e921b8bc2f2340ffd338c0e4151c0ca89b29f9fb571444d0d64186e4125878dfd505dbc14d1d6480f302a0d5755d7b8abe28a8c63bf523a780e7b4aa32ad6a88febc9cbb31f907bd91f9c0e457ee0cb9d9b9dfee1af4149a87d1878338ce1f999ed8d8dd3d95b1b326844480e8d1eddf398c609fe6aeb92b36f62523a08abc3a5ae92f3ebae2913711e4002497aecc791ff91f2edb85c95646965065d884d6581ede0d0b8cb4e4007380204eb38dbb5f79b8654b9b65a93626763063e54bfc786b7a092ba7538e3d11704064d732cc685b69393b97548410167716079b4ddc584b094f2cda023107d751fd02724a6c35ed5afe1b7b6934b1d161a7b6327a29afa97cb8bc2f7511d3866695b315680ca89b799fae59055296965685c753024cd9cf09d9ed501c2ec0e646f593743c6c88fb08a8c63bf523a790ebb9a925ad6bfaf1a9effe6fbe52f7d0d6c0e457bd5beaceaeddfb5d9054d2b281c7d6529a49cfc99cd8dc4fc6e491379137c6e8ceec8867dd74bde0acfe7036f62523a48cbc382bba786dabf8d4514cb84a64e8aecc6847bd5430dd87d30701a7101487d8971a12c90f1e95d5f30236b72a5aa88a864c2e8e215fb62eb06760467074e72deb7a7e3e6d6bed20c46222315766c22ad97f592c486cdf479d3d35561401b447950509094f5eda034557b104e4126d4d7a0eee58ce11632f63a7a174b0b4556d2bbaf43af8fc733158d1cc38cae4026b6bbf9b1d88a96b")
                },
                [n("3ea870a4")]: {
                    [n("a7aecc685fb955")]: {
                        [n("2c18008b427822ec5deb02")]: "vertmain",
                        [n("4a2863283cbc75")]: n("86643c6bfff838b8bc2f174dfdc135c9c349314ff5d931debb1d501495f14185e7125a098f895c989c0f557382b624b7d92d1d2acea213a3f32ef423ababa1e6873ae92df9a3bff8fd1cf652e0c6a7a0f355db4ceaaab9dfee4a9241c7c194d0d447dd2e8589c099ba0dd1ef8165db779bcad9fd8862c428cdceadf07620bc2623a48bff3929e92e4bbae2e2371395002497fd9b2a0eee1d3b9dd0c4755c965942f487d54549ad515ed791e40102d17706b19daa0e6ecf0e58fc32f47116216705f238986f693c787cef35d36246265523b57d9a3507691937804ed45132014756814d9a585e1f3e08cc022441c611b7352208485fbc78a84e4e6521c3e030e7f3743c3cb8ab00f2ed7e3c74fcca32cae44a2b0ca89b799adc0a50708781549094074d0b9a9e5e8ddb6b0220dcb012aac42a3528ceb915b59b7cc13ca3a7b7adf572bb1aace8bef8fd1ab55391c6a4a4f355a84ce8dbb9dfee4a924197b0cb9989058d4aab8dc99eda5a83c294308620c5c29dbbb92e8c4cdbbdf0b43023e12736b2faa97f49a36860fbf5925345e71733959b8c2a6af91a5a8ad0f00703a51016f6cd8d1a5c9e525bcfd8f11b66c67513f3c8ab5325982450a828e16b76366530b67afc7918793327b97f933f46272073d5288e36047e0c32ba4e98041c561815d21ac94f486d585ccf776d1de155e92369516f15f951fe5b3c0234b2d261a1b6703a76ffeb64aca73a6211b79764c7ff493c40f4cc749db70a5201d4d2169095741d57c3dd03cfc31a430497f144a9d9241925efa515abd13ded22e7e1b4f0f516ad6bfa97e3beaf33c50fbb85fb97bb14bd5a98ceacacfb5fe1029681d19692529a49bc9ede898b07fff48673c171d3b588accd49993dbfaaf2a12721f43034a7edab3a3ef82d6ceab9cd664aba0d66c8abc06e42b343378ad281525c975c52de87d70f08ad181c8f86a45177d17675a1cbfb1f78b9680c8c25e10376366563e538fc786b296f7efa24d13e0c7704228e7787725b35486cdf56a5070b671a09854cdc593a094f5e89556240a607c610340a2c49ce19bf3d2a7050a7a400b0b5556d29cbbe7cdcab2f1104a69322c0e4533d51bf9b1dcbf00a5201d4d616c1cb560157829e5cfc8b0d406480f351f786624a799fff4ca1d12ce125abbceafdf67ead6bfabadab8bc2bf519828ce78ca20ef707ffd9acc8ed2e8543d285c196d4529b3a8cc89ed8dd3a95b3b1268444d3b588acc83b993fceaaf2a12727f47969f4a9ed6374a2353fb6f593224280406ee4b7c6684ff91f2e8ad3f00701d44343d4da9c19788a0e1c9ac3841771b7600686d1ec087bd1680d8a25e37205612732b270963f2f7c283afa22d17754564064d73ddb6a4e2e5d7bdd10d45043014527d21ac94f491c585ccf153342f555f7533508640cfb19bf4e2a7355a7a174f2ea782a78e6ce22f4e870224ce18d21f5e448324cf9df35c2f0620145d0da1c9094074d09eb9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f9a1e7f630e436a8bae088a036f60ea08ee7cba330f71bb68fc89fbf01d3178d81c9b88703da1092de9ecdcb4ff1a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a5f8b32f29fc7161fcb1cd474dbd4379d5b5da345e885f7fc193d74d41897847c39ad0521edf7f0b8fb1e40073d17706e2caf91f79cc680e8e25e37276366563e538fc786b7a3c3cfa22d13d16601523933dda1b4e2e5d088a5285070b6b0012875d8d4f486e585ebe153133a606b55335082c48bb19bf4e603565f2e630bbf6783b70fef223f3ab2d6004a1e77197a6513d4aae8e6feef81c521491f64cd8d0474d0b9a91498f9e49152281e64786d0744a6c898e54ace82af225a7abd4bab53efc30a5b5a9ef8d7aa251e3cda4ccf355db4ce8dbadc3ee468542a0d694b4c345985cd8cb89cfde5a82b19d76c07583f396ffae6ec44e91e0b2f52721f43035d3edab3a7a987876dcbfce6047f1165482e8e83f1b9d082c9fc5831216d6050385d8cb4f4f994f409ac2f15d36803543b3ddfa786ece7d1bff41f47517216604f238986f6b4d2e3aad6582264626550389718f3519711e7bdd10d45531014527d21ac94f491c585ccf153342f677ea1a684a460cee4ee11f766522c3b676a5f0722b2dafa80ffbbd2d7512d78666e6b317190ca89b799fae0a5201878154c0f252104ddfc909eecd5e1c2497f035e084770e2cd9f959fefd29b363e7e0c1f0f414ad698bfebeedeb6da044e0d3b1d7e612cc0ca29fe99fbb20c6179196d0d0d5368d4bda8dc99edc5a83c294308620c5c29dbbb92e8c4cdbb884b43252e12547b2fca96d69a3687eb7e2883711e4002297bac0744fb5437987d0980701d44347c5cd8b1a4eb85856cb85b35766c67513f4b9ec087b882846bb75a3270c363163e44bbf7969296e0bfa23a37753554062d77f9b351e6c456cc605c352561045049e469d03154b555fd6153342f555f75335087c29ea51fd126a3234b0a361a6c7327a29f9fa21ede27a2204a1e17195d7026c19fdd933d8ee0752188781549092070a50c4df05d3c917426897f144b3d7355d7af9be12a4d820f23ce7e0c1f0f467fd37a3bde3afa32cb553e2c6a7a4f355a83cb482fa82ac02d354d1b181c5a7529838cfcf9c9b9c1ed7ec976dc020c6c6dee7df398c6b8ceea7fc637aaa3d23a789bc382be92f3ebae2913711e4002297b4c6794aa84471c1c8810b16d60550e38dc16954834f4a9ac3801771c43353a4caec09089a7e0cea339467614770769621fc786b21787d9a35d3624620553a887b882e02730376df09d45043521005c30dca291d1f4f4bcc752440b311b2342208485fb90ca84c3f6523b2b676a5ea723c3cb8ab38f8f66b2553f7e03bc9f9557d1adb8e6e9de84a0305878027d395054d0aef9e5e8d8b0c346480f300a0ce330d3bdf981da0ce23e579b787e1adb222fa3cefe9cff8fc6fe532b38ee489b315bd5b99ceaedda83bc509a19ccb8782529a49c0de9ecd9b11d9e79d71d976d8f2ecec827fc97f9bdca3f06e76e12736b2fadb2f29fc6860f6b6ce604ea70b63f3bdd16e5eae4851c986c24747cd1015f5cd896b1ede0d0b8dc0e40073d17706ab9dbd1f79cc2c5aa575a23636601629bb67ab6f684d787cef66843157315615812bdb7f5859486cdf05c2265616451292508d1f09493e01935f7357b104af5335083954b819be3c2a7050a7a174b0b4276d2bbabe7eade27a2404a0933bd3f3553448e3e833c1f15d4502e3965685d0520b0d8f882fdb9d0d5572f7e646f593743c6c88fb0aa8dd7ba56281b5b7e7e364cd71bfb5e5bba12dfd12fc96d78aba08ea26ac8eee81bf168e03859181c7a5529a49dad59cd4cb4d80abd731847098eedee68866cf238bccaffd6d618b6363e5a4f87335ad383dddf5915306e6153395e88c281bf91f2edd85c557418a10148789dd404e9f494bdbb3ae5e2c866004f7ddfb786ece7d51b965a32e327d1629bb67ab6f684e787e9e35d616462727")
                    },
                    [n("7e693270e5fe21fbf2")]: {
                        [n("92c63ad1e45e0846f3c528")]: "fragmain",
                        [n("9dfd702553f1c6")]: n("86643c6bfff838b8bc2f174dfdc135c9c349314ff5d931debb1d501495f14185e7125a098f895c989c0f557382b624b7d92d1d2acea213a3f32ef423ababa1e6873ae92df9a3bff8fd1cf652e0c6a7a0f355db4ceaaab9dfee4a9241c7c194d0d447dd2e8589c099ba0dd1ef8165db779bcad9fd8862c428cdceadf07620bc2623a48bff3929e92e4bbae2e2371395002497fd9b2a0eee1d3b9dd0c4755c965942f487d54549ad515ed791e40102d17706b19daa0e6ecf0e58fc32f47116216705f238986f693c787cef35d36246265523b57d9a3507691937804ed45132014756814d9a585e1f3e08cc022441c611b7352208485fbc78a84e4e6521c3e030e7f3743c3cb8ab00f2ed7e3c74fcca32cae44a2b0ca89b799adc0a50708781549094074d0b9a9e5e8ddb6b0220dcb012aac42a3528ceb915b59b7cc13ca3a7b7adf572bb1aace8bef8fd1ab55391c6a4a4f355a84ce8dbb9dfee4a924197b0cb9989058d4aab8dc99eda5a83c294308620c5c29dbbb92e8c4cdbbdf0b43023e12736b2faa97f49a36860fbf5925345e71733959b8c2a6af91a5a8ad0f00703a51016f6cd8d1a5c9e525bcfd8f11b66c67513f3c8ab5325982450a828e16b76366530b67afc7918793327b97f933f46272073d5288e36047e0c32ba4e98041c561815d21ac94f486d585ccf776d1de155e92369516f15f951fe5b3c0234b2d261a1b6703a76ffeb64aca73a6211b79764c7ff493c40f4cc749db70a5201d4d2169095741d57c3dd03cfc31a430497f144a9d9241925efa515abd13ded22e7e1b4f0f516ad6bfa97e3beaf33c50fbb85fb97bb14bd5a98ceacacfb5fe1029681d19692529a49bc9ede898b07fff48673c171d3b588accd49993dbfaaf2a12721f43034a7edab3a3ef82d6ceab9cd664aba0d66c8abc06e42b343378ad281525c975c52de87d70f08ad181c8f86a45177d17675a1cbfb1f78b9680c8c25e10376366563e538fc786b296f7efa24d13e0c7704228e7787725b35486cdf56a5070b671a09854cdc593a094f5e89556240a607c610340a2c49ce19bf3d2a7050a7a400b0b5556d29cbbe7cdcab2f1104a69322c0e4533d51bf9b1dcbf00a5201d4d616c1cb560157829e5cfc8b0d406480f351f786624a799fff4ca1d12ce125abbceafdf67ead6bfabadab8bc2bf519828ce78ca20ef707ffd9acc8ed2e8543d285c196d4529b3a8cc89ed8dd3a95b3b1268444d3b588acc83b993fceaaf2a12727f47969f4a9ed6374a2353fb6f593224280406ee4b7c6684ff91f2e8ad3f00701d44343d4da9c19788a0e1c9ac3841771b7600686d1ec087bd1680d8a25e37205612732b270963f2f7c283afa22d17754564064d73ddb6a4e2e5d7bdd10d45043014527d21ac94f491c585ccf153342f555f7533508640cfb19bf4e2a7355a7a174f2ea782a78e6ce22f4e870224ce18d21f5e448324cf9df35c2f0620145d0da1c9094074d09eb9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f9a1e7f630e436a8bae088a036f60ea08ee7cba330f71bb68fc89fbf01d3178d81c9b88703da1092de9ecdcb4ff1a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a5f8b32f29fc7161fcb1cd474dbd4379d5b5da345e885f7fc193d74d41897847c39ad0521edf7f0b8fb1e40073d17706e2caf91f79cc680e8e25e37276366563e538fc786b7a3c3cfa22d13d16601523933dda1b4e2e5d088a5285070b6b0012875d8d4f486e585ebe153133a606b55335082c48bb19bf4e603565f2e630bbf6783b70fef223f3ab2d6004a1e77197a6513d4aae8e6feef81c521491f64cd8d0474d0b9a91498f9e49152281e64786d0744a6c898e54ace82af225a7abd4bab53efc30a5b5a9ef8d7aa251e3cda4ccf355db4ce8dbadc3ee468542a0d694b4c345985cd8cb89cfde5a82b19d76c07583f396ffae6ec44e91e0b2f52721f43035d3edab3a7a987876dcbfce6047f1165482e8e83f1b9d082c9fc5831216d6050385d8cb4f4f994f409ac2f15d36803543b3ddfa786ece7d1bff41f47517216604f238986f6b4d2e3aad6582264626550389718f3519711e7bdd10d45531014527d21ac94f491c585ccf153342f677ea1a684a460cee4ee11f766522c3b676a5f0722b2dafa80ffbbd2d7512d78666e6b317190ca89b799fae0a5201878154c0f252104ddfc909eecd5e1c2497f035e084770e2cd9f959fefd29b363e7e0c1f0f414ad698bfebeedeb6da044e0d3b1d7e612cc0ca29fe99fbb20c6179196d0d0d5368d4bda8dc99edc5a83c294308620c5c29dbbb92e8c4cdbb884b43252e12547b2fca96d69a3687eb7e2883711e4002297bac0744fb5437987d0980701d44347c5cd8b1a4eb85856cb85b35766c67513f4b9ec087b882846bb75a3270c363163e44bbf7969296e0bfa23a37753554062d77f9b351e6c456cc605c352561045049e469d03154b555fd6153342f555f75335087c29ea51fd126a3234b0a361a6c7327a29f9fa21ede27a2204a1e17195d7026c19fdd933d8ee0752188781549092070a50c4df05d3c917426897f144b3d7355d7af9be12a4d820f23ce7e0c1f0f467fd37a3bde3afa32cb553e2c6a7a4f355a83cb482fa82ac02d354d1b181c5a7529838cfcf9c9b9c1ed7ec976dc020c6c6dee7df398c6b8ceea7fc637aaa3d23a789bc382be92f3ebae2913711e4002297b4c6794aa84471c1c8810b16d60550e38dc16954834f4a9ac3801771c43353a4caec09089a7e0cea339467614770769621fc786b21787d9a35d3624620553a887b882e02730376df09d45043521005c30dca291d1f4f4bcc752440b311b2342208485fb90ca84c3f6523b2b676a5ea723c3cb8ab38f8f66b2553f7e03bc9f9557d1adb8e6e9de84a0305878027d395054d0aef9e5e8d8b0c346480f300a0ce330d3bdf981da0ce23e579b787e1adb222fa3cefe9cff8fc6fe532b38ee489b315bd5b99ceaedda83bc509a19ccb8782529a49c0de9ecd9b11d9e79d71d976d8f2ecec827fc97f9bdca3f06e76e12736b2fadb2f29fc6860f6b6ce604ea70b63f3bdd16e5eae4851c986c24747cd1015f5cd896b1ede0d0b8dc0e40073d17706ab9dbd1f79cc2c5aa575a23636601629bb67ab6f684d787cef66843157315615812bdb7f5859486cdf05c2265616451292508d1f09493e01935f7357b104af5335083954b819be3c2a7050a7a174b0b4276d2bbabe7eade27a2404a0933bd3f3553448e3e833c1f15d4502e3965685d0520b0d8f882fdb9d0d5572f7e646f593743c6c88fb0aa8dd7ba56281b5b7e7e364cd71bfb5e5bba12dfd12fc96d78aba08ea26ac8eee81bf168e03859181c7a5529a49dad59cd4cb4d80abd731847098eedee68866cf238bccaffd6d618b6363e5a4f87335ad383dddf5915306e6153395e88c281bf91f2edd85c557418a10148789dd404e9f494bdbb3ae5e2c866004f7ddfb786ece7d51b965a32e327d1629bb67ab6f684e787e9e35d616462727")
                    }
                },
                [n("9e5d0542cdc616d6c344")]: {
                    [n("d0d44646ac5163d5bd")]: f.source,
                    [n("3cf82d6e2d61eef636")]: f.source.style,
                    [n("bb19d3c7591f33dfb0")]: {
                        [n("a321e6f94b375bd5dd39dff24e19")]: {
                            value: [1, .5, .25, .5],
                            type: "vec4<f32>"
                        },
                        [n("19ffcf29e5fa6a2244c1c035c9f3")]: {
                            value: [0, 0],
                            type: "vec2<f32>"
                        },
                        [n("bf8595573b803044a2b7af5c389939")]: {
                            value: [0, 0],
                            type: "vec2<f32>"
                        }
                    }
                }
            }),
            this.Wd = new Za({
                [n("c95d2e93205bbb72a8")]: c,
                [n("6d2d8741950701")]: this.Cd
            })
        }
        function Wt() {
            this.L = new we,
            this.Tk = this.Rk = 0
        }
        function Qe(c) {
            this.K = c,
            this.S = new b.Vf.Tf,
            this.sb = !1,
            this.od = !0,
            this.tf = !1,
            this.ai = this.yb = 0,
            this.Wa = 1,
            this.Vb = this.Hg = 0,
            this.qa = {},
            this.ab = 0,
            this.Wb = new Float32Array(400),
            this.Za = new Float32Array(400),
            this.ia = new Float32Array(400),
            this.aa = this.ka = this.Ha = this.gl = null,
            this.ui()
        }
        function kt(c, f, g, m, x) {
            this.Ja = c,
            this.Jb = f,
            this.Nb = g,
            this.xb = m,
            this.Qb = x
        }
        function Ut(c) {
            this.H = new b.ah,
            this.H.ma[n("9484b203db01b387f8")](this.H.P),
            this.Og = this.dd = null,
            this.ed = c,
            this.Y = 0,
            this.bh = this.Zg = this.Yg = this.Wg = this.Tg = this.Rg = this.yd = 1,
            this.Dm(n("681c98880adbc8591627"))
        }
        function He(c) {
            this.ua = c
        }
        b.d[n("fee8a5e5477fa17863f9bcdb7352a8")](n("0115e259e05b704a680a"))[n("7e7c3468eef6")][n("cb18a4cd3fec30bb")] = n("de0dcc1e8198"),
        R = {
            A: function(c, f, g) {
                c[n("6e8c446e02")](),
                c[n("b78ed84e5ea553")](f, g)
            },
            g: function(c, f, g) {
                c[n("f43642a888")](),
                c[n("8037a3b7e19ab323")](f, g)
            }
        },
        G.Ta = function(c) {
            var f = c.parent;
            f?.removeChild(c)
        }
        ,
        n("6e8d456f06ea59e03e664b61"),
        ea = n("21fad720d5e5026b68bf991a88ac690750d6d613d4df191f56d8d60dc9cb11192e"),
        Ol = n("4b94394abf73f47112216700f23a9f383e7f323bad7384214d630a248a799d3f457502"),
        y5 = n("18cc682d75003f884582474162190f994d95051c43501d8a5d6c17f106b54433167914ec"),
        Il = n("f94f496a14039e576401a606c311725d7a0ea65dfb1f7b2163afe031f8eb723a2bbaa978b3fe7137"),
        n("ee5a82c79b6ed56293f49dbbbc68d36398eab4e56b3eb7606bfaadeb382bfe2920efbec6"),
        x5 = n("76220a4f13e65dea1b7c6523c4f123b8e3612d77feb63cfcfa6b3553fc8e27d0fb4a3d5ba89b6e99b05f0e56"),
        Qr = void 0,
        Q = b.E[n("736d445eb977b52b356b")],
        Qr = Q ||= n("cb19a3"),
        Gl = ( () => {
            switch (Qr) {
            case n("8fb5fa"):
                var c = n("684cc1e439fc");
                break;
            case n("baaf19"):
                c = n("f90e1e73392b");
                break;
            case n("338247"):
                c = n("06f1bac64c49");
                break;
            case n("4b993e"):
                c = n("0d9bfc9fd451");
                break;
            default:
                c = n("86722646dfc8")
            }
            return c
        }
        )(),
        window.moment.locale(Gl),
        E = null,
        a = b.E[n("78008bf33292f30ad3028394c186")],
        G.N = function(c) {
            return a[c]
        }
        ,
        G.te = function(c) {
            return c[Qr] || (c[n("1ba973")] ? c[n("63710b")] : c[n("569f")])
        }
        ,
        G.Pp = function(c) {
            return encodeURIComponent(c)
        }
        ,
        G.ha = function(c, f) {
            return setTimeout(c, f)
        }
        ,
        G.em = function(c) {
            clearTimeout(c)
        }
        ,
        G.Li = function(c) {
            var f = (Math.floor(c) % 60).toString()
              , g = (Math.floor(c / 60) % 60).toString()
              , m = (Math.floor(c / 3600) % 24).toString()
              , x = (c = Math.floor(c / 86400).toString(),
            G.N(n("2ba95977c3cec54b5e811b42d691ca")))
              , S = G.N(n("d0d4664ab80b62ceb5cc3443b3586cdc"))
              , w = G.N(n("e0c4565a881b52de85dc04568553"))
              , M = G.N(n("4064f6fa28bbf27e257ca4e829fe"));
            return 0 < c ? c + n("2f450392") + x + n("f6a28ab9") + m + n("d3a1e7f6") + S + n("2c585ccf") + g + n("cd9b7db0") + w + n("63315766") + f + n("1be92f3e") + M : 0 < m ? m + n("11a7a174") + S + n("f0e40073") + g + n("ab799fae") + w + n("c91f79cc") + f + n("992f29fc") + M : 0 < g ? g + n("7e2a7221") + w + n("60149083") + f + n("4197f144") + M : f + n("5a4e2e5d") + M
        }
        ,
        G.wm = function(c) {
            return c.includes(n("9801a88efa")) ? c.replaceAll(n("82fb36f0e0"), 'target="_black" href') : c
        }
        ,
        G.Wi = function(c, f=null, g=null) {
            var m = b.d[n("c317b7d3260c2cffa719a0db21f4")](n("da98ff9fb71fd4"));
            n("a1674db04070ceb6cc7e") !== typeof f && f !== null && (n("4ce8e07b3547fbcd31c1") !== typeof f[n("26de8c")] && (m[n("a49c82")] = f[n("8038a6")]),
            n("9c98b00bc5178b9dc191") !== typeof f[n("74a4c53e162a")] && f[n("a5f7542147f9")] && (m[n("8d1f7c397fe1")] = n("dbedaeb731f3")),
            n("5b79332aba76883c0670") !== typeof f[n("e0d547558147")] && f[n("9e4b0557c7c1")] && (m[n("188d3f0d791f")] = n("b78cdc4c5e9e")),
            n("69af85f888b806ce1486") !== typeof f[n("0919f953fe0d603278e5fa2a")]) && (m[n("72e046ea0574577b13ec55e3")] = f[n("8af83ef2fd6c3f53fbc43dcb")]),
            m[n("e92e126c08")] = n("684dcfc318989c791a20c4a207a6c42e083d"),
            m[n("92d026c6")] = c,
            g && (m[n("a01e8c9fcb9482")] = m[n("124cba5773c6bcd0695fbd597bcc88d04c5481")] = function() {
                try {
                    g()
                } catch {}
                m[n("11edfd28fae773")] = m[n("273747e8ce3dc9e75c1450d6d607ddc7590f5c")] = null
            }
            ),
            (b.d[n("7ae359ec1a")] || b.d[n("bb0bd8da7a1c24dfa61ab1c505011ddbac32acd32a")](n("ea93c99c8a"))[0])[n("13a56576f2a6fd4973a5716a")](m)
        }
        ,
        G.fa = function(c, f) {
            return f.prototype = Object.create(c.prototype),
            (f.prototype.constructor = f).parent = c,
            f
        }
        ,
        G.Im = function(c) {
            return (c %= 6.283185307179586) < 0 ? c + 6.283185307179586 : c
        }
        ,
        G.Rp = function(c, f, g) {
            return G.Jd(g, c, f)
        }
        ,
        G.Jd = function(c, f, g) {
            return g < c ? g : c < f ? f : Number.isFinite(c) ? c : .5 * (f + g)
        }
        ,
        G.Q = function(c, f, g, m) {
            return c < f ? Math.min(f, c + g * m) : Math.max(f, c - g * m)
        }
        ,
        G.yj = function(c, f, g) {
            return f + (c - f) * Math.pow(.5, g / 33.333)
        }
        ,
        G.Nf = function(c, f, g) {
            return c - (c - f) * g
        }
        ,
        G.dh = function(c, f) {
            return Math.sqrt(c * c + f * f)
        }
        ,
        G.Rj = function(c, f, g, m) {
            var x = f + m;
            if (c == null)
                throw new TypeError;
            for (m = c.length >>> 0,
            g = (g >>= 0) < 0 ? Math.max(m + g, 0) : Math.min(g, m),
            f = (f >>= 0) < 0 ? Math.max(m + f, 0) : Math.min(f, m),
            x = x === void 0 ? m : x >> 0,
            m = Math.min((x < 0 ? Math.max(m + x, 0) : Math.min(x, m)) - f, m - g),
            x = 1,
            f < g && g < f + m && (x = -1,
            f += m - 1,
            g += m - 1); 0 < m; )
                f in c ? c[g] = c[f] : delete c[g],
                f += x,
                g += x,
                m--
        }
        ,
        G.Vp = function(c, f, g, m) {
            var x = 6.283185307179586 * Math.random();
            return [c + (g = Math.sqrt(g * g + Math.random() * (m - g) * (m + g))) * Math.cos(x), f + g * Math.sin(x)]
        }
        ,
        G.io = function() {
            return 2147483647 * Math.random()
        }
        ,
        G.oo = function() {
            var c = [32, 33, 34, 35];
            return c[parseInt(Math.random() * c.length)]
        }
        ,
        G.Xp = (e = [n("5c9d"), n("46e6"), n("bfc2"), n("7cfe"), n("8e2b"), n("fa3e"), n("070e"), n("ce68"), n("ce67"), n("c66e"), n("f424"), n("9fb2"), n("b2a0"), n("a330"), n("36a2"), n("8037"), n("e294"), n("72eb"), n("c791"), n("cab1"), n("59a1"), n("552a"), n("108c"), n("0f2e"), n("3549"), n("ea8b"), n("6202"), n("41c0"), n("e8ca"), n("387d"), n("f117"), n("82e5"), n("2561"), n("6fd8"), n("058f"), n("95fc")].map(function(c) {
            return c.charCodeAt(0)
        }),
        function(c) {
            n("16d2b6cd7f4db5437bcb") == typeof c && (c = 16);
            for (var f = "", g = 0; g < c; g++)
                f += String.fromCharCode(e[Math.floor(Math.random() * e.length)]);
            return f
        }
        ),
        G.Yp = function(c, f, g, m) {
            f = g * (1 - .5 * f);
            var x = Math.min(f, 1 - f);
            return G.yh(c, x ? (g - f) / x : 0, f, m)
        }
        ,
        G.yh = function(c, f, g, m) {
            var x = (f *= 1 - Math.abs(2 * g - 1)) * (1 - Math.abs(c / 60 % 2 - 1));
            return g -= f / 2,
            0 <= c && c < 60 ? [g + f, g + x, g, m] : 60 <= c && c < 120 ? [g + x, g + f, g, m] : 120 <= c && c < 180 ? [g, g + f, g + x, m] : 180 <= c && c < 240 ? [g, g + x, g + f, m] : 240 <= c && c < 300 ? [g + x, g, g + f, m] : [g + f, g, g + x, m]
        }
        ,
        G.vc = function(c, f, g) {
            $[n("9fb7c466")](c)[n("21f4c23dc9")](f)[n("cb18a2d02a")](g)
        }
        ,
        G.$p = function(c, f, g, m) {
            var x = {};
            x[n("82e73de5e3")] = n("9b0bd8da"),
            x[n("1f2553fe")] = c,
            (c = {})[n("4b8e284dbf6fbf3136502c36b2")] = n("6fc1039092dd979311ce1c98"),
            c[n("af8fdf52418b5254d29bca")] = function(S) {
                S[n("f9061e421a1a97736e1ff341f11765546c")] && m(S[n("f42959a69cac5e")] / S[n("c94e24882c52")] * 100)
            }
            ,
            x[n("d45d7ed59ec07f47b85e")] = c,
            $[n("52027e042e")](x)[n("b8ef9b62d0")](f)[n("4b982250aa")](g)
        }
        ,
        G.Tb = function() {
            return Date.now()
        }
        ,
        G.xc = function(c, f) {
            for (var g in c)
                c.hasOwnProperty(g) && f(g, c[g])
        }
        ,
        G.aq = function(c) {
            for (var f = c.length - 1; 0 < f; f--) {
                var g = Math.floor(Math.random() * (f + 1))
                  , m = c[f];
                c[f] = c[g],
                c[g] = m
            }
            return c
        }
        ,
        b.Qh = Fi(n("cc5c7cedb1d85056b24373d5")),
        b.tg = Fi(n("df54802602420c3390")),
        b.Yo = (t = n("b303d0d27e064d92"),
        Hi.prototype.G = function() {
            var c = this.zd[t](this.ta);
            return this.ta += 1,
            c
        }
        ,
        i = n("0ef8b5d55b4da01420"),
        Hi.prototype.ya = function() {
            var c = this.zd[i](this.ta);
            return this.ta += 2,
            c
        }
        ,
        r = n("95e1723c50e4ef7faf"),
        Hi.prototype.yg = function() {
            var c = this.zd[r](this.ta);
            return this.ta += 4,
            c
        }
        ,
        s = n("a7bfcc6e6db0427fdbd383"),
        Hi.prototype.Bc = function() {
            var c = this.zd[s](this.ta);
            return this.ta += 4,
            c
        }
        ,
        Hi),
        b.di = (o = n("d77bbc3e12622976"),
        Jo.prototype.oe = function(c) {
            this.zd[o](this.ta, c),
            this.ta += 1
        }
        ,
        d = n("a7abcc6e62b2592f99"),
        Jo.prototype.pe = function(c) {
            this.zd[d](this.ta, c),
            this.ta += 2
        }
        ,
        Jo),
        b.Op = function() {}
        ,
        b.dc = (ka.sh = function() {
            return new ka("",null,0,0,0,0,0,0,0,0)
        }
        ,
        ka.xo = function(c, f, g) {
            return new ka(c,f,g[n("64cd")],g[n("a008")],g[n("c620")],g[n("423b")],g[n("3f0039")],g[n("0c2d37")],g[n("4a2b7b")],g[n("54d5fe")])
        }
        ,
        ka.prototype.ig = function() {
            return this.Cj || (this.Aj != null && (this.Texture = new K({
                source: this.Aj,
                frame: new Pe(this.ob,this.pb,this.hh,this.jh)
            })),
            this.Cj = !0),
            this.Texture
        }
        ,
        ka.prototype.Ye = function() {
            this.Texture != null && this.Texture.eo()
        }
        ,
        ka),
        b.Eh = (ae.prototype.Ye = function() {
            for (var c = 0; c < this.ng.length; c++)
                this.ng[c].Wp(),
                this.ng[c].eo();
            for (this.ng = [],
            c = 0; c < this.Jh.length; c++)
                this.Jh[c].Ye();
            this.Jh = []
        }
        ,
        ae.sh = function() {
            var c = new ae.ue(b.La.Oa,b.La.Oa)
              , f = new ae.ve(n("8e3a6212f4c532c3f041"),[b.La.Oa],[b.La.Oa]);
            return new ae([],[],{},c,{},new ae.wf(b.La.Oa),{},f,{},new ae.yf("",f,c),{},new ae.Ia([b.La.Oa]),{},new ae.Ia([b.La.Oa]),{},new ae.Ia([b.La.Oa]),{},new ae.Ia([b.La.Oa]))
        }
        ,
        ae.ym = function(c, f, g, m) {
            var x = new ae.ue(b.La.Oa,b.La.Oa);
            return c = new ae.ve(n("eade9ece8819d6e79465"),[c],[f]),
            new ae([],[],{},x,{},new ae.wf(b.La.Oa),{},c,{},new ae.yf("",c,x),{},new ae.Ia([g]),{},new ae.Ia([m]),{},new ae.Ia([b.La.Oa]),{},new ae.Ia([b.La.Oa]))
        }
        ,
        ae.Bm = function(c, f, g, m) {
            var x = {};
            G.xc(c[n("9327faea783a5de3f838")], function(me, he) {
                x[me] = n("82b676a6") + he
            });
            for (var S = {}, M = 0; M < c[n("f111184d1b27855a98133f451e1a")].length; M++) {
                var w = c[n("ddbd34f90f9391e684af23f10aae")][M];
                S[w[n("5cc4fa")]] = new ae.ve(x[w[n("07487b13e659")]],w[n("3f1220c1a6")].map(function(he) {
                    return f[he]
                }),w[n("75019b478e")].map(function(he) {
                    return f[he]
                }))
            }
            M = c[n("fefcabf86c46aa7e68f8bff7")];
            var M = new ae.ve(x[M[n("9e5f1258cfd6")]],M[n("0a79ad6e6b")].map(function(me) {
                return f[me]
            }),M[n("baac10a2c9")].map(function(me) {
                return f[me]
            }))
              , O = {}
              , k = (G.xc(c[n("16c2a1cc696fb54e6a")], function(me, he) {
                O[parseInt(me)] = new ae.Ia(he[n("e45747c48d")].map(function(Me) {
                    return f[Me[n("bab919aad720ee")]]
                }))
            }),
            w = new ae.Ia(c[n("f3c18c8304fd178195c38a80")][n("8fa2f07176")].map(function(me) {
                return f[me[n("82e121f2ef7826")]]
            })),
            {})
              , L = (G.xc(c[n("819f6cc1719ec3d1ea8e")], function(me, he) {
                k[parseInt(me)] = new ae.Ia(he[n("74a7d7341d")].map(function(Me) {
                    return f[Me[n("c306a0d12e1727")]]
                }))
            }),
            new ae.Ia(c[n("7ca0d13af43997bdefbba920e6")][n("5b6e3c3dba")].map(function(me) {
                return f[me[n("7fc2e4956adb6b")]]
            })))
              , X = {}
              , W = (G.xc(c[n("536c34329361ba3e")], function(me, he) {
                X[parseInt(me)] = new ae.Ia(he[n("7cafdf3ce5")].map(function(Me) {
                    return f[Me[n("109337047d0a38")]]
                }))
            }),
            new ae.Ia(c[n("46bf69ad1f35673321a87e")][n("baa91dbedb")].map(function(me) {
                return f[me[n("d0d37744bd4a78")]]
            })))
              , Y = {}
              , V = (G.xc(c[n("669044981908490e2a965375")], function(me, he) {
                Y[parseInt(me)] = new ae.Ia(he[n("ff526001e6")].map(function(Me) {
                    return f[Me[n("783bdfac15a2d0")]]
                }))
            }),
            new ae.Ia(c[n("a6500458d9c809cefb511b2fddb41a")][n("782bdbb819")].map(function(me) {
                return f[me[n("dbfeb8a936ff0f")]]
            })))
              , be = {}
              , oe = (G.xc(c[n("4a2b632f3ab67f8f160a7711")], function(me, he) {
                me = parseInt(me),
                be[me] = new ae.ue(f[he[n("51a0b2f7b0")]],f[he[n("6a1c401219")]])
            }),
            c[n("8667276bfef223f3db713b4ffdd43a")])
              , oe = new ae.ue(f[oe[n("2bbe4c6dca")]],f[oe[n("b5c15b074e")]])
              , Re = {}
              , Lt = (G.xc(c[n("7cacdc26ec38b6aac0bca523")], function(me, he) {
                me = parseInt(me),
                Re[me] = new ae.wf(f[he[n("f261d57693")]])
            }),
            c[n("9def7d394dfbd72df0f84c3646edc5")])
              , Lt = new ae.wf(f[Lt[n("075a6809ee")]])
              , ot = {};
            return G.xc(c[n("13b07067fa8cf0696f")], function(me, he) {
                me = parseInt(me),
                ot[me] = new ae.yf(he[n("8e6b3955fec6")],new ae.ve(x[he[n("caa8e7b4a0")][n("03c4779feadd")]],null,he[n("bf83aa5b2d")][n("d0c67e4ca3")].map(function(Me) {
                    return f[Me]
                })),new ae.ue(null,f[he[n("e0c14d41905c49d9")][n("24120a985f")]]))
            }),
            c = new ae.yf({},M,oe),
            new ae(g,m,be,oe,Re,Lt,S,M,ot,c,O,w,k,L,X,W,Y,V)
        }
        ,
        ae.prototype.Ee = function(c) {
            return this.Hk.hasOwnProperty(c) ? this.Hk[c] : this.fp
        }
        ,
        ae.prototype.Ff = function(c) {
            return this.Pk.hasOwnProperty(c) ? this.Pk[c] : this.np
        }
        ,
        ae.prototype.pj = function(c) {
            return this.Wk.hasOwnProperty(c) ? this.Wk[c] : this.xp
        }
        ,
        ae.prototype.rj = function(c) {
            return this.bl.hasOwnProperty(c) ? this.bl[c] : this.Dp
        }
        ,
        ae.prototype.wj = function(c) {
            return this.si.hasOwnProperty(c) ? this.si[c] : this.El
        }
        ,
        ae.prototype.$g = function(c) {
            return this.il.hasOwnProperty(c) ? this.il[c] : this.ql
        }
        ,
        ae.prototype.jn = function(c) {
            return this.uk.hasOwnProperty(c) ? this.uk[c] : this.Po
        }
        ,
        ae.prototype.eh = function(c) {
            return this.Ck.hasOwnProperty(c) ? this.Ck[c] : this.Zo
        }
        ,
        ae.yf = function(c, f, g) {
            this.un = c,
            this.fh = f,
            this.Bn = g
        }
        ,
        ae.ve = function(c, f, g) {
            this.kh = c,
            this.Na = f,
            this.Yd = g
        }
        ,
        ae.Ia = function(c) {
            this.Na = c
        }
        ,
        ae.ue = function(c, f) {
            this.Na = c,
            this.Yd = f
        }
        ,
        ae.wf = function(c) {
            this.Na = c
        }
        ,
        ae),
        b.La = (aa.prototype.sa = async function() {
            var c = (await ge.load(n("c43034d1a1f46b7ca96e2bad96d67742a60877c5b1c5735fa5036ec187"))).source
              , m = (this.Nn = new b.dc(n("5b613c29b175950d02760c3a8e6c90"),c,158,86,67,124,148,63.5,128,128),
            this.Rn = new b.dc(n("719496c89a851edc00b59ace948216c4f8"),c,158,4,87,74,203,63.5,128,128),
            new b.dc(n("59acb7e9a5913ef208be8ae09c"),c,4,4,146,146,63.5,63.5,128,128),
            (await ge.load(n("e2d696b38f1ac91e8f8889cfa81bd5e7df6fdb6a9da9c8e79d"))).source)
              , c = new b.dc(n("b300d0c0680d40cfc8"),m,0,0,42,80,75,64,128,128)
              , f = new b.dc(n("9acf39cbc1420f44d6db"),m,46,0,20,48,109,63,128,128)
              , g = new b.dc(n("b78cdc4c649f5647d1afa65e2c83"),m,70,0,32,32,0,0,0,0)
              , m = new b.dc(n("e297c193b904c31084a4ce9c9d1a"),m,46,52,64,64,0,0,0,0);
            c = b.Eh.ym(m, g, c, f),
            this.Ma = new b.Yj({},c),
            this.gc = this.ph = -1e4,
            (c = b.E.document.createElement(n("72e055eb00664b"))).width = 80,
            c.height = 80,
            this.uh = {
                pd: c,
                jk: c.getContext(n("9053b6"), {
                    willReadFrequently: !0
                }),
                $e: new K({
                    source: Fe.from(c)
                })
            },
            this.ub = null,
            this.Kh = []
        }
        ,
        aa.Oa = b.dc.sh(),
        aa.prototype.C = function() {}
        ,
        aa.prototype.Nh = function(c, f, g) {
            var m = this
              , x = this.Ma.yk();
            if (0 < x && G.Tb() - this.ph < 12e5)
                c?.();
            else {
                if (this.ub != null && !this.ub.Ub) {
                    if (G.Tb() - this.ph < 3e5)
                        return void (c != null && c());
                    this.ub.$o(),
                    this.ub = null
                }
                var S = new b.cp(x);
                S.gp(function(w, M) {
                    S === m.ub && g != null && g(w, M)
                }),
                S.jp(function(w) {
                    S === m.ub && f != null && f(w)
                }),
                S.op(function() {
                    S === m.ub && f != null && f(Error())
                }),
                S.tp(function() {
                    S === m.ub && c != null && c()
                }),
                S.yp(function(w) {
                    if (S === m.ub)
                        m.gc = G.Tb(),
                        m.ub = null,
                        m.Ma.V().Ye(),
                        m.Ma = w,
                        c?.(),
                        m.Kp();
                    else
                        try {
                            w.V().Ye()
                        } catch {}
                }),
                S.rl(),
                this.ph = G.Tb(),
                this.ub = S
            }
        }
        ,
        aa.prototype.re = function() {
            return 0 < this.Ma.yk()
        }
        ,
        aa.prototype.Gg = function(c) {
            this.Kh.push(c)
        }
        ,
        aa.prototype.Kp = function() {
            for (var c = 0; c < this.Kh.length; c++)
                this.Kh[c]()
        }
        ,
        aa.prototype.V = function() {
            return this.Ma.V()
        }
        ,
        aa),
        b.$l = (ni.prototype.$b = function(c) {
            return this.xf[c]
        }
        ,
        ni.rm = (ec.prototype.Ce = function(c, f) {
            for (var g = 0; g < this.cd.length; g++)
                if (this.cd[g].bj === c)
                    throw Error();
            return this.cd.push(new ni.Km(c,f)),
            this
        }
        ,
        ec.prototype.Om = function() {
            for (var c = 0, f = 0; f < this.cd.length; f++)
                c += this.cd[f].Gf;
            for (var f = {}, g = 0, m = 0; m < this.cd.length; m++) {
                var x = this.cd[m];
                x.Gf /= c,
                x.Vg = g,
                x.Xg = g + x.Gf,
                g = x.Xg,
                f[x.bj] = x
            }
            return new ni(f)
        }
        ,
        ec),
        ni.Km = (Ul.prototype.If = function(c) {
            return this.Vg + (this.Xg - this.Vg) * c
        }
        ,
        Ul),
        ni),
        b.ah = (Ta.Sn = 797,
        Ta.prototype.Gj = function(c, f, g) {
            var m = new l(f,g);
            return f.L.zIndex = .001 * (2 * (797 - c) + 4),
            g.L.zIndex = .001 * (2 * (797 - c) - 2 + 3),
            m
        }
        ,
        Ta.prototype.Zd = function(c, f, g, m, x, S, w, M) {
            var O = g.Na;
            if (c = (c === b.Nc.ae ? f.fh : g).Yd,
            0 < O.length && 0 < c.length)
                for (f = 0; f < this.o.length; f++)
                    this.o[f].O.uc(O[f % O.length]),
                    this.o[f].id.uc(c[f % c.length]),
                    this.o[f].O.Ze(M),
                    this.o[f].id.Ze(M);
            this.P.Zd(m, x, S, w)
        }
        ,
        Ta.prototype.aj = function(c) {
            E.l.U.S.oa = c;
            var f = E.B.V().Ee(c);
            if (c = f.Na,
            f = f.Yd,
            c.length && f.length)
                for (let g = 0; g < this.o.length; ++g)
                    this.o[g].O.uc(c[g % c.length]),
                    this.o[g].id.uc(f[g % f.length])
        }
        ,
        Ta.prototype.Al = function(c) {
            E.l.U.S.eb = c,
            c = E.B.V().$g(c),
            this.P.rf(.004, this.P.Sc, c.Na)
        }
        ,
        h = ( () => {
            class c extends le {
                constructor() {
                    super(),
                    this.sortableChildren = !0,
                    this.td = [],
                    this.vd = [],
                    this.wd = [],
                    this.Sc = [],
                    this.ff = new le,
                    this.jf = [];
                    for (var g = 0; g < 4; g++) {
                        var m = new b.nc;
                        m.uc(E.B.Nn),
                        this.ff.addChild(m.L),
                        this.jf.push(m)
                    }
                    this.ff.zIndex = .0011,
                    this.addChild(this.ff),
                    this.Ik(),
                    this.Xc = new b.nc,
                    this.Xc.uc(E.B.Rn),
                    this.Xc.L.zIndex = .001,
                    this.addChild(this.Xc.L),
                    this.Qk()
                }
            }
            return c.prototype.Zd = function(f, g, m, x) {
                this.rf(.002, this.td, f.Na),
                this.rf(.003, this.vd, g.Na),
                this.rf(.004, this.Sc, x.Na),
                this.rf(.005, this.wd, m.Na)
            }
            ,
            c.prototype.rf = function(f, g, m) {
                for (; m.length > g.length; ) {
                    var x = new b.nc;
                    g.push(x),
                    this.addChild(x.L)
                }
                for (; m.length < g.length; )
                    g.pop().Bd();
                for (x = 0; x < m.length; x++) {
                    f += 1e-4;
                    var S = g[x];
                    S.uc(m[x]),
                    S.L.zIndex = f
                }
            }
            ,
            c.prototype.ja = function(f, g, m, x) {
                for (this.visible = !0,
                this.position.set(f, g),
                this.rotation = x,
                f = 0; f < this.td.length; f++)
                    this.td[f].Xb(m);
                for (f = 0; f < this.vd.length; f++)
                    this.vd[f].Xb(m);
                for (f = 0; f < this.wd.length; f++)
                    this.wd[f].Xb(m);
                for (f = 0; f < this.Sc.length; f++)
                    this.Sc[f].Xb(m)
            }
            ,
            c.prototype.za = function() {
                this.visible = !1
            }
            ,
            c.prototype.sl = function(f, g) {
                this.ff.visible = !0,
                g /= 1e3;
                for (var m = 1 / this.jf.length, x = 0; x < this.jf.length; x++) {
                    var S = 1 - (g + m * x) % 1;
                    this.jf[x].L.alpha = 1 - S,
                    this.jf[x].Xb(f * (.5 + 4.5 * S))
                }
            }
            ,
            c.prototype.Ik = function() {
                this.ff.visible = !1
            }
            ,
            c.prototype.Bl = function(f, g, m) {
                this.Xc.L.visible = !0,
                this.Xc.L.alpha = G.Q(this.Xc.L.alpha, f.tf ? .9 : .2, m, .0025),
                this.Xc.Xb(g)
            }
            ,
            c.prototype.Qk = function() {
                this.Xc.L.visible = !1
            }
            ,
            c
        }
        )(),
        Ta.prototype.Va = function(c) {
            return this.Jj + this.Lj * Math.sin(.3141592653589793 * c - this.oi)
        }
        ,
        Ta.prototype.Nl = function(c, f, g, m) {
            var x = 2 * c.yb
              , S = c.ia
              , w = c.ab
              , M = 4 * w - 3
              , O = (this.oi = f / 400 * 3.141592653589793,
            this.Jj = 1.5 * x,
            this.Lj = .15 * x * c.Hg,
            S[0])
              , k = S[1];
            m(O, k) ? (W = S[2],
            Y = S[3],
            V = S[4],
            be = S[5],
            L = Math.atan2(be + 2 * k - 3 * Y, V + 2 * O - 3 * W),
            this.P.ja(O, k, x, L),
            this.o[0].ja(O, k, x, this.Va(0), L),
            this.o[1].ja(.64453125 * O + .45703125 * W + -.1015625 * V, .64453125 * k + .45703125 * Y + -.1015625 * be, x, this.Va(1), l.bb(this.o[0], this.o[2])),
            this.o[2].ja(.375 * O + .75 * W + -.125 * V, .375 * k + .75 * Y + -.125 * be, x, this.Va(2), l.bb(this.o[1], this.o[3])),
            this.o[3].ja(.15234375 * O + .94921875 * W + -.1015625 * V, .15234375 * k + .94921875 * Y + -.1015625 * be, x, this.Va(3), l.bb(this.o[2], this.o[4]))) : (this.P.za(),
            this.o[0].za(),
            this.o[1].za(),
            this.o[2].za(),
            this.o[3].za());
            for (var L, X, W, Y, V, be, oe = 4, Re = 2, Lt = 2 * w - 4; Re < Lt; Re += 2)
                m(O = S[Re], k = S[Re + 1]) ? (L = S[Re - 2],
                X = S[Re - 1],
                W = S[Re + 2],
                Y = S[Re + 3],
                V = S[Re + 4],
                be = S[Re + 5],
                this.o[oe].ja(O, k, x, this.Va(oe), l.bb(this.o[oe - 1], this.o[oe + 1])),
                oe++,
                this.o[oe].ja(-.06640625 * L + .84375 * O + .2578125 * W + -.03515625 * V, -.06640625 * X + .84375 * k + .2578125 * Y + -.03515625 * be, x, this.Va(oe), l.bb(this.o[oe - 1], this.o[oe + 1])),
                oe++,
                this.o[oe].ja(-.0625 * L + .5625 * O + .5625 * W + -.0625 * V, -.0625 * X + .5625 * k + .5625 * Y + -.0625 * be, x, this.Va(oe), l.bb(this.o[oe - 1], this.o[oe + 1])),
                oe++,
                this.o[oe].ja(-.03515625 * L + .2578125 * O + .84375 * W + -.06640625 * V, -.03515625 * X + .2578125 * k + .84375 * Y + -.06640625 * be, x, this.Va(oe), l.bb(this.o[oe - 1], this.o[oe + 1]))) : (this.o[oe].za(),
                oe++,
                this.o[oe].za(),
                oe++,
                this.o[oe].za(),
                oe++,
                this.o[oe].za()),
                oe++;
            for (m(O = S[2 * w - 4], k = S[2 * w - 3]) ? (L = S[2 * w - 6],
            X = S[2 * w - 5],
            W = S[2 * w - 2],
            Y = S[2 * w - 1],
            this.o[M - 5].ja(O, k, x, this.Va(M - 5), l.bb(this.o[M - 6], this.o[M - 4])),
            this.o[M - 4].ja(-.1015625 * L + .94921875 * O + .15234375 * W, -.1015625 * X + .94921875 * k + .15234375 * Y, x, this.Va(M - 4), l.bb(this.o[M - 5], this.o[M - 3])),
            this.o[M - 3].ja(-.125 * L + .75 * O + .375 * W, -.125 * X + .75 * k + .375 * Y, x, this.Va(M - 3), l.bb(this.o[M - 4], this.o[M - 2])),
            this.o[M - 2].ja(-.1015625 * L + .45703125 * O + .64453125 * W, -.1015625 * X + .45703125 * k + .64453125 * Y, x, this.Va(M - 2), l.bb(this.o[M - 3], this.o[M - 1])),
            this.o[M - 1].ja(W, Y, x, this.Va(M - 1), l.bb(this.o[M - 2], this.o[M - 1]))) : (this.o[M - 5].za(),
            this.o[M - 4].za(),
            this.o[M - 3].za(),
            this.o[M - 2].za(),
            this.o[M - 1].za()),
            this.Y === 0 && 0 < M && this.ma.addChild(this.P),
            0 < this.Y && M == 0 && G.Ta(this.P); this.Y < M; )
                this.ma.addChild(this.o[this.Y].O.L),
                this.ma.addChild(this.o[this.Y].id.L),
                this.Y += 1;
            for (; this.Y > M; )
                --this.Y,
                this.o[this.Y].id.Bd(),
                this.o[this.Y].O.Bd();
            m = c.qa[b.De.Cm],
            this.o[0].Cf() && m != null && m.Aa ? this.P.sl(x, f) : this.P.Ik(),
            f = c.qa[b.De.Tm],
            this.o[0].Cf() && f != null && f.Aa ? this.P.Bl(c, x, g) : this.P.Qk()
        }
        ,
        zi.prototype.ja = function(c, f, g, m, x) {
            this.O.Qa(!0),
            this.O.Hf(c, f),
            this.O.Xb(g),
            this.O.xj(x),
            this.id.Qa(!0),
            this.id.Hf(c, f),
            this.id.Xb(m),
            this.id.xj(x)
        }
        ,
        zi.prototype.za = function() {
            this.O.Qa(!1),
            this.id.Qa(!1)
        }
        ,
        zi.prototype.Cf = function() {
            return this.O.Cf()
        }
        ,
        zi.bb = function(c, f) {
            return Math.atan2(c.O.L.position.y - f.O.L.position.y, c.O.L.position.x - f.O.L.position.x)
        }
        ,
        l = zi,
        Ta),
        b.De = (as.Tm = 0,
        as.Cm = 2,
        as.vn = 6,
        as),
        b.Yj = (b.Eh.sh(),
        tc.prototype.yk = function() {
            return this.hb[n("0eedb5d77b50bd4a78")]
        }
        ,
        tc.prototype.V = function() {
            return this.Jn
        }
        ,
        tc),
        b.cp = (_e.yc = {
            vk: n("cf30a972"),
            zk: n("b91a43dd"),
            Wo: n("1213ac17"),
            Gk: n("a0419ac0"),
            Jk: n("b7d8c11e")
        },
        _e.Zn = 1e5,
        _e.ug = new b.$l.rm().Ce(_e.yc.vk, 1).Ce(_e.yc.zk, 10).Ce(_e.yc.Wo, 50).Ce(_e.yc.Gk, 15).Ce(_e.yc.Jk, 5).Om(),
        _e.prototype.yp = function(c) {
            this.Zj = c
        }
        ,
        _e.prototype.tp = function(c) {
            this.ak = c
        }
        ,
        _e.prototype.jp = function(c) {
            this.ck = c
        }
        ,
        _e.prototype.op = function(c) {
            this.ek = c
        }
        ,
        _e.prototype.gp = function(c) {
            this.gk = c
        }
        ,
        _e.prototype.$o = function() {
            this.rd = !0
        }
        ,
        _e.prototype.rl = function() {
            this.lk || (this.lk = !0,
            this.rd ? this.pf() : this.pp())
        }
        ,
        _e.prototype.pp = function() {
            var c = this;
            this.rd ? this.pf() : $.ajax({
                type: n("df57a406"),
                url: Ol + n("4513f5bead43259d2057ac25e30432772623a37bfc781d7e3838b663883d0d3a0f258876"),
                [n("34fd1e757e601fe758fe")]: {
                    onprogress: function(f) {
                        var g;
                        f.lengthComputable && (g = _e.yc.vk,
                        c.zg(g, _e.ug.$b(g).If(f.loaded / f.total)))
                    }
                }
            }).fail(function() {
                c.ci()
            }).done(function(f) {
                f <= c.Tj ? c.cl() : c.Ep()
            })
        }
        ,
        _e.prototype.Ep = function() {
            var c = this;
            this.rd ? this.pf() : $.ajax({
                type: n("7c8afb1b"),
                url: C.k + n("e41014f189c9431ede7b0b8cb6b01770b03753a091ba4e3985"),
                [n("dc5576dda6d8475f8046")]: {
                    onprogress: function(f) {
                        var g;
                        f.lengthComputable && (g = _e.yc.zk,
                        c.zg(g, _e.ug.$b(g).If(f.loaded / f.total)))
                    }
                }
            }).fail(function() {
                c.ci()
            }).done(async function(f) {
                if (f[n("a0038785cd868f18c6")] <= c.Tj)
                    c.cl();
                else if ((m = await fetch(C.k + n("2533959ec86a42f91f588ad3f75316d77148d29fcb4f5c854e5acd89"))).ok) {
                    if (ts(f, m = JSON.parse(n(await m.text()))),
                    U["1ac"] && (m = await fetch(n("4079f6e734e6a324093cb8dd69afc87e2051a08d23cae44a395dffdf29dff54619548cd00bd883052e58dad2498fe81a4307c3e64781d8220f3bdfac15beca3df9"))).ok) {
                        var g, m = JSON.parse(n(await m.text())), x = {};
                        for (g of [n("ae5a0924c1871da6c2"), n("bb0bd1cf4c0324c1871da6c2"), n("6fc81096b7cd9692"), n("00bc2d26703d02be6bad")])
                            x[g] = Object.entries(m[g]).reduce( (O, [k,L]) => (L[n("51abb7")] += 2e4,
                            L[n("46b569aa2f")] = L[n("7504965b9c")].map(X => (X[n("f9181e4b140191")] = n("a65637") + X[n("f0b357249d2a58")],
                            X)),
                            O[parseInt(k) + 2e4] = L,
                            O), {});
                        x[n("ac8e8516dec08071d57cb2eedbfd")] = m[n("04262dbe669838296d240ab67395")].map(O => (O[n("23bd41")] += 3e4,
                        O[n("34e717745d")] = O[n("0271a56663")].map(k => n("6d3fb0") + k),
                        O)),
                        x[n("26c38dc15e4e9e586ad693b5")] = Object.entries(m[n("4380204eb38dbb5f0f952e4a")]).reduce( (O, [k,L]) => (O["a_" + k] = L,
                        O), {}),
                        x[n("f75a9c0d1243132a965375")] = Object.entries(m[n("208307144d1a08b3419a1e")]).reduce( (O, [k,L]) => (L[n("917676bc6173e5ad")] = n("f3c5aa") + L[n("8e6b3559e6d626c0")],
                        O["a_" + k] = L,
                        O), {}),
                        ts(f, x)
                    }
                    if (U["1aa"] && (g = await fetch(n("77c00d9e8bdfd8dd3e95b3b426864381e8cae48d64ce619aa1a9fe272182707ee3adf77972a3732bad96c56b4db5487fc4fd9b5c4aaf5e7bdb93941075965041de9bcd5842"), {
                        method: "POST"
                    })).ok) {
                        for (var S in m = await g.json(),
                        (g = {})[n("64d0df521b7dc3d818")] = m[n("3d4bc695b2762a9731")],
                        g[n("8cbaa23ee312b790d08cb513")] = m[n("487ee6fa3feeeb6c1448f1d7")],
                        g[n("6e97517536ea57f1")] = m[n("00b92327403c25a3")],
                        g[n("7fddee8777dc419fe4cc")] = m[n("3f1d2ec7b71c81df240c")],
                        g[n("b5d4520f50c5d528d4cd4b")] = m[n("1d7cfab7c87d4d904c75d3")],
                        g[n("9496bd0ef628a899fd949a06c305")] = m[n("e604c31084bade8f8f06f4e89177")],
                        g[n("f4365dae96845b3b")] = m[n("14163d8e76a43b1b")],
                        g[n("da9ff995aa1ad214a69ac781")] = m[n("f0b5573b803044a2bca0593f")],
                        g[n("5d39ba71931f0264")] = m[n("e284c194943ac909")],
                        m = g[n("042123af7cac383e48342dab")],
                        n("189a3102722c2c9d4188261a4701"),
                        m)
                            x = m[S],
                            x[n("d0c26750a04a7b")] && (x[n("a65e1b7adfc818d2c3")] = !0,
                            x[n("af92d44e52905c50d2b8d85e53")] = x[n("5a19795c3f9b4987072345010e")]);
                        ts(f, C.Ld = g)
                    }
                    if (U["1ab"] && (S = await fetch("https://timmapwormate.com/store", {
                        body: '{"country":"gb","v":"v2"}',
                        method: "POST"
                    })).ok) {
                        for (var w in g = await S.json(),
                        (S = {})[n("a331dcf3541c40f9df")] = g[n("e77d903f1858043d9b")],
                        S[n("adf9430142d1d617f1cf541c")] = g[n("370f55cbc81fd8dd7b1922c6")],
                        S[n("a2db05c1e25e0b4d")] = g[n("20990307601c0583")],
                        S[n("b62a173ccea338a4dd3b")] = g[n("a814858ed895aa16d3f5")],
                        S[n("46a56dbe2334621927bc64")] = g[n("59b8beebb4a131d408b197")],
                        S[n("73571e0f99698b181a5539079c44")] = g[n("ab2fc6f7412143d0d21df1cf541c")],
                        S[n("cdcd24e93f8fb2f4")] = g[n("f4365dae96845b3b")],
                        S[n("bdda5a0835c7b11181df240c")] = g[n("86632d61feee3ef8ca763355")],
                        S[n("898d6edd7fb3eeb0")] = g[n("042223b67a942b2b")],
                        m = S[n("e287c18d9202da1cae92cf89")],
                        g = S[n("2ecc9ba85c02863757bebca0593f")],
                        m)
                            x = m[w],
                            x[n("fbcf889d0bdfec")] && (x[n("8038b190f1a6b238e5")] = !0,
                            x[n("c5c4221428cea20aa8ee2ef439")] = n("11eae730e5f5327b58afa90ab8bc592448ffce35d5e1482a44fbdf3983fd400d") + x[n("29e8ce30ccea461654f2d210dd")]);
                        for (var M in g)
                            w = g[M],
                            w[n("39c3df")] = w[n("867e2c")] + 3e4;
                        ts(f, S)
                    }
                    c.Lp(f)
                } else
                    c.ci()
            })
        }
        ,
        _e.prototype.Lp = function(c) {
            if (U["1e"])
                try {
                    var f = JSON.parse(U["1e"]);
                    if (f && f[n("ea9dc5918b")]) {
                        c[n("d0d5775ba05064c29cc0795f")][n("d5b123fa06a9aeffa9a132cf13bd")] = {
                            [n("c791ba793e8f3951a2")]: !0,
                            [n("2083071f45010f814da90b0f44")]: f[n("2570ceb4cc")]
                        };
                        for (var g = [], m = 0; m < 9; m++)
                            g.push(n("d3f3a1b408eb2cb9afe3b0912cfb08bcbc") + (8 - m)),
                            c[n("3f0224d5aa1babf22e1b3d")][n("f91d0f5e220d8a43751dee6bf61d6e5656") + m] = {
                                [n("ac898b07c4f48066")]: n("882ebea9d3bebb2ce40ebfbce68a"),
                                [n("fc35")]: 175 * m,
                                [n("ea82")]: 0,
                                [n("7cba")]: 170,
                                [n("08b1")]: 170
                            };
                        c[n("882aa1b2e29cbc2df118968af791")].push({
                            [n("027aa0")]: 19999,
                            [n("783dc3bb19")]: 1,
                            [n("4551b29dba4e")]: !1,
                            [n("b30adac8551d40cbd900d8")]: !1,
                            [n("e122117d0633")]: 0,
                            [n("8344f71f645d4b1fed53ff1b")]: 0,
                            [n("1d7eedb9cc77")]: "c_blood",
                            [n("0d9ceeb3f4")]: g,
                            [n("87dfe5957c")]: f[n("f3c3998900")]
                        }),
                        c[n("a96940b54359dd8fc45272964747ceacd0494f")].push({
                            [n("3d47db")]: n("b44683f4cce697"),
                            [n("8e71314cf7")]: {
                                [n("9480b8")]: n("63571025937784")
                            },
                            [n("423f6d2632")]: [19999]
                        })
                    }
                } catch {}
            if (U["1j"])
                try {
                    var x, S = JSON.parse(U["1j"])[n("41d6a200a4")][0];
                    S && S[n("7fd6e89e66")] && (c[n("d93e3e74293bad75a53b0060")][n("5b7b293c80739421177b0809907d8828")] = {
                        [n("ae560302c7b000aadb")]: !0,
                        [n("bc7f9be3a1e56b65a14567e3a0")]: S[n("52057d0933")]
                    },
                    c[n("19f8fe2bf4e1711448f1d7")][n("49cdbf0e92dd3af325adbedba2a336fa06fa")] = {
                        [n("fefba5e97666b670")]: n("d5b123fa06a9aeffa9a132cf16b782e6"),
                        [n("b2bb")]: S[n("36bf")],
                        [n("9018")]: S[n("157f")],
                        [n("c5c1")]: S[n("8501")],
                        [n("dbe4")]: S[n("c63f")],
                        [n("f1120b")]: S[n("caabf4")],
                        [n("d93a22")]: S[n("d5b62e")],
                        [n("2d6ec7")]: 130,
                        [n("c94a3c")]: 130
                    },
                    x = S[n("1f2458e2c6")].toLowerCase(),
                    c[x + n("a0358b90d0")][n("046c7fee")] = {
                        [n("49cab915aedb")]: 0,
                        [n("1bbc6f67fcb5e37745bb5773")]: 0,
                        [n("b78ad8595e")]: [{
                            [n("08ab2f3c653220")]: n("fa7cc87fa1ecb5e2767ca94a71f2a9eb552b")
                        }]
                    },
                    c[x + n("e58006ea00bb85e8acac1dc108")].push([999]))
                } catch {}
            var w = this;
            if (this.rd)
                this.pf();
            else {
                var M, O = [], f = [], g = [];
                for (M in c[n("2f1454dac711c7c373015ade")])
                    c[n("7e7b2569f6e636f0c27e2b6d")].hasOwnProperty(M) && (m = c[n("4d4aaa78a5372161112fb47c")][M],
                    S = m[n("948ca524ed1aae84f1")],
                    x = m[n("4ff234aeb2f0bcb032d838beb3")],
                    S = S ? x : Ol + x,
                    x = m[n("3ceb17632542ebe921")],
                    m = m[n("cdcd27e163f7e5")],
                    m = new _e.tl(M,S,x,m),
                    O.push(m),
                    f.push(m),
                    g.push(S),
                    ge.add({
                        [n("cb1da1d72ef3")]: S,
                        [n("34f60464")]: S
                    }));
                ge.load(g, function(X) {
                    var W = _e.yc.Gk;
                    w.zg(W, _e.ug.$b(W).If(+X))
                }).then(X => {
                    O.forEach(function(W) {
                        W.texture = X[W.Sl]
                    }),
                    w.Ol(c, O)
                }
                )
            }
        }
        ,
        _e.prototype.Ol = function(c, f) {
            var g, m, x, S = this;
            this.rd ? this.pf() : (m = {},
            x = 0,
            function w() {
                x < f.length ? (g = f[x++],
                m[g.T] = new b.fm(g.texture,g.texture.source),
                w()) : G.ha(function() {
                    return S.km(c, m)
                }, 0)
            }())
        }
        ,
        _e.prototype.km = function(c, f) {
            var g = this
              , m = {}
              , x = 0
              , S = Object.values(c[n("3a39992a57a06e952b3070")]).length
              , w = (G.xc(c[n("0908ee5be411610478e1e7")], function(k, L) {
                L = b.dc.xo(L[n("a16646ac5163d5bd")] + n("64909576") + k, f[L[n("d0d5775ba05064c2")]].$e, L),
                m[k] = L,
                ++x % 10 == 0 && (k = _e.yc.Jk,
                g.zg(k, _e.ug.$b(k).If(x / S)))
            }),
            Object.values(f).map(function(k) {
                return k.$e
            }))
              , M = Object.values(m)
              , O = new b.Yj(c,b.Eh.Bm(c, m, w, M));
            G.ha(function() {
                return g.sm(O)
            }, 0)
        }
        ,
        _e.tl = function(c, f) {
            this.T = c,
            this.Sl = f
        }
        ,
        _e.prototype.sm = function(c) {
            var f;
            this.Ub ? c.V().Ye() : (this.Ub = !0,
            f = this,
            G.ha(function() {
                return f.Zj(c)
            }, 0))
        }
        ,
        _e.prototype.cl = function() {
            var c;
            this.Ub || (this.Ub = !0,
            c = this,
            G.ha(function() {
                return c.ak()
            }, 0))
        }
        ,
        _e.prototype.ci = function() {
            var c, f = Error();
            this.Ub || (this.Ub = !0,
            c = this,
            G.ha(function() {
                return c.ck(f)
            }, 0))
        }
        ,
        _e.prototype.pf = function() {
            var c;
            this.Ub || (this.Ub = !0,
            c = this,
            G.ha(function() {
                return c.ek()
            }, 0))
        }
        ,
        _e.prototype.zg = function(c, f) {
            var g;
            this.Ub || this.rd || (g = this,
            G.ha(function() {
                return g.gk(c, f)
            }, 0))
        }
        ,
        _e),
        b.Qp = {},
        b.Em = (Ll.prototype.C = function() {}
        ,
        Ll),
        b.I = (St.Ni = n("ade9423f52cddd17d0c843374adeda18d8"),
        St.Qi = n("72f459da056f577e25fb50ec076a324eecf229f0f5"),
        St.Ti = n("5b7b3011b265923b004b0038867a853f0f"),
        St.Yi = n("61a58ecb96b01fc70cb48afe81bb0b"),
        St.Mg = n("b5d15a3758c9d803c8c04b2f35cbb311"),
        St.ej = n("95f17a177eebf629c2e3703444"),
        St.ij = n("1bbb7051f1b9c2794db54873"),
        St.lj = n("b1555ebb464dde86"),
        n("0593dee9ed8c51d56789dc98a4557d94246ddaa7ef3f6a994878ec9791796dbe1522cbecf32b6290185c98acfa4d54930245de98e04159807e6feca3980525c303"),
        St.sj = n("a5e14a075af2ca2ec8fa"),
        St.Bb = function(c, f) {
            try {
                window.localStorage.setItem(c, f)
            } catch {}
        }
        ,
        St.ec = function(c) {
            try {
                return window.localStorage.getItem(c)
            } catch {
                return ""
            }
        }
        ,
        St),
        u = [[-28.06744, 64.95936], [-10.59082, 72.91964], [14.11773, 81.39558], [36.51855, 81.51827], [32.82715, 71.01696], [31.64063, 69.41897], [29.41419, 68.43628], [30.64379, 67.47302], [29.88281, 66.76592], [30.73975, 65.50385], [30.73975, 64.47279], [31.48682, 63.49957], [32.18994, 62.83509], [28.47726, 60.25122], [28.76221, 59.26588], [28.03711, 58.60833], [28.38867, 57.53942], [28.83955, 56.2377], [31.24512, 55.87531], [31.61865, 55.34164], [31.92627, 54.3037], [33.50497, 53.26758], [32.73926, 52.85586], [32.23389, 52.4694], [34.05762, 52.44262], [34.98047, 51.79503], [35.99121, 50.88917], [36.67236, 50.38751], [37.74902, 50.51343], [40.78125, 49.62495], [40.47363, 47.70976], [38.62799, 46.92028], [37.53193, 46.55915], [36.72182, 44.46428], [39.68218, 43.19733], [40.1521, 43.74422], [43.52783, 43.03678], [45.30762, 42.73087], [46.99951, 41.98399], [47.26318, 40.73061], [44.20009, 40.86309], [45.35156, 39.57182], [45.43945, 36.73888], [35.64789, 35.26481], [33.13477, 33.65121], [21.47977, 33.92486], [12.16268, 34.32477], [11.82301, 37.34239], [6.09112, 38.28597], [-1.96037, 35.62069], [-4.82156, 35.60443], [-7.6498, 35.26589], [-16.45237, 37.44851], [-28.06744, 64.95936]],
        v5 = {
            pn: function(c, f) {
                for (var g = !1, m = u.length, x = 0, S = m - 1; x < m; S = x++)
                    u[x][1] > c != u[S][1] > c && f < (u[S][0] - u[x][0]) * (c - u[x][1]) / (u[S][1] - u[x][1]) + u[x][0] && (g = !g);
                return g
            }
        },
        b.wn = ( () => {
            function c(x, S) {
                var w = S ? (S = 1.3,
                15554111) : (S = 1.1,
                16044288);
                return new m(x,w,!0,.5,S,.5,.7)
            }
            function f(x, S, w) {
                return ((255 * x & 255) << 16) + ((255 * S & 255) << 8) + (255 * w & 255)
            }
            class g extends le {
                constructor() {
                    super(),
                    this.R = [],
                    this.Xd = 0
                }
            }
            g.prototype.En = function(x) {
                var S, w;
                this.Xd += x,
                1 <= this.Xd && (w = Math.floor(this.Xd),
                this.Xd -= w,
                x = 0 < w ? "+" + Math.floor(w) : w < 0 ? "-" + Math.floor(w) : "0",
                S = Math.min(1.5, .5 + w / 600),
                w = w < 1 ? "0xFFFFFF" : w < 30 ? f(1 - (w = (w - 1) / 29) + .96 * w, 1 - w + .82 * w, 1 - w + 0 * w) : w < 300 ? f(.96 * (1 - (w = (w - 30) / 270)) + .93 * w, .82 * (1 - w) + .34 * w, 0 * (1 - w) + .25 * w) : w < 700 ? f(.93 * (1 - (w = (w - 300) / 400)) + .98 * w, .34 * (1 - w) + 0 * w, .25 * (1 - w) + .98 * w) : 16318713,
                x = new m(x,w,!0,.5,S,Math.random(),1 + .5 * Math.random()),
                this.addChild(x),
                this.R.push(x))
            }
            ,
            g.prototype.ll = function(x) {
                x ? (C.vj(C.fg + 1),
                C.Ra && C.Ra.send(Bi(JSON.stringify({
                    [n("9e4e")]: 0
                }))),
                x = c(G.N("index.game.floating.headshot"), !0),
                this.addChild(x),
                this.R.push(x),
                (C.fg % 10 ? (Mt[U["1c"]].pause(),
                Mt[U["1c"]]) : S5).play()) : (C.ni(C.th + 1),
                x = c(G.N("index.game.floating.wellDone"), !1),
                this.addChild(x),
                this.R.push(x))
            }
            ,
            g.prototype.Ga = function(x, S) {
                x = (w = E.h.D.F).la.width;
                for (var w = w.la.height, M = 0; M < this.R.length; ) {
                    var O = this.R[M];
                    O.oh += S / 2e3 * O.ch,
                    O.$d += S / 2e3 * O.ko,
                    O.alpha = .5 * Math.sin(3.141592653589793 * O.$d),
                    O.scale.set(O.oh),
                    O.position.x = x * (.25 + .5 * O.qo),
                    O.position.y = O.to ? w * (1 - .5 * (1 + O.$d)) : w * (1 - .5 * (0 + O.$d)),
                    1 < O.$d && (G.Ta(O),
                    this.R.splice(M, 1),
                    M--),
                    M++
                }
            }
            ;
            var m = class extends je {
                constructor(x, S, w, M, O, k, L) {
                    super({
                        text: x,
                        style: {
                            fill: S,
                            fontFamily: "PTSans",
                            fontSize: 36
                        }
                    }),
                    this.anchor.set(.5),
                    this.to = w,
                    this.oh = M,
                    this.ch = O,
                    this.qo = k,
                    this.$d = 0,
                    this.ko = L
                }
            }
            ;
            return g
        }
        )(),
        b.fm = function(c, f) {
            this.$e = f
        }
        ,
        b.Nc = {
            fk: 0,
            ae: 16
        },
        b.de = (ac.gf = 0,
        ac.prototype.Dk = function() {
            return 1.02 * this.Rc
        }
        ,
        ac),
        b.ap = ( () => {
            function c() {}
            c.prototype.sa = async function(S) {
                var w = this;
                this.Ec = S,
                this.pd = S.get()[0],
                this.la = (S = {
                    [n("1c0e3f81569011")]: w.pd,
                    [n("9b2efced743753fdd63ac1d5483446e8")]: 0,
                    [n("a0108c87cd948a1ec90a")]: !0,
                    [n("31d2c101d3c3450d57c9de")]: n(U["1a"] === 1 ? "ff476410e444f0" : "636300348074")
                },
                await Xo(S)),
                this.mb = new le,
                this.mb[n("7032ddb100a4d42b1d0ad2a210a9cc2aee")] = !0,
                this.Vc = Math.floor(Math.random()),
                this.Ad = this.Nk = 0,
                this.xg = 15,
                this.Xk = .5,
                this.Ag = 0,
                this.ne = new b.Fp,
                this.ji = new We,
                this.sf = new le,
                this.se = new le,
                this.se[n("371b56d8cf0ddfc25a3329dbaf10b7d329")] = !0,
                this.uf = new le,
                this.ea = new le,
                this.ea[n("3f032ec0b715a7da223b21d3a718bfdb21")] = !0,
                this.jb = new le,
                this.W = new g,
                this.W.position.x = 60,
                this.W.position.y = 60,
                this.Ed = new m,
                this.Ba = new x,
                this.ze = new b.wn,
                this.bc = new we,
                this.Pa = {
                    x: 0,
                    y: 0
                },
                this.zj = this.vi = this.kj = 0,
                this.C()
            }
            ,
            c.prototype.C = function() {
                this.la.background.color = 0,
                this.ne.Wd[n("2ec5b9af56268c")] = 10,
                this.mb[n("a2d200d1e55f0155ce")](this.ne.Wd),
                this.ji[n("34ff3f695c6c02")] = 20,
                this.mb[n("3b8d594afc98a85e27")](this.ji),
                this.sf[n("3f0a08dca711bd")] = 5e3,
                this.mb[n("2c1c0a9b73691bef50")](this.sf),
                this.se[n("b47fbfe9dcec82")] = 5100,
                this.mb[n("5cccfa4b2359cbdf00")](this.se),
                this.uf[n("e1282a7a01339f")] = 1e4,
                this.mb[n("996b7fa85e66f6bcc5")](this.uf),
                this.bc[n("6360002e936d9b3f")] = E.Te.Zi,
                this.bc[n("8030acb0ecbab4")][n("9ad839d9")](.5),
                this.bc[n("042f0fb96cbc32")] = 1,
                this.ea[n("3eae64b5013b6d3922")](this.bc),
                this.jb[n("5cccf25f0850")] = .6,
                this.jb[n("0ee599cf7646ac")] = 2,
                this.ea[n("5a0a78091d87499d06")](this.jb),
                this.ze[n("0a6185736afaa8")] = 3,
                this.ea[n("df718536207c0c3a83")](this.ze),
                this.W[n("08b8262b643c")] = .8,
                this.W[n("898042d2699bf7")] = 4,
                this.ea[n("fd8f1bd4c29a6ad861")](this.W),
                this.Ed[n("62096d1b029250")] = 5,
                this.ea[n("21f3c730e6fe4e344d")](this.Ed),
                this.Ba[n("850c4e566d1ff3")] = 6,
                this.ea[n("bb0dd9ca7c1828dea7")](this.Ba),
                C.Re = new je({
                    [n("29eece24d9")]: n("cf31a9"),
                    [n("5fe315ab8ff1")]: {
                        [n("44f3e9793c5febf625f1f7")]: n("5d1e8b43803c10"),
                        [n("39ccd402c9fd560a24")]: 12,
                        [n("3a2d952152")]: 16777215
                    }
                }),
                C.Re.position.x = 100,
                C.Re.position.y = 90,
                this.Ae = new je({
                    [n("ae4c0438dea6")]: {
                        [n("8b5ae2107b0670effa28ec")]: n("d59603db38a4a8"),
                        [n("2bba4270dbb3d85856")]: 12,
                        [n("273e40f6c7")]: 16777215
                    }
                }),
                this.Ae.anchor = 1,
                this.ea.addChild(this.Ae),
                this.ea.addChild(C.Re),
                this.Ve = new We,
                this.ea.addChild(this.Ve),
                this.Id = new we,
                this.Id.x = 10,
                this.hg = new je({
                    [n("b0f2867ad860")]: {
                        [n("fc2b51a17497233e6d393f")]: n("d637cc3abb85ef"),
                        [n("6d38804e85311a5e10")]: 12,
                        [n("0a7da57162")]: 14599547
                    }
                }),
                this.hg.x = 60,
                this.ld = new le,
                this.ld.x = 10,
                this.ea.addChild(this.ld),
                this.ea.addChild(this.hg),
                this.ea.addChild(ti),
                this.ea.addChild(ai),
                (async () => {
                    function S() {
                        J.sg = !1,
                        J.hi = !1,
                        J.pg = !1,
                        J.$a = -1,
                        J.visible = !1,
                        Ze.visible = !1,
                        U["1f"] === 1 ? (J.ba.texture = O[2].ba,
                        J.ga.texture = O[2].ga,
                        J.ba.alpha = O[2].Mc) : U["1f"] === 2 ? (J.ba.texture = O[2].ba,
                        J.ga.texture = O[2].ga,
                        J.ba.alpha = O[2].Mc,
                        J.hi = !0,
                        J.pg = !0,
                        J.position.x = 100,
                        J.position.y = M.offsetHeight - 100,
                        J.visible = !0,
                        Ze.visible = !0,
                        Ze.position.x = M.offsetWidth - 100,
                        Ze.position.y = M.offsetHeight - 100) : U["1f"] === 3 ? (J.ba.texture = O[2].ba,
                        J.ga.texture = O[2].ga,
                        J.ba.alpha = O[2].Mc,
                        J.hi = !0,
                        J.pg = !0,
                        J.position.x = M.offsetWidth - 100,
                        J.position.y = M.offsetHeight - 100,
                        J.visible = !0,
                        Ze.visible = !0,
                        Ze.position.x = 100,
                        Ze.position.y = M.offsetHeight - 100) : U["1f"] === 4 ? (J.ba.texture = O[0].ba,
                        J.ga.texture = O[0].ga,
                        J.ba.alpha = O[0].Mc) : U["1f"] === 5 ? (J.ba.texture = O[1].ba,
                        J.ga.texture = O[1].ga,
                        J.ba.alpha = O[1].Mc) : (J.sg = !0,
                        J.visible = !1,
                        J.$a = -1),
                        J.Yf()
                    }
                    if (this.Id.texture = await ge.load(C.k + n("3eea3297322666392fb42deb0c32613a6bed568f370266163886738c741b720a")),
                    this.Id.scale.set(.2, .2),
                    this.Id.anchor.y = 1,
                    this.ea.addChild(this.Id),
                    Qa.any) {
                        this.ea.addChild(ii);
                        var w, M = document.querySelector(n("e8d15e5680")), O = [{
                            ba: await ge.load(C.k + n("a37197d0572d4bf6c23f88ac69095cc59656f3cb580a50c6de338c9e11002fd5")),
                            ga: await ge.load(C.k + n("0ebae2e76256b6497fc4fd9b5c42b14a3b9da6dc4d518d5943e8d988044b825a")),
                            Mc: 1
                        }, {
                            ba: await ge.load(C.k + n("6c989c790034d0af1da693753e20d7ac59fff822ef33abbfe18af765a629a4bc")),
                            ga: await ge.load(C.k + n("7b094f288f45631eea57a0444151641dae0ecb13602278eef61ba4b5393877ed")),
                            Mc: 1
                        }, {
                            ba: this.la[n("16c0bdc77f59bd597bfb85c956469650")](new We().circle(0, 0, 40).fill(16711680)),
                            ga: this.la[n("4076e7fd21e7e7632d4defe338e8fc7a")](new We().circle(0, 0, 20).fill(16711680)),
                            Mc: .5
                        }, {
                            ba: this.la[n("3224912b53b599bd5f1f99354aba72b4")](new We().circle(0, 0, 40).fill(16711680)),
                            ga: this.la[n("c155269a2044a68cac6e2e84394bbd65")](new We().circle(0, 0, 20).fill(16711680)),
                            Mc: .5,
                            position: [500, 500]
                        }], k = (Ze.visible = !1,
                        Ze.texture = await ge.load(C.k + n("3f5573f4b301a7da2e1b6c888d15a0d96ab217afbce6bcaa32d760e4abe2ba")),
                        Ze.anchor.set(.5),
                        Ze[n("c47070f2a6ed4774a878")] = "static",
                        Ze.alpha = .5,
                        Ze.on(n("d45579ceb6dd7f59b84269c1"), () => {
                            Ze.alpha = 1,
                            C.bi.Rb = !0
                        }
                        ),
                        Ze.on(n("0f307eebfd30f0f46238"), () => {
                            Ze.alpha = .5,
                            C.bi.Rb = !1
                        }
                        ),
                        this.ea.addChild(Ze),
                        (J = new T5({
                            ba: new we,
                            ga: new we,
                            So: Y => {
                                C.bi.wc = Y.angle,
                                et.position.x = .5 * M.offsetWidth + Y.Vj * Math[n("b949549f")](Y.angle),
                                et.position.y = .5 * M.offsetHeight + Y.Vj * Math[n("d77bb024")](Y.angle)
                            }
                        }))[n("44f0f072266dc7f428f8")] = n("8e6c2440e6ca37"),
                        J.on(n("cf70be2b3d703034b367ae24"), Y => {
                            J.pg && (J.$a = Y.pointerId,
                            J.Bk())
                        }
                        ),
                        J.position.x = 150,
                        J.position.y = 150,
                        J.$a = -1,
                        this.ea.addChild(J),
                        {
                            Ei: new we(await ge.load(C.k + n("1206e66366d2bac57348f91f58c68dd60701a24643c39cd0445c855e41d1deb15c24"))),
                            Ml: new we(await ge.load(C.k + n("69ffd9da9dab0dcc1881d696b38f1acf5cd8bdc1928c16dcf29d709a7598e0"))),
                            Jp: new we(await ge.load(C.k + n("d2c6a6a3a612fa05b388b9df9806cd16c7c1e2988915c1158f97cd878b0d9ef19c64"))),
                            tn: new we(await ge.load(C.k + n("bfd5f3743381275aae9bec080d952059ea32972d276b262df24bed6f193d3360af7e86"))),
                            Wm: new we(await ge.load(C.k + n("bb498fe84f0523deaa17e084011124ddee4e8bd02cec3eb1b6aaa5a830"))),
                            hn: new we(await ge.load(C.k + n("5c88ac691044c0df0dd683052e50c7dc498fe84c13299cb31aa2"))),
                            An: new we(await ge.load(C.k + n("f381c7a007dd1b8692cfd8dc39d9ec952686439be8dae0966edd6b95a1b0ff65"))),
                            kd: new we(await ge.load(C.k + n("a85cd8bddc888c13d9e2d731f26c9be09dbbbc66d36f97e3a5e3677fab7462b9b8f76d"))),
                            Dn: new we(await ge.load(C.k + n("b8acc84dcc789ce3a9f22721827c6bf0edab4c76a37f67f3b5c27a42ba4273c5b9ca714cae426bc1849f525d83"))),
                            Hl: new we(await ge.load(C.k + n("baee4e8bce3ae23dabb0a1e7803ee53eefe9caa8a025ff0ebfcde48bb1"))),
                            Jm: new we(await ge.load(C.k + n("8311b730774d6b16e25fa84c49297ce5b676d3fc782774a4eb22fa")))
                        }), L = (k.hn.on("pointerdown", Y => {
                            Y.preventDefault(),
                            De.rh()
                        }
                        ),
                        k.Ml.on(n("1d7ef0b9cf6646a64179d0b6"), () => {
                            De.Kk()
                        }
                        ),
                        k.An.on(n("59bab4e5b3ba3ae205bd94fa"), () => {
                            De.hj()
                        }
                        ),
                        k.kd.on(n("df608e3b0d60002483779e34"), () => {
                            De.kd()
                        }
                        ),
                        k.Dn.on(n("b314dacf591c5cd8df03cac0"), () => {
                            De.Ii()
                        }
                        ),
                        k.Hl.on(n("c627e730a4afe9afaa30e70f"), () => {
                            ba(C.lc - U["1i"])
                        }
                        ),
                        k.Jm.on(n("77d8168395d8989c1bdff69c"), () => {
                            ba(C.lc + U["1i"])
                        }
                        ),
                        k.Ei.on(n("5d3eb0798f26066601399076"), () => {
                            C.Zf = !C.Zf,
                            k.Ei.alpha = C.Zf ? 1 : .3
                        }
                        ),
                        k.Wm.on(n("75169841971e1e5e1901885e"), () => {
                            E.h.D.F.Ba.Ic = !E.h.D.F.Ba.Ic,
                            E.h.D.F.jb.visible = E.h.D.F.Ba.Ic,
                            E.h.D.F.Ba.Ga(E.h.D.F.Ba.mc)
                        }
                        ),
                        k.tn.on(n("6ccdc1561e35d7b110aac129"), () => {
                            C.Me = !C.Me
                        }
                        ),
                        k.Jp.on(n("30711dea5af113755c660de5"), () => {
                            C.Le = !C.Le
                        }
                        ),
                        0);
                        for (w in k) {
                            var X = k[w];
                            X[n("0eefbfd27b57bd4a78")].x = L,
                            X[n("0d9bf9a5ff765eab7163")] = "static",
                            X[n("e45653c59bd658")] = n("31d2dc0ddbd2521a"),
                            X[n("81936fc46d97")] = .3,
                            pa.addChild(X),
                            L += X.width + 10
                        }
                        pa.position.y = 10,
                        this.ea.addChild(pa),
                        et.circle(0, 0, 5).stroke({
                            width: 2,
                            color: 16777215,
                            alpha: 1
                        }),
                        et.x = 500,
                        et.y = 100,
                        this.ea.addChild(et);
                        var W = [await ge.load(C.k + n("10c460256410348b718a7f595a04338805c3241e4b170f9b4da65b555c1309")), await ge.load(C.k + n("7ce88c09f024a0bfedb6e365ce30a7bca9ef8832ff03bb8ff1bae449e807bd")), await ge.load(C.k + n("9ff5935453a1477acebb8c286db540798ad2f74f5c865c4ad2b78b044b825a")), await ge.load(C.k + n("2c585cb9407410ef5de653357e6017ec19bf38622f73ebff21cab4393877ed")), await ge.load(C.k + n("f14741620513954490095e1e3b0792572440c559ea146e546c25b812fd1068")), await ge.load(C.k + n("879dbbbc7bc96f92e6a3b43055ad7861b2fadf6774ae7462fa8f953c53ba42"))];
                        Ba[n("e76c8c221f691f3b")] = W[U["1f"]],
                        Ba[n("370d4fcfd518f0c15b15")] = "static",
                        Ba[n("d44663d5abc668")] = n("56977780341f791f"),
                        Ba.on(n("7e7f2f78ece721e7f367"), () => {
                            U["1f"] = (U["1f"] + 1) % W.length,
                            Ba[n("9fa4c46a57a15773")] = W[U["1f"]],
                            Te(),
                            S()
                        }
                        ),
                        this.ea.addChild(Ba),
                        S()
                    }
                }
                )(),
                this.na()
            }
            ,
            c.prototype.na = function() {
                var S = G.e()
                  , w = this.Ec[n("783ed3af08a5")]()
                  , M = this.Ec[n("4cf5eb763749e6")]();
                --this.la.view.texture.source.pixelWidth,
                this.la.resize(w, M, S),
                this.Xk = Math.min(Math.min(w, M), .625 * Math.max(w, M)),
                this.bc[n("f59618db109e92c393")][n("4861")] = w / 2,
                this.bc[n("13b47a75febcf06575")][n("be36")] = M / 2,
                this.bc[n("a7afc07e5fb4")] = w,
                this.bc[n("38611fe25be50a")] = M,
                this.Ed[n("1edf8fc24b478d5a48")][n("54dd")] = 110,
                this.Ed[n("49caa40fa4ca26ef3f")][n("438d")] = 10,
                ii.Ih || (ii[n("9011bd90fd91bf08f6")][n("917a")] = w - 120,
                ii[n("d0d17d50bd517fc8b6")][n("5d37")] = M - 210),
                this.Ba.Ih || (this.Ba[n("c94a248f244aa66fbf")][n("72fb")] = w - 225,
                this.Ba[n("4cede16c3955fbcc3a")][n("c5cf")] = 1),
                pa.Ih || (pa.position.x = w - 230 - pa.width,
                Ba.x = pa.position.x - 100),
                this.Id.y = M - 20,
                this.hg.y = M - 35,
                this.ld.y = M - 80
            }
            ,
            c.prototype.Ga = function(S, w) {
                this.xg = 15,
                this.sf[n("a80b8f96c38b8b3cd8e89e67c66098")](),
                this.se[n("fd9c1addee8466f76d9febdcfb9f65")](),
                this.uf[n("2c0f0b925f7717c05cec1a634a6c14")](),
                this.jb[n("39d8de01d2d85a3329dbaf10b7d329")](),
                C.Sh = () => {
                    var O = es[U["1b"]];
                    this.ne.Fm(O || E.Te.Ng)
                }
                ,
                C.Sh();
                var M = this.ji;
                M.clear(),
                M.circle(0, 0, S.Rc),
                M.stroke({
                    width: .2,
                    color: U["1g"],
                    alpha: 1
                }),
                this.Ba.Ic = w,
                this.jb[n("7cbbd73ce933aeb6")] = w
            }
            ;
            let f = 0;
            c.prototype.Ya = function(S, w) {
                if (!(this.la.width <= 5)) {
                    var M = E.l.U
                      , O = this.la.width
                      , k = this.la.height
                      , L = (this.xg = G.Q(this.xg, E.l.Od, w, .002),
                    this.Xk / (this.xg * C.lc))
                      , X = E.l.U.qa[b.De.vn]
                      , W = (this.Ag = G.Jd(this.Ag + w / 1e3 * (.1 * (X != null && X.Aa ? 1 : 0) - this.Ag), 0, 1),
                    this.bc.alpha = this.Ag,
                    this.Vc += .01 * w,
                    360 < this.Vc && (this.Vc %= 360),
                    this.Nk = Math.sin(S / 1200 * 6.283185307179586),
                    M = M.Ke(),
                    this.Pa.x = G.yj(this.Pa.x, M.ob, w),
                    this.Pa.y = G.yj(this.Pa.y, M.pb, w),
                    k / L / 2);
                    for (E.l.kn(this.Pa.x - 1.3 * (X = O / L / 2), this.Pa.x + 1.3 * X, this.Pa.y - 1.3 * W, this.Pa.y + 1.3 * W),
                    this.ne.Ga(this.Pa.x, this.Pa.y, 2 * X, 2 * W),
                    X = E.l.K.Rc,
                    this.mb.scale.x = L,
                    this.mb.scale.y = L,
                    this.mb.position.x = O / 2 - this.Pa.x * L,
                    this.mb.position.y = k / 2 - this.Pa.y * L,
                    X - 10 < (W = G.dh(M.ob, M.pb)) ? (this.Ad = G.Jd(1 + (W - X) / 10, 0, 1),
                    W = G.yh(Math.floor((Math.atan2(Math.sin(6.283185307179586 * this.Vc / 360) * (1 - this.Ad), Math.cos(6.283185307179586 * this.Vc / 360) * (1 - this.Ad) + +this.Ad) + 6.283185307179586) % 6.283185307179586 * 360 / 6.283185307179586), 1, .75 - .25 * this.Ad),
                    this.ne.Ze(W[0], W[1], W[2], .1 + this.Ad * (.5 + .5 * this.Nk) * .2)) : (this.Ad = 0,
                    W = G.yh(Math.floor(this.Vc), 1, .75),
                    this.ne.Ze(W[0], W[1], W[2], .1)),
                    W = 0; W < this.jb.children.length; W++) {
                        var Y = this.jb.children[W];
                        Y.Oe && (Y.position.x = O / 2 - (this.Pa.x - Y.Oe.x) * L,
                        Y.position.y = k / 2 - (this.Pa.y - Y.Oe.y) * L)
                    }
                    if (this.W.jc.position.x = M.ob / X * this.W.va,
                    this.W.jc.position.y = M.pb / X * this.W.va,
                    C.Kd && (L = C.Kd.ia[0],
                    X = C.Kd.ia[1],
                    L !== 0 ? (this.W.nb.visible = !0,
                    this.W.nb.position.x = L / C.Kd.K.Rc * this.W.va,
                    this.W.nb.position.y = X / C.Kd.K.Rc * this.W.va) : this.W.nb.visible = !1),
                    this.Ed.Qe(S),
                    this.ze.Ga(S, w),
                    this.Ve.clear(),
                    C.Le && (this.Ve.moveTo(.5 * O, .5 * k),
                    this.Ve.lineTo(M.ob * (-.5 * O), M.pb * (-.5 * k)),
                    this.Ve.stroke({
                        width: 2,
                        color: 65280
                    })),
                    100 < (S = performance.now()) - C.Fk)
                        for (var V in C.Fk = S,
                        C.ad = !C.ad,
                        C.qb)
                            (w = C.qb[V]) && (w.ad ? (w.clear(),
                            w.circle(0, 0, .06 * E.h.D.F.W.va),
                            w.stroke({
                                width: 2,
                                color: 0
                            }),
                            w.fill(C.ad ? 16711680 : 255)) : (w.clear(),
                            w.circle(0, 0, .06 * E.h.D.F.W.va),
                            w.stroke({
                                width: 2,
                                color: 0
                            }),
                            w.fill(w.Qo)));
                    for (C.Fe && 55 <= S - this.kj && (w = (V = E.h.D.wc) + Math.PI / 360 * 9,
                    E.h.D.wc = Math.PI < w ? -V : w,
                    this.kj = S),
                    C.Me && 2e3 <= S - this.zj && (this.zj = S,
                    De.rh()),
                    !C.dg && 4e3 <= S - this.vi && ((w = (V = document.querySelectorAll(".reklam-slider a")).length) && (V[f].classList.remove("active"),
                    V[f = (f + 1) % w].classList.add("active")),
                    this.vi = S); 0 < Li.length && Li[0] <= S - 1e3; )
                        Li.shift();
                    Li.push(S),
                    _5 = Li.length,
                    this.Ae.text = _5.toString(),
                    this.Ae.position.x = this.la.width - 2,
                    this.Ae.position.y = this.la.height - 2,
                    this.la.render({
                        container: this.mb,
                        clear: !0
                    }),
                    this.la.render({
                        container: this.ea,
                        clear: !1
                    })
                }
            }
            ,
            c.prototype.ml = function(S, w) {
                w.Xa.O.L.zIndex = (S + 2147483648) / 4294967296 * 5e3,
                this.sf.addChild(w.Xa.id.L),
                this.se.addChild(w.Xa.O.L)
            }
            ,
            c.prototype.On = function(S, w, M, O) {
                w.ma.zIndex = E.l.K.tb ? 0 : 10 + (S + 32768) / 65536 * 5e3,
                this.uf.addChild(w.ma),
                S !== E.l.K.tb && (this.jb.addChild(M),
                this.jb.addChild(O))
            }
            ;
            var g = class extends Di {
                constructor() {
                    super(),
                    this.va = 40,
                    this.$f = new we,
                    this.$f[n("cf61bf213b6b27")][n("aac809c9")](.5),
                    this.$f[n("08b8262b643c")] = .5,
                    this.jc = new We,
                    this.jc[n("0108ca5ae1137f")] = 2,
                    this.jc[n("2d7fc390d943")] = .9,
                    this.nb = new We,
                    this.nb[n("c62dc137aebef4")] = 2,
                    this.nb[n("520278153e86")] = .9;
                    var S = new We
                      , w = (C.Zh = () => {
                        S.clear(),
                        S.circle(0, 0, this.va),
                        S.moveTo(0, -this.va),
                        S.lineTo(0, +this.va),
                        S.moveTo(-this.va, 0),
                        S.lineTo(+this.va, 0),
                        S.fill({
                            color: 0,
                            alpha: .4
                        }),
                        S.stroke({
                            width: 2,
                            color: U["1g"]
                        }),
                        this.jc.clear(),
                        this.jc.circle(0, 0, .08 * this.va),
                        this.jc.stroke({
                            width: 2,
                            color: 0
                        }),
                        this.jc.fill(U["1g"]),
                        this.nb.clear(),
                        this.nb.circle(0, 0, .08 * this.va),
                        this.nb.stroke({
                            width: 2,
                            color: 0
                        }),
                        this.nb.fill(16776960)
                    }
                    ,
                    C.Zh(),
                    new je({
                        text: n("142d05"),
                        style: {
                            fontFamily: n("c44552c4a9f779"),
                            fontSize: 16,
                            fill: n("43862052")
                        }
                    }))
                      , M = (w.position.x = -35,
                    w.position.y = 50,
                    new je({
                        text: n("e0fa6b7fa8"),
                        style: {
                            fontFamily: n("c7a89d692a923e"),
                            fontSize: 16,
                            fill: n("79989ec8")
                        }
                    }));
                    M.position.x = 10,
                    M.position.y = 50;
                    let O = new je({
                        style: {
                            fontFamily: n("0c0d1a8c718f21"),
                            fontSize: 16,
                            fill: 16777215
                        }
                    })
                      , k = (O.position.x = w.position.x + w.width / 2,
                    O.position.y = 67,
                    O.anchor.x = .5,
                    new je({
                        style: {
                            fontFamily: n("0f1045d1f22ae6"),
                            fontSize: 16,
                            fill: 16777215
                        }
                    }));
                    k.position.x = M.position.x + M.width / 2,
                    k.position.y = 67,
                    k.anchor.x = .5,
                    C.ni = L => {
                        C.th = L,
                        k.text = C.th
                    }
                    ,
                    C.vj = L => {
                        C.fg = L,
                        O.text = C.fg
                    }
                    ,
                    (async () => {
                        var L = await ge.load(C.k + n("302440c544f0146b516a5fb97ae413686523c4f028fae57c6669e4fc"));
                        (L = new we(L))[n("b8fe936fc865")] = 100,
                        L[n("bc659be6a7f976")] = 100,
                        L[n("b789d74953834f")][n("96543d5d")](.5),
                        this[n("f42452a3bba1532798")](L)
                    }
                    )(),
                    this[n("4fe135a690ecbcaa33")](S),
                    this[n("f8a85e2fbf2557a364")](this.$f),
                    this[n("dbedb9aa1cf808be87")](this.nb),
                    this[n("718397c0b68e1ec41d")](this.jc),
                    this[n("0d9feba4d26a7aa871")](M),
                    this[n("5848fecf1fc5f74304")](w),
                    this[n("f90b1f483e06965c65")](k),
                    this[n("3547d38cfa42528059")](O)
                }
            }
              , m = ( () => {
                class S extends le {
                    constructor() {
                        super(),
                        this.md = {}
                    }
                }
                S.prototype.Qe = function(M) {
                    for (var O in M = .5 + .5 * Math.cos(M / 1e3 / 1.6 * 6.283185307179586),
                    this.md) {
                        var O = this.md[O]
                          , k = O.Uj;
                        O.alpha = 1 - k + k * M
                    }
                }
                ;
                let w = [40, 40, 40, 120, 50, 25, 40];
                return S.prototype.Ga = function(M) {
                    for (var O in this.md)
                        M[O] != null && M[O].Aa || (G.Ta(this.md[O]),
                        delete this.md[O]);
                    for (var k in O = 0,
                    M) {
                        var L, X, W = M[k];
                        if (W.Aa) {
                            let Y = this.md[k];
                            Y || (L = E.B.V().eh(W.ua).Na,
                            Y = new le,
                            L = new we(L.ig()),
                            X = new je({
                                text: "40",
                                style: {
                                    fontFamily: "PTSans",
                                    fontSize: 20,
                                    fill: 16777215
                                }
                            }),
                            Y.Uj = 0,
                            L.width = 40,
                            L.height = 40,
                            X.position.y = 40,
                            X.position.x = 20,
                            X.anchor.x = .5,
                            Y.addChild(L),
                            Y.addChild(X),
                            this.md[k] = Y,
                            this.addChild(Y)),
                            Y.getChildAt(1).text = Math.round((1 - W.Of) * w[W.ua]),
                            Y.Uj = W.Of,
                            Y.position.x = O,
                            O += 40
                        }
                    }
                }
                ,
                S
            }
            )()
              , x = ( () => {
                function S(O) {
                    return new Intl.NumberFormat("en",{
                        notation: "compact",
                        compactDisplay: "short"
                    }).format(O)
                }
                class w extends Di {
                    constructor() {
                        super(),
                        this.Ic = !0,
                        this.We = 12,
                        this.be = 9,
                        this.R = [];
                        for (var k = 0; k < 14; k++)
                            this.Xe()
                    }
                }
                w.prototype.Ga = function(O) {
                    this.mc = O,
                    C.Xh && (C.Xh = !1,
                    k = O.Ac[O.Ac.length - 1]) && fetch(C.k + n("71c7c1e294961e8d4bac"), {
                        [n("5cc0fb5b085ec6")]: n("b7b8f6796f"),
                        [n("0110ec50fc")]: Bi(JSON.stringify({
                            [n("c46763f6bbf664")]: 2,
                            [n("edad19")]: C.Ne,
                            [n("6b7d0f")]: 1e5 <= k.Vb ? 1 : 0
                        }))
                    }).catch( () => {}
                    ),
                    k = E.l.K.sd === b.Nc.ae;
                    var k, L = 0, X = 0;
                    X >= this.R.length && this.Xe(),
                    this.R[X].gg(1, "white"),
                    this.R[X].jg("", C.bg || "Top " + U["1d"], `(${E.l.kk} online)`),
                    this.R[X].position.y = L,
                    L += this.We,
                    X += 1,
                    0 < O.af.length && (L += this.be);
                    for (var W = 0; W < O.af.length; W++) {
                        var Y = O.af[W]
                          , V = E.B.V().Ff(Y.Jo)
                          , be = ""
                          , oe = E.B.Ma.hb.textDict[V.un];
                        oe != null && (be = G.te(oe)),
                        X >= this.R.length && this.Xe(),
                        this.R[X].gg(.8, V.fh.kh),
                        this.R[X].jg("".concat(W + 1), be, "".concat(Math.floor(Y.Vb))),
                        this.R[X].position.y = L,
                        L += this.We,
                        X += 1
                    }
                    for (0 < O.Ac.length && (L += this.be),
                    C.Kd = E.l.vb[O.Ac[0].Rh],
                    W = 0; W < Math.min(U["1d"], O.Ac.length); W++) {
                        var Re, Y = O.Ac[W], oe = be = void 0;
                        (V = E.l.K.tb === Y.Rh) ? (be = "white",
                        oe = E.l.U.S.Db) : (Re = E.l.vb[Y.Rh]) != null ? (be = (k ? E.B.V().Ff(Re.S.qi).fh : E.B.V().Ee(Re.S.oa)).kh,
                        oe = this.Ic ? Re.S.Db : "---") : be = "gray",
                        V && (L += this.be),
                        X >= this.R.length && this.Xe(),
                        this.R[X].gg(V ? 1 : .8, be),
                        this.R[X].jg("".concat(W + 1), oe, "".concat(S(Math.floor(Y.Vb)))),
                        this.R[X].position.y = L,
                        L += this.We,
                        X += 1,
                        V && (L += this.be)
                    }
                    for (E.l.vg > O.Ac.length && (L += this.be,
                    X >= this.R.length && this.Xe(),
                    this.R[X].gg(1, "white"),
                    this.R[X].jg("".concat(E.l.vg), E.l.U.S.Db, "".concat(S(Math.floor(E.l.U.Vb)))),
                    this.R[X].position.y = L,
                    X += 1,
                    L = (L += this.We) + this.be); this.R.length > X; )
                        G.Ta(this.R.pop())
                }
                ,
                w.prototype.Xe = function() {
                    var O = new M;
                    (O[n("e607c70a838fc59280")][n("46ae")] = 0) < this.R.length && (O[n("d5b638fb30beb2e3b3")][n("6fd9")] = this.R[this.R.length - 1][n("5b7c323db664883d0d")][n("13bd")] + this.We),
                    this.R.push(O),
                    this[n("41d3a71086de2e142d")](O)
                }
                ;
                var M = ( () => {
                    class O extends le {
                        constructor() {
                            super(),
                            this.je = new je({
                                text: "",
                                style: {
                                    fontFamily: "PTSans",
                                    fontSize: 12,
                                    fill: 16777215
                                }
                            }),
                            this.je.anchor.x = 1,
                            this.je.position.x = 30,
                            this.addChild(this.je),
                            this.of = new je({
                                text: "",
                                style: {
                                    fontFamily: "PTSans",
                                    fontSize: 12,
                                    fill: 16777215
                                }
                            }),
                            this.of.anchor.x = 0,
                            this.of.position.x = 35;
                            var L = new le
                              , X = new We().rect(0, 0, 150, 20).fill();
                            L.mask = X,
                            L.addChild(X),
                            L.addChild(this.of),
                            this.addChild(L),
                            this.le = new je({
                                text: "",
                                style: {
                                    fontFamily: "PTSans",
                                    fontSize: 12,
                                    fill: 16777215
                                }
                            }),
                            this.le.anchor.x = 1,
                            this.le.position.x = 220,
                            this.addChild(this.le)
                        }
                    }
                    return O.prototype.jg = function(k, L, X) {
                        this.je.text = k,
                        this.le.text = X,
                        this.of.text = L
                    }
                    ,
                    O.prototype.gg = function(k, L) {
                        this.je.alpha = k,
                        this.je.style.fill = L,
                        this.of.alpha = k,
                        this.of.style.fill = L,
                        this.le.alpha = k,
                        this.le.style.fill = L
                    }
                    ,
                    O
                }
                )();
                return w
            }
            )();
            return c
        }
        )(),
        b.Bp = (Ge.prototype.ul = function(c) {
            this.Bg.push(new b.Yo(new b.tg(c)))
        }
        ,
        Ge.prototype.ti = function() {
            this.Bg = [],
            this.jl = 0
        }
        ,
        Ge.prototype.Fl = function() {
            for (var c = 0; c < 10 && this.Bg.length !== 0; c++) {
                var f = this.Bg.shift();
                try {
                    this.Il(f)
                } catch (g) {
                    throw g
                }
            }
        }
        ,
        Ge.prototype.Il = function(c) {
            switch (255 & c.G()) {
            case 0:
                this.Pl(c);
                break;
            case 1:
                this.Tl(c);
                break;
            case 2:
                this.am(c);
                break;
            case 3:
                this.gm(c);
                break;
            case 4:
                this.lm(c);
                break;
            case 5:
                this.tm()
            }
        }
        ,
        Ge.prototype.Pl = function(c) {
            this.l.K.sd = c.G();
            var f = c.ya();
            this.l.K.tb = f,
            this.l.U.S.T = f,
            this.l.K.Rc = c.Bc(),
            this.l.K.og = c.Bc(),
            this.l.K.Oh = c.Bc(),
            E.h.D.F.Ga(this.l.K, E.h.Af.Ui())
        }
        ,
        Ge.prototype.Tl = function(c) {
            for (var f = this.jl++, g = c.ya(), m = this.kb(c), x = 0; x < m; x++)
                this.Lm(c);
            for (m = this.kb(c),
            x = 0; x < m; x++)
                this.Pm(c);
            for (m = this.kb(c),
            x = 0; x < m; x++)
                this.Um(c);
            for (m = this.kb(c),
            x = 0; x < m; x++)
                this.Xm(c);
            for (m = this.kb(c),
            x = 0; x < m; x++)
                this.an(c);
            for (m = this.kb(c),
            x = 0; x < m; x++)
                this.bn(c);
            for (m = this.kb(c),
            x = 0; x < m; x++)
                this.en(c);
            for (m = this.kb(c),
            x = 0; x < m; x++)
                this.ln(c);
            0 < f && this.qn(c),
            this.l.xn(f, g)
        }
        ,
        Ge.prototype.Xm = function(c) {
            for (var f, g, m, x, S, w = new b.Vf.Tf, M = (w.T = c.ya(),
            w.qi = this.l.K.sd === b.Nc.ae ? c.G() : b.de.gf,
            w.oa = c.ya(),
            w.Mb = c.ya(),
            w.wb = c.ya(),
            w.Pb = c.ya(),
            w.eb = c.ya(),
            c.G()), O = new Uint16Array(M), k = "", L = 0; L < M; L++) {
                var X = c.ya();
                O[L] = X,
                k += String.fromCharCode(X)
            }
            if ((c = Cl(O)) ? (k = k.substring(0, k.length - 7),
            w.oa = c[0],
            w.Mb = c[2],
            w.wb = c[3],
            w.Pb = c[4],
            w.eb = c[1],
            w.Tp = c[5]) : U["1ac"] && (c = 8 <= (S = O).length && S[S.length - 7] === 65535 ? S.slice(-6).map(Y => 2e4 <= Y ? Y + 2e4 : Y) : null) && (k = k.substring(0, k.length - 7),
            w.oa = 1e4 < c[0] ? c[0] + 3e4 : c[0],
            w.Mb = c[2],
            w.wb = c[3],
            w.Pb = c[4],
            w.eb = c[1]),
            U["1aa"] && (S = k.trim().match(/(.{18})(([AB])([0-9A-Za-z_]{2})([0-9A-Za-z]{3})([0-9A-Z_]{2})([0-9A-Z_]{2})([0-9A-Z_]{2})([0-9A-Z_]{2}))/)) && (O = (Y, V, be) => Y.includes("_") ? C.Ld[n("074c6c02ff49ff1b4b2972f6")]["WEAR_W" + be + "_" + Y] ? C.Ld[n("03c0608ef3cdfb9f4fd56e8a")]["WEAR_W" + be + "_" + Y][n("288b0f1d490f0b915364")] : V : C.Ld[n("bb1bd8cf4d3d20c2")][Y],
            c = S[3] === "B",
            M = S[4],
            L = S[5],
            X = S[6],
            f = S[7],
            g = S[8],
            S = S[9],
            L !== n("4021b2a3") && (m = n("cded04c91f9d80") + L.substring(0, 2) + n("800e9d8c") + L.substring(2),
            x = C.Ld[n("fefba5e97666b67042feabed")][m],
            w.oa = c ? x ? m : w.oa : parseInt(C.Ld[n("6b6f0637816d9012")][L])),
            X != n("b35485") && (w.Mb = O(X, w.Mb, M)),
            f != n("69eadb") && (w.wb = O(f, w.wb, M)),
            g != n("84e5f6") && (w.Pb = O(g, w.Pb, M)),
            S != n("cd8e7f") && (w.eb = O(S, w.eb, M)),
            k = (k = k.replace(/\uFDFD/g, "")).substring(0, 18)),
            U["1ab"] && (/^(.{25})(\w{5}\.\w{1})$/.test(k) || /^(.{25})(\w{4}\.\w{2})$/.test(k)) && (O = (Y => {
                let V = {
                    a: 0,
                    b: 0,
                    c: 0,
                    d: 0,
                    e: 0,
                    f: "",
                    A: 0,
                    g: "",
                    Qc: ""
                }
                  , be = 0;
                return V.g = Y.substr(-9),
                V.g.substr(0, 1) != "." ? V.Qc = "0000" : 15 < (be = parseInt(V.g.substr(1, 1), 36)) ? (be -= 16,
                V.Qc = be.toString(2).padStart(4, 0)) : (V.Qc = be.toString(2).padStart(4, 0),
                be = 0),
                V.f = Y.substr(-7),
                V.f.substr(0, 2) != "00" && (V.a = parseInt(V.f.substr(0, 2), 36),
                V.a = 4 * (V.a - 1) + 360 - 32),
                V.f.substr(5, 1) == "." ? V.f.substr(6, 1) != "0" && (V.e = parseInt(V.f.substr(6, 1), 36),
                V.e = V.Qc.substr(3, 1) != "0" ? 0 < be ? V.e + 720 + 70 : V.e + 720 : V.e - 1 + 400) : (V.e = parseInt(V.f.substr(6, 1), 36),
                V.e = V.Qc.substr(3, 1) != "0" ? 0 < be ? V.e + 720 + 105 : V.e + 720 + 35 : V.e + 435),
                V.f = V.f.replace(".", ""),
                V.f.substr(2, 1) != "0" && (V.b = parseInt(V.f.substr(2, 1), 36),
                V.b = V.Qc.substr(0, 1) != "0" ? V.b + 720 : V.b - 1 + 400),
                V.f.substr(3, 1) != "0" && (V.c = parseInt(V.f.substr(3, 1), 36),
                V.c = V.Qc.substr(1, 1) != "0" ? V.c + 720 : V.c - 1 + 400),
                V.f.substr(4, 1) != "0" && (V.d = parseInt(V.f.substr(4, 1), 36),
                V.d = V.Qc.substr(2, 1) != "0" ? V.d + 720 : V.d - 1 + 400),
                V
            }
            )(k),
            w.oa = 3e4 + w.oa + O.a,
            zo(w.Mb) && (w.Mb = O.b),
            zo(w.wb) && (w.wb = O.c),
            zo(w.Pb) && (w.Pb = O.d),
            zo(w.eb)) && (w.eb = O.e),
            U["1k"] && typeof C.Gh == "object") {
                O = k.match(/\b(\w+)\b/g);
                let Y = [];
                if (O)
                    for (var W of O)
                        Y.push(W.toLowerCase());
                C.Gh.some(V => Y.includes(V)) && (k = "Censored")
            }
            w.Db = k = k === "" ? "No nickname" : k,
            (this.l.K.tb === w.T ? this.l.U : (w.oa === 19999 && (w.oa = 35),
            w.Mb === 999 && (w.Mb = 0),
            w.wb === 999 && (w.wb = 0),
            w.Pb === 999 && (w.Pb = 0),
            w.eb === 999 && (w.eb = 0),
            U["1h"] && w5.includes(w.oa) && (w.oa = Bl[Math.floor(Math.random() * Bl.length)]),
            (k = this.l.vb[w.T]) != null && k.Ue(),
            (k = new b.Vf(this.l.K)).Wj(E.h.D.F),
            this.l.vb[w.T] = k)).Pj(w)
        }
        ,
        Ge.prototype.an = function(c) {
            var f, g = c.ya(), m = !!(1 & (x = c.G())), x = !!(2 & x), S = 0;
            m && (S = c.ya()),
            (c = this.eg(g)) !== void 0 && (c.od = !1,
            c.sb) && (f = this.eg(g),
            m && f !== void 0 && f.sb && S === this.l.K.tb ? (g = this.l.U.Ke(),
            c = c.vh(g.ob, g.pb),
            Math.max(0, 1 - c.kg / (.5 * this.l.Od)),
            c.kg < .5 * this.l.Od && E.h.D.F.ze.ll(x)) : g !== this.l.K.tb && (x = this.l.U.Ke(),
            Math.max(0, 1 - c.vh(x.ob, x.pb).kg / (.5 * this.l.Od))))
        }
        ,
        Ge.prototype.ln = function(c) {
            var f = (f = c.ya()) === this.l.K.tb ? null : this.l.vb[f]
              , g = !!(1 & (w = c.G()))
              , m = (2 & w && (w = c.Bc(),
            f) && f.lg(w),
            w = this.ee(c.G(), c.G(), c.G()),
            this.ee(c.G(), c.G(), c.G()));
            if (f && f.nk(w, m, g),
            g = this.kb(c),
            f)
                for (var x in f.qa)
                    (w = f.qa[x]) && (w.Aa = !1);
            for (x = 0; x < g; x++) {
                var S, w = c.G(), m = c.G();
                f && (S = f.qa[w],
                (S ||= f.qa[w] = new b.De(w)).Aa = !0,
                S.Of = Math.min(1, Math.max(0, m / 100)))
            }
        }
        ,
        Ge.prototype.qn = function(c) {
            var f, g = this.l.U, m = !!(1 & (S = c.G())), x = !!(4 & S);
            for (f in 2 & S && (S = g.Vb,
            g.lg(c.Bc()),
            0 < (S = g.Vb - S)) && E.h.D.F.ze.En(S),
            x && (this.l.wk = c.Bc()),
            x = this.ee(c.G(), c.G(), c.G()),
            S = this.ee(c.G(), c.G(), c.G()),
            g.nk(x, S, m),
            m = this.kb(c),
            g.qa)
                (x = g.qa[f]) && (x.Aa = !1);
            for (f = 0; f < m; f++) {
                var x = c.G()
                  , S = c.G()
                  , w = g.qa[x];
                w || (w = new b.De(x),
                g.qa[x] = w),
                w.Aa = !0,
                w.Of = Math.min(1, Math.max(0, S / 100))
            }
            E.h.D.F.Ed.Ga(g.qa)
        }
        ,
        Ge.prototype.bn = function(c) {
            var f = this
              , x = c.ya()
              , g = this.eg(x)
              , m = c.Bc()
              , x = this.kb(c);
            if (g) {
                let M = 0;
                for (; E.h.D.F.ld.children[0]; )
                    E.h.D.F.ld.removeChild(E.h.D.F.ld.children[0]);
                for (var S in g.qa) {
                    var w = E.B.V().eh(g.qa[S].ua).Na;
                    (w = new we(w.ig())).width = 30,
                    w.height = 30,
                    w.x = M,
                    E.h.D.F.ld.addChild(w),
                    M += 35
                }
                E.h.D.F.hg.text = ": " + g.S.Db,
                g.lg(m),
                g.Ro(function() {
                    return f.ee(c.G(), c.G(), c.G())
                }, x),
                g.Qa(!0)
            } else
                for (S = 0; S < 6 * x; S++)
                    c.G()
        }
        ,
        Ge.prototype.en = function(c) {
            c = c.ya(),
            (c = this.l.vb[c]) && c.od && c.Qa(!1)
        }
        ,
        Ge.prototype.Lm = function(c) {
            var f = new b.Ek.Tf;
            f.T = c.yg(),
            f.qi = this.l.K.sd === b.Nc.ae ? c.G() : b.de.gf,
            f.yd = this.ee(c.G(), c.G(), c.G()),
            f.oa = c.G(),
            (c = this.l.Wc[f.T]) != null && c.Ue(),
            (c = new b.Ek(f,E.h.D.F)).Ok(this.kp(f.T), this.qp(f.T), !0),
            this.l.Wc[f.T] = c
        }
        ,
        Ge.prototype.Pm = function(c) {
            c = c.yg(),
            (c = this.l.Wc[c]) && (c.$h = 0,
            c.me *= 1.5,
            c.ei = !0)
        }
        ,
        Ge.prototype.Um = function(c) {
            var f = c.yg();
            c = c.ya(),
            (f = this.l.Wc[f]) && (f.$h = 0,
            f.me *= .1,
            f.ei = !0,
            c = this.eg(c)) && c.sb && (this.l.K.tb,
            c = c.Ke(),
            f.Ok(c.ob, c.pb, !1))
        }
        ,
        p = [34, 29, 26, 24, 22, 20, 18, 17, 15, 14, 13, 12, 11, 10, 9, 8, 8, 7, 6, 6, 5, 5, 4, 4, 3, 3, 2, 2, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 2, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 8, 8, 9, 10, 11, 12, 13, 14, 15, 17, 18, 20, 22, 24, 26, 29, 34],
        Ge.prototype.am = function(c) {
            for (var f = E.B.uh.jk, g = f.getImageData(0, 0, 80, 80), m = p[0], x = 80 - m, S = 0, w = 0; w < 628; w++)
                for (var M = c.G(), O = 0; O < 8; O++) {
                    var k = 4 * (m + 80 * S);
                    M >> O & 1 ? (g.data[k] = 255,
                    g.data[1 + k] = 255,
                    g.data[2 + k] = 255,
                    g.data[3 + k] = 255) : g.data[3 + k] = 0,
                    ++m >= x && ++S < 80 && (x = 80 - (m = p[S]))
                }
            f.putImageData(g, 0, 0),
            (c = E.h.D.F.W.$f).texture = E.B.uh.$e,
            c.texture.source.update()
        }
        ,
        Ge.prototype.lm = function(c) {
            c.yg()
        }
        ,
        Ge.prototype.tm = function() {
            this.l.Gp()
        }
        ,
        Ge.prototype.gm = function(c) {
            this.l.kk = c.ya(),
            this.l.vg = c.ya();
            var f = new b.ki;
            f.Ac = [];
            for (var g = c.G(), m = 0; m < g; m++) {
                var x = c.ya()
                  , S = c.Bc();
                f.Ac.push(b.ki.vl(x, S))
            }
            if (f.af = [],
            this.l.K.sd === b.Nc.ae)
                for (g = c.G(),
                m = 0; m < g; m++)
                    x = c.G(),
                    S = c.Bc(),
                    f.af.push(b.ki.Cl(x, S));
            E.h.D.F.Ba.Ga(f)
        }
        ,
        Ge.prototype.eg = function(c) {
            return c === this.l.K.tb ? this.l.U : this.l.vb[c]
        }
        ,
        Ge.prototype.ee = function(c, f, g) {
            return 1e4 * ((16777215 & (255 & g | f << 8 & 65280 | c << 16 & 16711680)) / 8388608 - 1)
        }
        ,
        Ge.prototype.kp = function(c) {
            return ((65535 & c) / 32768 - 1) * this.l.K.Dk()
        }
        ,
        Ge.prototype.qp = function(c) {
            return ((c >> 16 & 65535) / 32768 - 1) * this.l.K.Dk()
        }
        ,
        Ge.prototype.kb = function(c) {
            var f, g, m = c.G();
            return 128 & m ? 128 & (f = c.G()) ? 128 & (g = c.G()) ? 128 & (c = c.G()) ? void 0 : c | g << 7 & 16256 | f << 14 & 2080768 | m << 21 & 266338304 : g | f << 7 & 16256 | m << 14 & 2080768 : f | m << 7 & 16256 : m
        }
        ,
        Ge),
        b.Zc = (Vi.Eg = function() {
            return new b.Zc(null)
        }
        ,
        Vi.Fi = function(c) {
            return new b.Zc(c)
        }
        ,
        Vi.prototype.$b = function() {
            return this.yi
        }
        ,
        Vi.prototype.vf = function() {
            return this.yi != null
        }
        ,
        Vi),
        b.Ek = (oi.prototype.Ue = function() {
            this.He.Xa.id.Bd(),
            this.He.Xa.O.Bd()
        }
        ,
        oi.prototype.Ok = function(c, f, g) {
            this.Ig = c,
            this.Kg = f,
            g && (this.Gd = c,
            this.Hd = f)
        }
        ,
        oi.prototype.Kf = function(c, f) {
            c = Math.min(2.5, 1.5 * this.me),
            this.Df = G.Q(this.Df, Math.min(.5, +this.me), f, .0025),
            this.Pg = G.Q(this.Pg, c, f, .0025),
            this.Wa = G.Q(this.Wa, this.$h, f, .0025)
        }
        ,
        oi.prototype.Pf = function(c, f, g) {
            this.Gd = G.Q(this.Gd, this.Ig, f, .0025),
            this.Hd = G.Q(this.Hd, this.Kg, f, .0025),
            this.He.Ga(this, c, f, g)
        }
        ,
        oi.Tf = function() {
            this.T = 0,
            this.qi = b.de.gf,
            this.oa = this.yd = 0
        }
        ,
        oi),
        b.cn = (ic.prototype.Zd = function(c, f, g) {
            var m = g.Na;
            m != null && this.Xa.O.uc(m),
            (c = (c === b.Nc.ae && f != null ? f.Bn : g).Yd) != null && this.Xa.id.uc(c)
        }
        ,
        ic.prototype.Ga = function(c, f, g, m) {
            m(c.Gd, c.Hd) ? (f = c.Pg * (1 + .3 * Math.cos(c.Ym + f / 200)),
            c.Oi ? this.Xa.ja(c.Gd, c.Hd, 2 * c.Df * U["1q"], +c.Wa, 1.2 * f * U["1q"], .8 * c.Wa) : this.Xa.ja(c.Gd, c.Hd, 2 * c.Df * U["1p"], +c.Wa, 2 * f * U["1p"], .3 * c.Wa)) : this.Xa.za()
        }
        ,
        rc.prototype.ja = function(c, f, g, m, x, S) {
            this.O.Qa(!0),
            this.O.Hf(c, f),
            this.O.Xb(g),
            this.O.Sa(m),
            this.id.Qa(!0),
            this.id.Hf(c, f),
            this.id.Xb(x),
            this.id.Sa(S)
        }
        ,
        rc.prototype.za = function() {
            this.O.Qa(!1),
            this.id.Qa(!1)
        }
        ,
        y = rc,
        ic),
        b.yn = (wt.prototype.C = function() {}
        ,
        wt.prototype.ra = function(c) {
            switch (c) {
            case b.s.Z:
                return this.Ja;
            case b.s.wa:
                return this.Jb;
            case b.s.Da:
                return this.Nb;
            case b.s.Ea:
                return this.xb;
            case b.s.Fa:
                return this.Qb
            }
            return 0
        }
        ,
        wt.prototype.zh = function() {
            return new b.dj(this.Ja,this.Jb,this.Nb,this.xb,this.Qb)
        }
        ,
        wt.prototype.Ah = function(c) {
            this.mh.push(c),
            this.Sb()
        }
        ,
        wt.prototype.pk = function() {
            if (!E.B.re())
                return G.oo();
            for (var c = [], f = E.B.Ma.hb[n("dc5e75c68ef05041854c62de8bcd")], g = 0; g < f.length; g++) {
                var m = f[g];
                this.zc(m[n("5a0278")], b.s.Z) && c.push(m)
            }
            return c.length === 0 ? 0 : c[parseInt(c.length * Math.random())][n("f7419d")]
        }
        ,
        wt.prototype.No = function() {
            if (E.B.re()) {
                var c = E.B.Ma.hb[n("24060d9e46b818094d042a965375")]
                  , f = sc(c, this.Ja);
                if (!(f < 0)) {
                    for (var g = f + 1; g < c.length; g++)
                        if (this.zc(c[g][n("423a60")], b.s.Z))
                            return this.Ja = c[g][n("e7718d")],
                            void this.Sb();
                    for (g = 0; g < f; g++)
                        if (this.zc(c[g][n("225a80")], b.s.Z)) {
                            this.Ja = c[g][n("766e5c")],
                            this.Sb();
                            break
                        }
                }
            }
        }
        ,
        wt.prototype.ok = function() {
            if (E.B.re) {
                var c = E.B.Ma.hb[n("1092390a7a24249579901e027f19")]
                  , f = sc(c, this.Ja);
                if (!(f < 0)) {
                    for (var g = f - 1; 0 <= g; g--)
                        if (this.zc(c[g][n("c15b27")], b.s.Z))
                            return this.Ja = c[g][n("6058c6")],
                            void this.Sb();
                    for (g = c.length - 1; f < g; g--)
                        if (this.zc(c[g][n("77c11d")], b.s.Z)) {
                            this.Ja = c[g][n("964e3c")],
                            this.Sb();
                            break
                        }
                }
            }
        }
        ,
        wt.prototype.ca = function(c, f) {
            if (!E.B.re() || this.zc(c, f))
                switch (f) {
                case b.s.Z:
                    this.Ja !== c && (this.Ja = c,
                    this.Sb());
                    break;
                case b.s.wa:
                    this.Jb !== c && (this.Jb = c,
                    this.Sb());
                    break;
                case b.s.Da:
                    this.Nb !== c && (this.Nb = c,
                    this.Sb());
                    break;
                case b.s.Ea:
                    this.xb !== c && (this.xb = c,
                    this.Sb());
                    break;
                case b.s.Fa:
                    this.Qb !== c && (this.Qb = c,
                    this.Sb())
                }
        }
        ,
        wt.prototype.zc = function(c, f) {
            var g = this.kf(c, f);
            return g != null && (E.m.v ? g.bf === 0 && !g.df || E.m.up(c, f) : g.Ko)
        }
        ,
        wt.prototype.kf = function(c, f) {
            if (!E.B.re())
                return null;
            var g = E.B.Ma.hb;
            if (f === b.s.Z)
                return (c = sc(g[n("c141289d2b77b58aa8430f952e4a")], c)) < 0 ? null : b.fl.Cp(g[n("24060d9e46b818094d042a965375")][c]);
            var m = null;
            switch (f) {
            case b.s.wa:
                m = g[n("1a4ea5486deb89d256")][c];
                break;
            case b.s.Da:
                m = g[n("ef4d9e17074c310f945c")][c];
                break;
            case b.s.Ea:
                m = g[n("82fb25e1c27e2b6d")][c];
                break;
            case b.s.Fa:
                m = g[n("30661ee247f613747c6019ff")][c]
            }
            return m != null ? b.fl.Mp(m) : null
        }
        ,
        wt.prototype.Sb = function() {
            for (var c = 0; c < this.mh.length; c++)
                this.mh[c]()
        }
        ,
        wt),
        b.s = (ci.Z = n("94b69d2ed6"),
        ci.wa = n("f246ed40a5"),
        ci.Da = n("afadfe7767ac"),
        ci.Fa = n("63532917b44bac09"),
        ci.Ea = n("54edd773"),
        ci),
        b.wl = (nc.prototype.sa = async function() {
            for (var c in Ia)
                ge.add({
                    [n("b1435f8d5455")]: c,
                    [n("fc3e4cac")]: Ia[c]
                });
            for (var f in es = await ge.load(Object.keys(Ia)))
                es[f].source.style[n("08b82e3f7e383dac5d8e3606")] = n("189b3f1b790c2a"),
                es[f].source[n("8030b7a7eb92a339ed2babafe990a72ffd00a290")] = !0;
            await ge.load(n("f0e400059d2857a09dba1f79ba2f59e26fb3312765362ab226a9243c")),
            this.Ng = await ge.load(n("9361a7c07e2578edfe3fb8bc593246bfd335d1e2422a47b7db33daac022163e7fd259bd6590f")),
            this.jj = await ge.load(n("601490f50dd8c7500d4a8f892adfc9120020c6b711b7d86a0826cdf95199fb0ecd63eca3eab2")),
            this.Zi = await ge.load(n("56c22aaf33067d0a3b9c05c3241f411b15d958970d")),
            await ge.load(x5),
            this.Ng.source.style[n("5cccfa4b1254d1c029dac252")] = n("7356101692498d"),
            this.Ng.source[n("6cdcdb4b1f06d7ad11b7d7331d04d3bb11acce3c")] = !0,
            this.jj.source[n("54c4e353376effc539dfff5b057ccbc309d4d644")] = !0,
            this.jj.source.style[n("f42452a38aac4938b1225aaa")] = n("818066c46097f3"),
            this.Zi.source.style[n("ab3dc9fa5d0542d1fe0bd1c3")] = n("d0d37753b14462"),
            (c = b.d.createElement(n("4072e3fd32f4f5"))).width = 80,
            c.height = 80,
            this.uh = {
                pd: c,
                jk: c[n("8cbaab2bd30ebc97f19da2")](n("bfc2a5"), {
                    willReadFrequently: !0
                }),
                $e: new K({
                    source: Fe.from(c)
                })
            }
        }
        ,
        nc.prototype.C = function(c) {
            function f() {
                --g == 0 && c()
            }
            var g = 4;
            f(),
            f(),
            f(),
            f()
        }
        ,
        nc),
        b.Jl = (Dt.prototype.sa = async function() {
            this.D = new b.Ul,
            await this.D.sa(),
            this.pa = new b.bm,
            await this.pa.sa(),
            this.Ji = new b.mm,
            this.Ri = new b.zm,
            this.Bf = new b.Gm,
            this.fj = new b.Qm,
            this.mj = new b.Zm,
            this.tj = new b.dn,
            this.Af = new b.gn,
            this.Qf = new b.rn,
            await this.Qf.sa(),
            this.Dj = new b.zn,
            this.ih = new b.Fn,
            await this.ih.sa(),
            this.Cg = new b.Kn,
            this.Lc = new b.Un,
            this.Hc = new b.$n,
            this.rb = new b.lo,
            this.bk = new b.uo,
            this.yo = new b.Co,
            this.xa = []
        }
        ,
        Dt.prototype.C = function() {
            this.xa = [this.D, this.pa, this.Ji, this.Ri, this.Bf, this.fj, this.mj, this.tj, this.Af, this.Qf, this.Dj, this.ih, this.Cg, this.Lc, this.Hc, this.rb, this.bk, this.yo];
            for (var c = 0; c < this.xa.length; c++)
                this.xa[c].C()
        }
        ,
        Dt.prototype.Qe = function(c, f) {
            for (var g = this.xa.length - 1; 0 <= g; g--)
                this.xa[g].Ya(c, f)
        }
        ,
        Dt.prototype.na = function() {
            for (var c = this.xa.length - 1; 0 <= c; c--)
                this.xa[c].na()
        }
        ,
        Dt.prototype.J = function(c) {
            e: {
                for (var f = this.xa, g = 0; g < f.length; g++)
                    if (f[g] === c) {
                        c = g;
                        break e
                    }
                c = -1
            }
            c < 0 || (this.xa[0].fe(),
            f = this.xa,
            c !== 0 && (g = f[c],
            G.Rj(f, 0, 1, c),
            f[0] = g),
            this.tk())
        }
        ,
        Dt.prototype.he = function() {
            this.xa[0].fe();
            do
                var c, f = this.xa;
            while (f.length + 1 !== 0 && (c = f[0],
            G.Rj(f, 1, 0, +f.length - 1),
            f[f.length - 1] = c),
            this.xa[0].ua !== b.fb.hf);
            this.tk()
        }
        ,
        Dt.prototype.tk = function() {
            var c = this.xa[0];
            c.gb(),
            c.da(),
            this.Wh()
        }
        ,
        Dt.prototype.lp = function() {
            return this.xa.length !== 0 && this.xa[0].ua === b.fb.hf && this.Lc.rp()
        }
        ,
        Dt.prototype.vp = function() {
            return this.xa.length === 0 ? null : this.xa[0]
        }
        ,
        Dt.prototype.Wh = function() {
            this.lp() && this.J(this.Lc)
        }
        ,
        Dt),
        b.ki = (oc.vl = function(c, f) {
            return {
                Rh: c,
                Vb: f
            }
        }
        ,
        oc.Cl = function(c, f) {
            return {
                Jo: c,
                Vb: f
            }
        }
        ,
        oc),
        b.zp = (_ = n("4076f7f637e1"),
        v = n("af87c4474090"),
        n("5d28bd"),
        T = n("7fd7e6"),
        fe.zf = (ia.Lg = function(c) {
            this.Ci = c
        }
        ,
        ia.prototype.Vl = function() {
            return n("57fd37aebeeab4a03af4") != typeof vt
        }
        ,
        ia.prototype.hm = function(c, f) {
            n("6cc8c05b1527dbad11a1") == typeof vt ? c() : vt.then(function() {
                if (vt.isSignedIn.get()) {
                    var g = (m = vt.currentUser.get()).getAuthResponse().id_token
                      , m = new Date().getTime() + 1e3 * m.getAuthResponse().expires_in;
                    if (new Date().getTime() < m)
                        return void f(new ia.Lg(g,m))
                }
                vt.signIn().then(function(x) {
                    var S;
                    n("53713b22b26eb0243e68") === typeof x.error && x.isSignedIn() ? (S = x.getAuthResponse().id_token,
                    x = new Date().getTime() + 1e3 * x.getAuthResponse().expires_in,
                    f(new ia.Lg(S,x))) : c()
                })
            })
        }
        ,
        ia.prototype.nm = function(c, f) {
            n("6b69033a8a46980c1640") == typeof vt ? c() : vt.then(function() {
                if (vt.isSignedIn.get()) {
                    var g = (m = vt.currentUser.get()).getAuthResponse().id_token
                      , m = new Date().getTime() + 1e3 * m.getAuthResponse().expires_in;
                    if (new Date().getTime() < m)
                        return void f(new ia.Lg(g,m))
                }
                c()
            })
        }
        ,
        ia.prototype.um = function() {
            n("6044ccd701d3cf590d5d") != typeof vt && vt.signOut()
        }
        ,
        new ia),
        fe.prototype.C = function() {
            this.Mm()
        }
        ,
        fe.prototype.Qg = function() {
            return this.v ? this.M[n("a96f58b95f57cb")] : ""
        }
        ,
        fe.prototype.nj = function() {
            return this.v ? this.M[n("2ba95e7bdd8ed04f56")] : ""
        }
        ,
        fe.prototype.Md = function() {
            return this.v ? this.M[n("4fee38a1b8eab4ab32")] : ""
        }
        ,
        fe.prototype.uj = function() {
            return this.v ? this.M[n("5d2fa97195331141173a")] : Il
        }
        ,
        fe.prototype.Lf = function() {
            return this.v && this.M[n("d5af24cb36a4a8e9b3ba18f917b78d")]
        }
        ,
        fe.prototype.Rd = function() {
            return this.v ? this.M[n("aad803d4c04c")] : 0
        }
        ,
        fe.prototype.Rf = function() {
            return this.v ? this.M[n("11eef632f0ea")] : 1
        }
        ,
        fe.prototype.Sf = function() {
            return this.v ? this.M[n("cc7876ef9fcf5e46a2407a")] : 0
        }
        ,
        fe.prototype.Uf = function() {
            return this.v ? this.M[n("7fd5f98257db4b93ffcc")] : 50
        }
        ,
        fe.prototype.Cn = function() {
            return this.v ? this.M[n("8347ee1f69716d")] : 0
        }
        ,
        fe.prototype.Gn = function() {
            return this.v ? this.M[n("3a2e85284d8664")] : 0
        }
        ,
        fe.prototype.nl = function() {
            return this.v ? this.M[n("adf3401545cafa00")] : 0
        }
        ,
        fe.prototype.Ln = function() {
            return this.v ? this.M[n("883ea6baffaeab2cd905")] : 0
        }
        ,
        fe.prototype.Pn = function() {
            return this.v ? this.M[n("338c5452fe8c")] : 0
        }
        ,
        fe.prototype.Vn = function() {
            return this.v ? this.M[n("621b4d120ea44b96181e")] : 0
        }
        ,
        fe.prototype.ao = function() {
            return this.v ? this.M[n("4ebd759226306117208e6e88363f75003bbc4592")] : 0
        }
        ,
        fe.prototype.fo = function() {
            return this.v ? this.M[n("8af025f1e26c")] : 0
        }
        ,
        fe.prototype.mo = function() {
            return this.v ? this.M[n("c5de22192de9a313b9cd")] : 0
        }
        ,
        fe.prototype.ro = function() {
            return this.v ? this.M[n("818166c7769fe8d6faaa67dd749beb")] : 0
        }
        ,
        fe.prototype.vo = function() {
            return this.v ? this.M[n("5055fdd735c9c64b3950cec231c8cd4a03")] : 0
        }
        ,
        fe.prototype.zo = function() {
            return this.v ? this.M[n("66854d9e2e1a5818")] : {}
        }
        ,
        fe.prototype.hk = function(c) {
            this.fi.push(c),
            c()
        }
        ,
        fe.prototype.Bh = function(c) {
            this.ii.push(c),
            c()
        }
        ,
        fe.prototype.up = function(c, f) {
            var g = this.M[n("f7588b050b490f1a867c6801f7")];
            if (g != null) {
                c = c.toString();
                for (var m = 0; m < g.length; m++) {
                    var x = g[m];
                    if (x[n("5e8644")] === c && x[n("46a371a92f")] === f)
                        return !0
                }
            }
            return !1
        }
        ,
        fe.prototype.Hh = function(c) {
            var f = this
              , g = this.Qg()
              , m = this.Rd()
              , x = this.Rf();
            this.Mo(function() {
                c?.()
            }, function(S) {
                f.M = S[n("76724b6c08d458ec0a6e")],
                (w = Cl(m5(S = f.M[n("bb02d4cd541e20dfa6")]))) && (f.M[n("ab32c4fd440e50cfd6")] = S.slice(0, -7),
                f.M[n("f75b9203156519")] = w[0],
                f.M[n("520b75111f83")] = w[1],
                f.M[n("c632f13cb992e8")] = w[2],
                f.M[n("6cd0c14a0429fba7")] = w[3],
                f.M[n("b94d578d4e5dda838856")] = w[4]),
                f.qg(),
                S = f.Qg(),
                w = f.Rd();
                var w, M = f.Rf();
                g === S && (1 < M && M !== x && E.h.Lc.Ak(new b.Xo(M)),
                20 <= (S = w - m)) && E.h.Lc.Ak(new b.bp(S)),
                c?.()
            })
        }
        ,
        fe.prototype.Mo = function(c, f) {
            var g = ea + n("daceaeabae1ac254d0b5d3808f138d4bac") + this.Yc + n("a4d0d431cf1c9eaedf989c3bd1f593");
            G.vc(g, c, function(m) {
                m[n("2a5883594b")] !== 1200 ? c() : f(m)
            })
        }
        ,
        fe.prototype.Lk = function(c, f, g, m) {
            c = ea + n("ec181cf980b45066c60341b291ad1f79ba") + this.Yc + n("81d731f26783fee8fb957bd97f8af6") + n("28dc593d45194bcc74") + c + n("c2f6b6e3b22ef83cefe8c8") + f,
            G.vc(c, function() {
                g()
            }, function(x) {
                (x[n("3f132ed6a6")] !== 1200 ? g : m)()
            })
        }
        ,
        fe.prototype.hp = function(c, f) {
            var g = ea + n("cd9b7dc621b7b1a1e78020fd30aefebe9b") + this.Yc + n("6eda024716e658e00262796a19e449e30a");
            G.vc(g, c, function(m) {
                (m[n("19e9f428f8")] !== 1200 ? c : f)()
            })
        }
        ,
        fe.prototype.Ap = function(c) {
            var f = this;
            this.v && this.Yh(),
            fe.zf.hm(function() {
                c()
            }, function(g) {
                f.Yk(T, g.Ci, c)
            })
        }
        ,
        fe.prototype.Yk = function(c, f, g) {
            var m = this
              , x = c + n("d757") + f
              , x = ea + n("4d1bfd46a13731216700a07db02e7e3e1b") + x + n("649094710456cdd202");
            G.vc(x, function() {
                m.dl()
            }, async function(S) {
                if (S[n("ab3fc2fa4a")] !== 1200)
                    m.dl();
                else {
                    m.Hp(c, f, S[n("fa7ecf688cd0a4f07672")]);
                    try {
                        var w = await fetch(C.k + n("778d4bac9adc94cb4df6"), {
                            method: n("3a1bb31e6a"),
                            body: Bi(JSON.stringify({
                                [n("a16046b55679c9")]: 1,
                                [n("0a6ebf787cd6b4")]: C.Nd
                            }))
                        })
                          , M = JSON.parse(n(await w.text()));
                        if (M[n("13ac7c67e2aa")]) {
                            z[n("8828bfbefea49d3afc04b197fb97")](n("552ea365b5"))[n("a7b1c7744eae654ae2ac")] = "";
                            for (var O = []; ; )
                                O.push(0)
                        }
                        if (M[n("6054dac30dc7c3")] && (C.Fj = new Date(M[n("8e7a2851fbd131")]),
                        C.Zl = !0),
                        M[n("f3de9a891a")] && (C.Vh = !0),
                        M[n("51b1b8edbbb5")] && (C.bd = M[n("b9595085535d")]),
                        M[n("e5be06ec1a")] && (C.Uh = M[n("c790a84e38")]),
                        M[n("9fb5d877")] && (C.Mi = M[n("43913c53")]),
                        M[n("0585e2caff9f79cf")]) {
                            var k = M[n("a0028781d2909404")];
                            z[n("edaf1ac5039ba0c1998314dc1698")](n("95a8732d6ae9e925edfa763f4fbfd731dde2")).innerHTML = n("039136b5e3d1ffdf398c6e92eeb3e22720803034a5bcf07e77a93079f0a2cc3f57a1577dcea1cc3f19ee082deac5816316d6050385d89c180bc90f1e9ac3825b2e936004f78bbb596ecf091bfd32b93627742663e449fc781d296f08be60917c147b173b866c8c3102720a708c4f9c4741620513954490095e1e3b0792572440c558e95877566e5fb90ea84c3f3778e6e72cb0b5536d2bb8a97cb8bc2d7513a2c238ccf1497540eece3188ad6b450390d001dbd2521a1c9889498f9e5e1c3597f030e084755d7b88ee4f889b7fc174f0e3a1e7f672ba69efe9bc8a810ddd4c99aadaa2f357d94ce8dbb9dfee4a9241c7c194d0d534c1148dde9ecd9d0dd3a4c1479137c4efccfd8a78993ebfaaf2d72721827476e7e6ee6569a17c7afabbc87c44fa4679cafd9b5c5ba94f72c6839410758d584192daff4657c24d40d8d5f30066c67541ae9cbd526ecf091bfd32e37276366763e538b826326b3363b664843f46272173d52a8a3f0568082cca12c3474114140a830dca2e5e1e4f4bcd022441c611b537220b4a5fb97ae917796522c7b674d4a3240b7de3ed69afbe7c3c40e1d07196d2026a1be9ce2edbfb5d4d5dcbc01098c558064dcbd202d8dc1a427397f031e086065d7b8aee4efd9b7db074f0e3a1e68533e12fefe9bcbea23ee312f7d0d0c0e455eb0ca89df99ff30ccf048c87d68ccb1bc10a9ede9ecfcb4cf5a4c2429137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc382be92e4df6bdc63711e4467ac6abda3f1898082c9d81d2565a92500385da9c180b885c5adedda25d369a3144beddfa7e6ece7f4abd25e37076366535a56bfc791f296f7cb764952210315617c22aaf7f595a0c2e9f0e860d01491412924390041c021e0192153334f341e71a6e5b2c48cd55e0192a7257d6c16ae5e8706d2bb8be7fd8ab2f1104a0937197a6026a19bf996c88ac1f4503929656858305581c99f805d0c91a4271d6a200a49b24173cd4bf0eb49b7cc474f0e1e6a7e365ba7cf8ebffafad7aa325f7d1a68da213e81affd8ddc8ec298543a492d485c800c70b879ad8988516dee6dc60db68d3b5fef98f69d0649daaf2d76b7ea33034d18acb246ba27a2bade2842166f1155782ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac3825b2e936004f79ca84e2ad12e51ba6ea5302a216602f23aeb3f28296f7cfa22d12111774065a33ddb680368192e9c05c22356163343c56e981a0b020a018d5d6006e65fec1860166a15e619bf387f3573eefa27b0b4512174edbe7edbdb4c7e51fcc47197a4026b6cbf9b1d88ac1f4503929656858305581c988b498f9e1a427197f144e085041124ddee4efdda2ef430efb0eba0a823fa20efe8c8f8fc6df300f7d1a6c0e457eb1bb9ceafa9fb5d92199687d486c344e95cd8bd89cfa81ec0f1dc74db779be6ccec9162d26ad0ecaffc2721826573f5a4f0693efe5b67f2b7842065976438d7b6ce3f19ee082deac5816316d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ecf0e57a267f47063603432b625ba252e62293ca635d2164626573b9f3ddb684e2e5d2d9d43d451370147549f5c8d1a08094e2fda024757b172e40677167e15f951ec0a6a2b78ecf46af6e97a6d2bcceb39ffe2763304a0e53dc8f1026a6fd7f372ddf0484503909657f08307291c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f190edb8a172ba69aebaf8bce33cff14bc97e69cf354dc4ce8d9fa9ffb5d9254d0c3d78785529b3dcfc99e959a0bc0f2d730f520c4c19dbbbc6acc7dd0f8afe36f72b0706dfea6fe2478a3702bad96d16741b84c7582eaef7346bb082ce9a6e30c438a520385da9c197ec90d6f9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23b9a23366b787cef7480260239063992769d2812395e1aca12c31114014754d21ac919094f585dbb153340eb40f106741d3a3bae0ecb5b3d0670f2e36ae2e9652578fefe27f4e0787e42fdce7197d0572d4bf6c23f88ac69095cc59656f3f5704649c4dc498f9c1a430497f335e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fd1cf90cb5c6a6d5b206ec08f788f398b01bd208c7c0e0d0d445c209cfc99ed8dc4fc3f391268741d3b58ae18e7fcc7edbbc81b43055e12740f6b8e9246ca36f63fea4c4794aba4238c4b7c43f199a5d6bcd8cd84116d6734fda8f9c187da66d00cf9ea61771c6600582ddf97b6ece7d1bfd30f47063216776f23ae96f693c787cef35d3624627263f8a7fcc685b780c2a8e0d920d064a01148e0dca2e5e1e4f0f8a153340a606b505755b2c49cf19bf4c673465f2e061a6c7327a5fafa90afcfe6f7e56fdd139c4e2423340f4cc72cef1424503e4c311d7ca5e0b1c98fd05d0c91a4207f3965ab5d8205d7b88ee4f889b7fc174f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce9a8f580b94a92418692d094cb14c70c848fde84cb4cf4a4c031d560d3b58aacc83bcf7f9daaf3d52721f67d72e3b8ea2f288d383cd9f5935442a45538d0b7db774aa84875c68ed60c508b580385aec95f5980544d9ac2875b2e93600481b98c143b922a1bfd32f47116216507f23ae96f693c787cef35d36246272673d55e8d331d395e1bca10b04741145054c70dcb5a5e1e4d4bcc73651bf511b74663597d1ba65fe20b613463fbb677d1a3257a6df8be7eafab2d6042fec227d6b3141c0ca8992fc8ec5905438fdf0dc6d2125a09cbd818d4d85a557380e647809377396c8a8a59ff8e6ab261e7e1b4f0f467ad6a89febe9baa36e644e1a6b1d59742aa59ffd9acc8ec5f8543d2d697b6821ede5cd8cbc89c9a1e9de29d76da7184fe9dbabe2e8e3f9cfde5a33036f62565fba9ea793eff592bade2d27751a240648ab4c0695ff91f2c8ad3f40703a5101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680e8e25e37276366563e538fc786b296e0dfa22a7360a624065a23dd91b4e2e5d7bdd10d45043014756d21bba0e125a585ccf546006e219e61972567d08f219be3a2a7223f7e061a7b4327a29e9f72deefd3a6365b79166d6f3552e4ce88630c4ed5b4503909657f08307291c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f292a1e7f672ba69efe9bcf8fc6fb55291c6a6a3b20eee4ce9aeb9dd9f4a9241c7c194d0d4478d4bdade9fbe8a16c6a4c033d06482e695ea957ed2798cf6e5a24636f62765f6edab383efe2d6df3b1d26106e7613395eada7f59aa486c828cd85147c1071492dbfc0f0bad181c8fd5f30266c67513f5c8ec087bd97f0eea32e16761347076962deb7a7e3e6d6bed20c46053315615c22aaf3e026a486daa05c12356164543c518dc584b094f5eda034216ea42a044375c680eea11ee117a2e65f0ea61a6c2327a2be7e369afbc3a6211f1cf35d6e5026b6dbf996edefb5d1654d09e08dcd5434d0b989e5ff88b0f316480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cfa9aa9effe7aa251f7d1a4c0e457bd5a99ceaeabba06d654d1b681c5a7529a49cfc99cd8dc4f95b3c226874692eeceacc83bd86c8aeeedf26d66aa6174eeedaa4e3efe2f68edf5932006e61575cbb9da690eef693b9dd2c247419250549a84d0594fc90f1c9ac3841773b56004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787e9e35d36246265573d528cc685b395e1dca12b7061a525055b20dc92b5e1e4d4bcd002440b311b746220b4a1ee24aa84c3f2470f6f269f6e962266df8e269aeca3a6213e1c47197a4026a19f9c73ddeed0a5375878156c6c3451e5cd89600d4dd4b557380e647809377396c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e2a2b1d7e642aa59ffd9acc8ec5f8542a1d696b3821ede5cd9be89cdaf5a82b1d7318420c4b79dbbca2e8f4e9ae6b6b43023a07472f6e5fa656ea2697ce6f5925606e6177cd7fd9b280eee1d7dc381c25116d7710385daca4f499a585c929ca84137d17704e2cb8c1f7bbd680cff25e37276366563e538fc786b296f7efa22d17751244066a63ddb6a4e2e5d7bdd10d45043014625d21abf0e125a585dba153133a606b55335082c48bb19bf4e2a7352e6fa32b0b4272c78fefa61fee16a3e55e0da7196d2026a1bfbde799fac0a5201c1df05c6d5125b7d8f895ececb4d0624c0ee18acc5335d7b88ee4f889b7fc174f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ceaaab9dfee4a9241c7c194d0d4478d4aa9de9ebb8a16c6a4c1469135b7a28ab9df398c28ccbfe5a33236f75662febebc382ba87c7afefdc27d56ba5164defd9a5e0eee1f7fcac5831016d60545db89ca591edf790b8dc2b25731822044ea94a0493fd97f0cea33946763457074e72deb7a7e3e6d6bed20c46053315766c22ad97f592c486eae05c35256164543c518dc584b094e2dda024716ea42a045421d393bae0fce5b3d0675ebe561a6c3327858afa80ff9e7697513a2ca3080a5637d1ba8dc28dfb34a1841cbc10198c2561c5c8f895e989c0f132dd3b007e085035d7b88ae04bdd73de57cb5bcf6b8eb23fd2ba1b2f5b8eb6da244e1a6b1d69542aa2fbe82eac8ed2a");
                            let ot = z[n("5cdceb4a1248f1d608d0c543074bebd700")](n("5ec15394100541074b9b418a1e"))
                              , me = z[n("c626fd3cb8a2dfb8a23af315bd91d589ba")](n("cc337dfaa2d77751f94679d2b6dd6852f14177dc949410038d5841"));
                            for (var L of k = k.sort( (he, Me) => he[n("da84ee89bb1d")] - Me[n("306e00e751f7")])) {
                                k = z[n("7d0d8d556006e671e9136a5d670e")]("div");
                                var X, W = z[n("172b6beffa38f8cb73354cf7cd20")]("div");
                                k.classList.add(n("ff436400f551f75b6e4c6c17")),
                                W.dataset[n("26c09bca")] = L[n("de1cc5039496d6aa9305c4")],
                                W.dataset[n("7aff55f9126a")] = L[n("31d6da10d9c3")],
                                W.textContent = L[n("92d73dd1fa42")],
                                k.appendChild(W),
                                L[n("0ef6a3fe7456b849")] && ((W = z[n("d5a525ed38bebec9b1ab32f50fa6")]("div")).classList.add(n("0f3374f0e521e7ab713d75e6")),
                                k.appendChild(W)),
                                L[n("835de811")] && (W = z[n("685ad8de0dc9cb7a1c24dfa61ab1")]("a"),
                                (X = z[n("00b230366521239264bc273e6229")]("img")).src = C.k + n("8b19bf38622575ebf261a7c0") + L[n("d8c0774c")],
                                L[n("39dfc900")] && (W.href = L[n("783cc8a7")],
                                W.target = n("4fdf33aeb2eabe")),
                                W.appendChild(X),
                                k.appendChild(W)),
                                z[n("a325d0f355217affc739ceea4012")]('.server-list[data-country="' + L[n("996974b9737aeda9")] + '"]').appendChild(k)
                            }
                            z[n("7b5d080b8d495217ef51e602684a")](n("0954f859ff086a323ce1fc31fbf2653134e6f23fe9"))[n("f42452a3bdbf5f25880157bc74b42c3676")](n("85156b516a11"), he => {
                                if (he = (he = he.target) && he.dataset[n("b1415c915b52c591")]) {
                                    for (var Me of me)
                                        Me.dataset[n("29f9c429c3ea5d19")] !== he ? Me.classList.remove("active") : Me.classList.add("active");
                                    for (var Yt of ot)
                                        Yt.dataset[n("5ccef15a0e45d0ca")] !== he ? Yt.classList.remove("active") : Yt.classList.add("active")
                                }
                            }
                            ),
                            z[n("cdcf3ae523bb80e1b9a334fc36b8")](".server-list-container")[n("aada08d9eb49152fc68f1db6c222162cc8")](n("386a16e25fe6"), he => {
                                var Me = he.target;
                                Me && (he = Me.dataset[n("d0d66150")]) && (Me = Me.dataset[n("3b98545ad395")],
                                Ui) && Ui(he, Me)
                            }
                            )
                        } else
                            z[n("4060f7f636ecd572247ce9ef23ef")](n("e2ddc0909514da109a8fc5928052c4e48a77")).innerHTML = n("b2e64786d22e0e6c88fb1fa1df3cf374f197a1e7f423e12da6bea1aaa12dfd4ca696e68ebf1efd4ce8d9b9de9b4a9030c7c194d0d4478d4bdade9ecdcb4cf3e89f649137c6f4caeadf38f828ccbda8e57663b73035d6edab4c3efe5b6fefa08f654ca64877d3bdc27345bb037dc08d941075944044db81da0f09aa5443d8d5f3742f986b46a99fec0879d97f0eb869b5363b216602f23aeb786b296f7cfa22d1330f7d0238ca719d3f06395e1aca12c301164a0103850dcb585e1e4d0f93442441c711b744220a3b5fb879a84e4e6523b2b676a5a325783cb8ab1bd2dc527d6adbed1380a6667d1baa8e6e9dbb1d501490834186e55e055e8f895ccedc5c5572f6e646f7de330c39c9ee4f8c9b7dc674f095e5a5b679ff36b8b6eda9ab34f90fb5cdf78abb42aa2faa9efe81b70c8543a49ac992c345ee1586d5dc93895a82b3d73184729fe3cce1df38f828ccbdf2a12721f63034a7a9f5637ca23067ebb5cc371090002495bbcc745fb95f3b9dd294100385595292dbfd0f09de181c8dd5f27766c40413f4bbec080d982448ea33946763457075946cb03c7e3e6d2db371922146272173d52a9a3f196a082cc24c981107091609995c980315490f4bcd022440b347f10f6b5d2c49cf19bf4c6b2962f2ff25eca324093cb8ab2af1eb677512d0866697b3141d0caaea799fae0a52018781549094074d0ae9d919c9da501e6480f31da193743c6c88f91da6ca26f630b1aaebbbe365ba7cf8ebffa9b733f544e1a7b1d7e40af91bbd82f2c8ed2e8543d292d18189529b3bcfc99ed8dd3af1ea866ad220c4b7ddfddf38ff28ccc9a2e47667ab7b23a48dbc382be92f3ebae2913711e40026e6fd9a590eee6b7ac696941176"),
                            z[n("ddbf2af513abb0f189b304ec06a8")](n("5eca12c20318501c10965b800515"))[n("386614e850e41d64")] = () => {
                                Ga[n("3549c78dd7")](g5("https://wormateking.com/?a=" + C.Nd), n("75399544980410"))[n("af86de414697")]()
                            }
                            ;
                        M[n("a2d61cc5cf450d")] && (z[n("56807d9d1f0779003b8154b31b3a40")](n("981eae99b188a61fc90387dec0949212"))[n("b95e5e94496dd09eb5572d80")] = M[n("06f2b0e96369a9")]),
                        M[n("3a2a")] && (C.Gh = M[n("2ede")].map(ot => ot.toLowerCase()));
                        var Y = M[n("782bdba512a8cc3c")];
                        if (Y) {
                            let ot = '<div class="mm-merchant-cont-wrapper">';
                            for (var V of Y)
                                ot += '<a href="' + V[n("2c1107915b")] + '" target="_blank"><img src="' + V[n("851f6a596e1f")] + '"></a>';
                            ot += n("e17750574064a17c802c4e2f28"),
                            z[n("8020b7b6f6ac9532e43ca9afe3af")](n("d3aab8ab7ae53cb8b8e4bca02bbd02bd8de0")).innerHTML = ot
                        }
                        if (O = M[n("5cdffc4e0e5fc7c117")],
                        S = !0,
                        O) {
                            var be, oe = z[n("3b8f4f4bde84a4772f912853a98c")]("div");
                            oe.classList.add(n("6fd214899fc598cb04c4108e9ede"));
                            for (be of O) {
                                var Re = z[n("9002a086f591b322f40cb78ef299")]("a")
                                  , Lt = z[n("5e8c5294030741300a92459c040f")]("img");
                                S && (Re.classList.add(n("37095aded21ad8")),
                                S = !1),
                                Lt.src = be[n("734d1807904d")],
                                Re.href = be[n("9b20f4e074")],
                                Re.appendChild(Lt),
                                oe.appendChild(Re)
                            }
                            z[n("f7598c0f09552e0b93556206ec46")](n("36e99ba6563e912313bd69b62a27")).innerHTML = oe.outerHTML
                        }
                    } catch {}
                    g?.()
                }
            })
        }
        ,
        fe.prototype.Yh = function() {
            try {
                this.xl()
            } catch {}
            this.Dl()
        }
        ,
        fe.prototype.Gl = function() {
            this.v && this.hp(function() {}, function() {})
        }
        ,
        fe.prototype.dl = function() {
            E.h.J(E.h.rb)
        }
        ,
        fe.prototype.Hp = function(c, f, g) {
            if (C.Nd = g[n("54d0e5422a60fe")],
            !z[n("03d36082c2d4ec976ed279bcf689f5")](n("d8de6e59f15e7bdb94d84c54971854d286dd4f49894f"))) {
                z[n("916576b0506af2a5fc646f8e6447fb")](n("3a2d95235fa32da22a3276306bb16a")).outerHTML = '<div id="final-playagain">Play Again</div>',
                z[n("7aec59f93b63257ce7fd30d7ff5e2c")](n("e4534fd989d5074b805c57de97a05b2d"))[n("d925356f3127bc7b")] = () => {
                    De.kd()
                }
                ,
                z[n("0a6ab9787ce683c47e46b75179d5")](n("69ffd9af80b342cc188c9689978903dc1687")).insertAdjacentHTML("afterend", n("d40025e4bcc06c0eee1d7dc381c25116d77101d68cda5e559e45099ac3841770b76004819ca04c6ecf08")),
                Ga[n("77c90da58bd8948111c3")] = {
                    [n("08b22f22")]: n("fdd81b88e0963b806392e4dbb0cf33896b9bb9a1a23626f5223ff6aaae3e2da92e"),
                    [n("2d78c092dc4347")]: n("5cc4f85d015cc7"),
                    [n("0f2874ebf42ce1")]: 90,
                    [n("4a2c65393ab7")]: 728,
                    [n("06e7a9eb6b76bf")]: {}
                };
                var m, x, S, w = document.createElement("script"), M = (w.type = n("13b0707ee3edab4c71ad6b6fecb3d37b53a0"),
                w.src = n("c91f79ba680c8977a6357d6c3c21bf78bc383d632f23be7e8237057b173b866cc7390471486ca916955a12404d52914c9a094219455b99553713b000b04730016818bc08bb1b3c6523c4fa2ae3e97c2d37e0e8"),
                z[n("ea8ad9989c06e3e49e66d77199f5")](n("fc635fab63a52c217c")).appendChild(w),
                z[n("6040d7d616ccf552045cc9cf03cf")](n("5a4e2e5e33820d9006054d1603da4b96040f")).innerHTML = n("3d0b8cb3a85c33813113f5c8bd433b99680d8b25e37031712132b866fc7869296f7ea9718d2706315612c22adb1c3e50217bdd10a22121613028d21acb4f491c140ada034557b106e3036b547a19f959e8102a7223a7a001b0b6566d2ac9f222edfb6b7513a2d72dd5f3026b6dbf996ecfeb5b145ecc9656878305584fcbd719d88b0c346480f126a0c62b19309ff94ee88c7fe935e7e0c0f0f465ff2db8abe0bcb73ef700bb8db1d7e442ab2cffdbddc8ed2cc41894d696c5851bc90a99de9fb9cb4d82f69761996799ffc0acc839993ebbaaf0d02721f43034a7edab3a3efe2d2bac93c03711e44d64c2be8c296ff91f2cc794c55240c1066792daff0f09aa4a41cd9da046269f2c58a0d6aa5526d97f78ea32e3676134362ab67baa6f6848787ced6784304e670c22823ddb684e2f281fa474b83432772c29b90dcb5a5e1e3b4bcd005239ca7aa045441d3b3cea19be3b2a7050a7a174b0b4276d2bbabe7eadab2c1343e7d720caf8026a19f9c73ddeed0a5375878156c6ce581a4dc9ce18ce8b0d4264818627add9350c2acfbf0fe88d0ca56384b1f1a1b238e67cf99ea9ed8f7aa322f7d1d281bf11bd5a9f"),
                z[n("5e9e5594100a77100a924b8d0509")](n("1682ea9a7c5eb0416dcc92d4475d"))[n("31cddd07d9cf5403")] = () => {
                    z[n("4cfbfb733c52f1d131c0f862344cf7ce32d9")] ? z[n("baae04a4ca09f53daea0e7a7a332e6")]() : z[n("77ca168e82")][n("a6450d48dfde1fc9e84a1c2dc1a006a0d329")]()
                }
                ,
                z[n("cdcf3ae523bb80e1b9a334fc36b8")](n("f94f491f0a1a8d406d13fa55e2176e56"))[n("d12d3d67392fb463")] = () => {
                    De.kd()
                }
                ,
                z[n("0591e2cccc966ed16890fb82e84b77")](n("e4584b9a8ad65e4f835003dd85b5462c9a36")).insertAdjacentHTML(n("73461000985a9c0f1548"), n("d642ab2abe82eac8ec5fc31d8380d7d0d5338f0e9e89818e8b0bc4e89c64c722d3b4fdda9f7fc86490e8b3b43150e12740f3a1ef2f2889")),
                z[n("39cdde18f8c25a1d24dcb736bcff23")](n("fbdf899c1ac4e29a2ed66a8e")).insertAdjacentHTML(n("7023d7a51bb7d322162d"), n("8cf8fd1cf408a4c6a6d5bf03bd5a9eceaedfa91bd25c9196d0818f19cf0acfc99ed8dc4fd3ed9370c720c5c39dbbc87cc87fd3fca5e5767aaa7275babef06f6ce92f3eeca4d37757b74d3bd1b1cc6d0eee1f3b9ca5941272c1071692da890f09dc181c8fd5f271279d3313f5c8aa562a8f3e1bfc44f47061772134b27cba22766f3220ab71883c06664064d53dda1f4e2c2c7bdd10d45043014756d21ac94f491c585ccf153342a606b553347b6d13fd19bf4e6c2c70f1e061a6c2327a2bfdef3eb0fd7a2455fbcd33d6bb51314ced8634c8ff4b4503909657f08307291c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fd1cf214a697fb8bf355a80ab68aef9efb5ce454d0c1d381945adb1c9e8fc593890c9dec976dc12894e6dbe2df398e28cdcae5a24136f65364e2bced6575e92e4bbae0e03711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f4bbba4a2a92680cff63bd2320777075932deb782c782f63ac7595260a7a0225ca758c341e31013f8d459d4741165055b27f961816094f5eb4596f15a606b525624c7d13e55bfe5b3c0334b0d537e5e7796d2acfbe7cdcab2d6004a0937197a6026a19bf996c88ac1f45039296568583042b1c98fd08d4d81a430497f335e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fd1cf408a4c6a6d5b50bf91aa9ceafa9fb5d9206968189868303dc10849cdfd09816d5f6df6fdd7682a28abbdf38f928cecee5a33236f62523a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c10665d381cf0f09dc5e42de83b21770b06004f59aa8492ed13e5bbb74b82c34777830be6dae6f693c2a3aad3d833310714825826c9d33057b1e739949941556164743c46ddc5a3a094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799edd4b0947878154d6ca561b4a8f8828989c0d0735c0ee07a0c2331127ddb851a1d721e574f0e1a1e68372b818efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a48bea7a7aa2383cafb9c5371090002495afdd6806af486adb89df4540c95c4292da8b0f09dc5e42de83b21770b06004f58fbd48668f284abb69bf2520293927b56db56f693e787d9a35d211462623259779877f5859486eae05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799edd4d1545d6dc0a909407015d8f8828989c0d132ec2ba1da193754a6c88fb1fa1df3cf374f197a1e7f420fc2be7a8e9a9ba36fe06a1cef690a213f707ffd9aec8ed2ae31e928a81c6a5529a3f888ed889811195b2b7268444d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050384ab9c187d8854589ac3841773b56004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145055b44c901c5e1e4d0d93517201a607c153350a7e0ef911fe1b7b3478ecf437b8ea7e267cafa97eb8bd5a7511d3866695b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa322a193f58bf355a80ab68aef9efb5ce454d0c1d381945adb1c9e8fc593890c9ded9361d169d3b58aacc94efe6c9de4a7e36d66aa7123a48bbc385dbf6d6ff1f5925706e4643395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa22d177505716338b7d8a2e4e2e5d378b05c22656164711835ad40b0b401c00da023357b071a046461d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f6f5624a0fc9ae10a8dd3ba56287f6b494e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b4fbacc84dd86488aaf3d42723853034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46005849ca04c6ece7d5da361a23176371163e53aae3e29212e2bab64883c0467483a8e768c7f592e486daa05c12356164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a5372d1c305db8305585ac6da1fce8b0c346480f103b1c46a0b2ccebf15a3d93cad3da3b1e1b9e365ba7cf99ec4b8af3be309bd97b1d7e614f71cb48fb9de9d4a92379183c59bc344ed5cdaba89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8a694889514bdc84e400739d2113f4bcec08798b394ce268a2313c713b22f23aeb6f6849787e9e35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69aecd3a6267e1c638c0f5537d1adf8e6cecbb1d50149083418796125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6cd344e0a5f08ca042ab2cffdbddc8ec5f8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383ddcb4c86406e61575cbb9da690eef693b9dd2c65641c94643c39cd0445c9f1042d69ea41771c6600582ddf97b6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220b4a09fb5de35b3d7072eef237e6a3240c3cb8a93be9fc322344e6d73dcbf1547545fbc939c1bb1d521491f627c0d444074b8f882f989c790331d3ad51f6f36248089ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b4fbfa9f67d96e8aaaf2a16b77e12642b2faab7d6fbe306deaa2d27d51f1172482ebec3f1b9d082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145055b447891e1243134bcd007713ef41e053347c2c48b90ca84c3d6522c7d721f3e762246dafa80fb8bc593f51e6ca3bcbb3141d0caaea799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e457bd5a99ceaeabad0acc14818781c6a3529838cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f189f082ce984d85416d7700387a99c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc6928780428ca12c1011f450615d21bbd4f491e0a1a8d1d7217f740ec18604b2416e252e85b3d7234b1d661a5c7327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b796b527e937efe9bcbea23ee312f7d0d0c0e455ef1da8c6ef88aa1bc91f858089998715cd15cfc99ed8dd3ae4ee82268746d3b5fefa8a6ad228cdcae5a14336f62523a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea33923136683025a32deb7a3268787d9b35d3601460177b8b7d883e0e6e19319f05c35056173043c769dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406481801bb5c22e17279ff94cbbdf23f534e7e0c0f0f465b97cf8e9a9ee8b6eb55291c6a6a3b917ec00b585b9de9b4a9030c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f08af525ecb99ae5c66c67540a694bc5f6ecf091bfd32e36761367075923afc7918296f08b060953b0c7a4065a23dd91b4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929657f6c9471c50c5d5498f9e49112dc7a651f6f2624a7b89ee4eff9b7cc562e7e0c7f0f411e729beb2e3b3eb6cd544e2a2b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e6153395e88c281bf91e5dc090c54b5c8a1014879ed8464e89181dfbd5f30077d17704e2cb8c0e6ecf0e1bfd46be32276d3a28f23b9c6f6b4d787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a5643759eec233c3bb1d5047c3df11d083042c1c988959989c0d5572f7f651f6f5624a0fd5bb08a4d121a56287f6b494e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bac93ce6257bd4a7882ea996c4ab0587b8ad3f50701d6030385da9c197eda181dfcd5f3742c84315fa896ec090ed97d7fea32e16761347074e72deb7a7e3e6d6bed20c46053315766c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327b5ae5eb38f4e1717513a2d535c9e3427d1ade8e6e9fa90a52038780218283042b1c98fd03cdda561f2f97f031e086065d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a2417cb4616ff8a6bc382bba7c62eab5842167f117249ffd9b280eef68268ad3f20701a25a56c381d6441edf780b8fb1e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b55335082c49c853fd0a662f7fa7a174e3e77b3d7cafa808b8bc2d6904a0917196d31e7d1ad98e6eebf15f1458cddd4186e31258788f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cfde5a82b1d730f76a86f3d1e6942e8e3d88eeace46736f75123a5faa83a3efe2f2bac95902206e76633959ec66a5fb542708ad3f40703a5101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d45130014720844d950f1858585dba153133a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929657f683052e5dc3cd498eeb1a400097f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c0e7918f018d4bda98c09c9d0c95b2b626863781f3caa4896ec87997e1a7e22f7fad7b63b2faab2f2889383edef5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296e0dac60803c462655358b799a294e2f297bdd12861601090603835c90041c5f50029e52641ea606b753347d5a11e252a84d4c6523c4e034f4e8327b5cafab0db8bc2f7513a2866695b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf998e5b3be2ae444e0d3e09ca602bd5a9eceaedfb806cc14c7c196d0d447c91a899edc89cb4cf4a4c0319a6f85e8d6acc839993fcee6a4b43157e12734e4a3f0645da5716bbae2933710910026e6fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16761347074e72dea097e3e1b2ab666c46126315517c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327b5aeef23ab8bc2f334df3d02780a5637d1ba8dc28dfb35c0545d6da0ad2d51a0450c4de498f9c1a430497f335e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c140c77597e99dbbca68d06c8dfce5a24636f62771e3bab4797eb86967f1b7d23f4fb54773cbfd9b280eef6849ca81c30700a71014f19bc94b55c90e6b9ac0801771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcc73681cf341f15335087d03fb59a84d4b6523b0f52df9e3327a2bafa97cfced7c3551e68667e1b3156a07f0d833c3bb1d521490830dd183042c1c98891bd8cf4d3628dea651f784624b0c9ffb3de88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dd3c95b3b467dd73d3b4fdacca4a993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90e6ddb99b71771c4265aa68bba1f78b8680cfd77a5307e773032a361b72d28213127b175c46051315613c228a87f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b3141b5aeaca3288ac1f035dc3c0179095734d0b98cc18cf834c1535c6aa1aa2c56a1428d8ae10e88c7da562879be1b4a224e036befebeedbd30e50fb6c6a7a6f355de1aaa8af2c8ed2a8541a3d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad3f24b5d94405292da895e429c580b8cb4e40071922c5aa2ddfb086ece7d5fac63b43227216602f23aeb64367c6e6bed22c460537d0173d45ccc68596f022b8144b70b1f415054c50dca2f5e1c3c4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1c231490f500dcd0125b7c8f8b2d989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ed2cc41894d696c5851bc90a99de9fb9cb4d82f68671997693f3cce0946ccf2092e6aef42721f63035d2eda94b3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23b9a392b6d336bed20823e02671673d45ccc68596b192cc2539416074d1b018405950b1949114bcd022441c676e4156c5f7b15fe52e95b3c0334b0d537e5e7796d2acfbe7cdcab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe8cfb4a02fe515f7d1a491af17fd4ce9afb9dfec09c91d87d696c7c34598188998c98d9a5a83c5d731862b9cf7dfacc848927d90e8e5a3413db37064e7edab383efe2d67fbf5925606e61774c09ec0764ef91f2c8ad3f40703a5101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa22d17751244065a43ddb1c0f751b7bdc65d45232014756d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937196d543315fbf996ccef24e13428780209094051f4dd8961fd8da4b192fd5b059a9df291d6c88f959fefb6ab010e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbc83e27272aa3034a7abf56b68bf383ddbf5932054a0573bd4bddd6e42b24a6d828cd0405688101485cd8a6f768d4d0b8dc0a25d2f9b3713f4bbec080d8f3d5fa125e20776341463e538fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7221a7a007fce8673d6dafa97cf4ea3a6365b79166d2e2557544fbdb3fc2f24012149081418796410955dfde498eea1a427397f147a3d07748798aee4eff9b7db025bba3e1f0f513ad6bf8b8e3b1a12db553e0c6a7a0f357d94ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc3958e92f48fbb9d73710910026e6fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16761347074e72dea093f652b6bed20823e02671673d45ccc68596b192cc2539416074d1b01840595031549585ccd153237a604c45335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f037b6c626166c88fb1fa1df3cf374f197a1e7f420fc2be7a8e9a9ba36fe06a1cef884b402f44ce8d9b9de9b3bc5108fd696c58518c41698de9fbecb4df6f28262da20c5c29db9bb2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2cb8a53258c384aea32e12b37216602f23aeb3d2f7e703aba718c310c780a24c22adb7f592c1b3f8355944740605054c50dcb594b1c3b28cf002440b111b7467341791fae0fc95b3d7272edff2be7a3257a3cb9de69adcf3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab312e7e1c2b1af21ad6a8ffebc9ceb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbc83f56b65e12736f4a4f87968e92e4abae2936557a60865c2acdd7345bb5e33c389df4716d6070384ad9c1a7ac90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dca29085c1c00da023111ef55f605220b4d5fb90efa0a7d6d62e7e730fce8703b34e6fa2ef8e23a6213b79011ebff44330ca89b3ac2f05b450392d00bd9c9454d0ae99e5efbdd4f112f97f031e086065d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339136b5eed6f98f7f993fcee6a4b43157e12734e0bceb2775a57e65fcbfcd7d51f1172482ea996c4ab0587b8ad3f50701d61014848edf1a0bdc0d0b8dc2e40073803c46a2ddfa7e6ece7f5da06cbe3076366763e44dfc7a1a296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b55335082c48bb19be3d2a7257e6fa32b0b5526d29cbbe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4f8eda26f674f0e3e7b9a724fb7cf99fa9effc28e413ff90f191a20ef60ea9c6f084b00a8543d0d697b0c347e95cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810701d41015f49bc94b55c90f1edc9ca04130d17672e2cafb4d3f8e604daa74a52b3d63266bbb69bb2f37296f7cfa23a41c0a770e73d5288f350568486cdf53981816014625d21abf190b4d134bcc752442c211b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f5572f1aa1ab5c3335d7b8aa218e88d0ba563f0a4f0a7eb24ed2dbeb2e2babd72fe08b188e78cac02bd5be8ceaeddaa16d014c7c0e0d0d445da18849cc9d8dc4d95b3c26edd6bd3b4fcacc8398928ccbde5a33260b07076b2fbdd2f29fe2c2bade2842013b9446e82ebed3f19ee192e8ad2830701d44347db9ddc0f08a8181c8dc2f51771c6600582ddf97b6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220b4a15fe48fd0b7b6523b2f028f4f5646d2acebe7eaffd733945f7d179d3f74b2d4cbf996e88ad6a5205878027909471074cdecb19c98b0c356480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529838cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f189f082ce984d85416d7700387a99c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc6928780428ca12c1011f450615d21bbd4f491e0a1a8d1d7217f740ec18604b2416e252e85b3d7234b1d661a5c7327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b796b527e937efe9bcbea23ee312f7d0d0c0e455ef1da8c6ef88aa1bc91f858089998715cd15cfc99ed8dd3ae2e09c67db689ffdddacc83bd86898eeb5fd7636f62575fca1f7793eff5e2bad96d26242ba0025e2fd995b0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16761347074e72deb7a7e3e6d6bed20c46053315766c22baa360a7e0832ca12c1011f450615d21bbd4f491e0e199644621aa606b753347d2c4aca19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e6853ee629bfafa9effe2be911b7c6a7a1f355aa0ab28eff86bc00d854d0c181c7d61ecc5cd9bf89cfdc08c4f3df71d56b92e8d5fa9162d27edbbdf2b43156e12547b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa23a22113750b73d5288a360a6f1e7bdc64d4504157190f934d8b4f491c0f018a5e6557b106a045421d3a39ae0ecb0d7f217fa7a001b0b6566d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e68572ba1fa6baeeb8a27aa324f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1155782ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23b9a6f694a3927a935d21746242473d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a3240b7de3ed69afbe7c3c40e1d07196d2026a1beddf2e80ed4a1445cbdd03c68b5b0157cf9e5e8f8b0c3564828251f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b2b170c46498a28ab99967dd7e8daaf3d52721f66272e5e5ea6f6fb87460f8a38c7e42b6407a82ea9b3f1899797bce8d9410038c504ac7cd8b1a48834840dbd5f27166c60345b799a71f78b9680e8e25e37276366563e538fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b55335082c48bb19be3d632173e7ff61a7b6742478f9e869aeca3a6213e1d43dd1f54f7d1ba88e6fe8bb1f21149083418796125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd9b8c5939e0ac4a4c033c07c86e29dbabe2e8e3f9de7a5f26971ab6d23a5fabc382ba5792bac94842011a351648ab0cc765baf426bc184941001c1066392d8f80f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16761347074e72deb7a7e3e6d6bed20c46053315766c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b077f60666562c48bb5fe11f7c3334b1d761a7b4642470eefe3eb8bc2f224ee7cd3080a4157d1adf8e6feebb1d2642d2d20a9095724d09eb9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529b3acfc9ea918f1dd5edd730f120c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2c8881f79cc680cff25e37276366563e538fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f486f585cb9546804a607c05337792c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c99f808d4d81a4271d1af15b6c5624b0d9ff94ebaca3dad22a7a7f0bca830fb74a6b2e2b8eb6da244e1a6b1d59742aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e76665d7b9c73f19ec4e72ce93c20700a01014859fcd58169f585acb99af5530d92957a59da51f79ce680d8a4eb821386a342bb22deb7a2b7e3228be7e88261a3157668171852e0e6e486dac05c32400541408d21bbc4f4b6d585ccf153342a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c99f800dccc5a1c6480f317a9d7340b6c898f59ff8c3cf738b6b0ecf0f465ad6a8ffebc9ceb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e61533949bc0745ba9593b9dd0c55b43811015f3cd8b185884584dd492ae4a66c67713f5c8a05e6ecf091bfd32a63621292534b86eb82432782428b67c953711315764c22bac7f5b5d486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a52018781549095741b49cbd5498f9e5c1c20c1b051f6f2624a7bc9a715a9db3da563f2a1eba0a833ad6bf8febf98eb6cd344e0a5e795b709bd5a9fceacacfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f189f082ce98cd04056881015f2cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f4b6d585ccf153342a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ad6c4503e4d70dc383042d1c9afa498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9de9d0bc907c7c194968a16db0acfc8e8d8dc4dc7f5802ec76082f3d1e79d78916197e1a5b43021e12643b2f8d82f29fc383caff5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e44baa3a3a62787cef738d3310674065a33ddb681c681f739c4585161a4a1215da4498081e40585ccd153237cb51e4127450660eae0ebd12663365a7a007b0b4513b69ebf569aecb3a6060b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6cd30db381f189f355a80ab68aef9efb5ce454d0c1d7828f03cb11cfc99ed8dd3a95b1b3268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ecf0e57a170a43676366532ae78bc6f6848787ced738937007f07399f3ddb684e2e5d378b05c22656164711835ad4020840141d8b153340a607c05337792c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f190f7a5a739ad6bfab8e0bcbd2cb55296c6a6d7a50bf10dbf99b9dfee1dcf048c9781c7d4529b3ccfc8efd8dc39c3f1936d9136b3a288c8df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f4bbec080d902c5caa6cf47116216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a327093cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f557382e646f59375486c898859fff82be927e7e0c1f0f616ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbab96fd57bdbbdf0f26e72b76623a48cbc3829bb697cb2a3c46657bd4b71d4f5c57345b9082c9dc5826716d4740385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c147406706169646dc584b4f110f8c432441c711b744704c7b57f859f90a662e76f1be28f4e472243cb8a969aecb4c384ee5866695f7453145f3df35c8ed0a5372878122c6d656061c99fe498def1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9fbe821ed2e49e26863595ebd9fa892e8f49dbbdf2e2757ab0766eb2faab2f2889383edef5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa22d17751244064d73dda1902721d2b9b05c352075d0503d21bbd4f491e1e069a536a10ec4ca044351d3b4ae258a84d4b6523b0e430e7ab642076fdfa2ef4e2762448f7d07197a4026b6cbf9b1d88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d534db098b9589cfde1cdce081709136b2a28abb8967d5699bfde5a33261ab6068f3edab383eff582bac93842065a75577c9fd9a5f0eec6c3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16761347074e72deb7a7e3e6d6bed20c46053315766c22ad97f585f486ca94c900016485055b20dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f8b2d989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ed2c8543a497cd83c344ed5cdaba89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e6153395e88c281bf91e5dcb89c70701d4564ad69bca0f08a8181c8d87b5406e872042b391a75d38d12157a165f47061216603f238986f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a3240b6afafa22b8bc2f334df3d02780a5637d1ba8dc28dfb35c0545d6da0ad2d51a0458c8de00989c0d5572f78b11a4d2341026ceee4efdcc2ae33eb0b7a1e7f63be12abefebf9eeb6dd612a282fac0e522bd599bceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ebea764abe48728ad281415f85465592dbfd0f09de4e59d684a25a66c67713f4bdec0a0ad97f0eea32e16761347074e72deb7a7e3e6d6bed20c46053315766c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a6c57e2669ffef69afbe6b2951f78667e1b3156a4af2ce3fc6fc40181490814187965e0c1c99ff498f9c4804339fab07b7d324173bdea715beca6ab263e7e0c1f0f616ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5925150a4447882ea997947bd5e6d8ad3f50701d6464ade8cdc581ede0d5cd085af5666c67713f4bdec0908d97f78bc70b02c76371063e749fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7221a7a174b0b5546d2bccf72dffeb737512d7866695b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e626bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edaa493efe5b6af6a6842166f1155782ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23b9a2e327a787cef738d3310674065a33ddb681c681f739c4585161a4a1215da4490041e094f5cda034457b375a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d4064818007b5d7295d7b8aa810accd3ca56286f6b6e7b123fa74b9bef8a9a731f712ff8ff587b30bbd5be8ceafa89300c2188e9681c7d614c10b8997c9d8dd3c95b3b470c46498a28bccdf3bfd28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec0908902c5caa6cf47063673927a47bfc791f296f7cac678826007c4064d53dda1f4e2c2c7bdd10d45043014756d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f45039296568583042b50c4cb19c98b0d4035cbb311e085035d7b88a814a8dd24e23ebaf6b6e7e365b830aefebf99eb6da216a691b988b404f11bb987f9c8ec5d8542a7d694b4c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8cb3b242229a6004f79ba55b388f680d8b25e37020683c22b27afc786b7e323bb174c46051315613c22baa7f595a1e2e8e4ed45136014527d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929657f683052e55cbd909d18b0c356480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268444d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050384ab9c187d8854589ac3841773b56004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145055b44c901c5e1e4d0d93517201a607c153350a7e0ef911fe1b7b3478ecf437b8ea7e267cafa97eb8bd5a7511d3866695b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa322a193f58bf355a80ab68aef9efb5ce454d0c1d381945adb1c9e8fc593890c9ded9361d169d3b58aacc94eeb628ce294e47078ad6c63b2faa97970a5737dbae3e23711925666c6b68c296ef91d5f8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa22d17751244064d73ddb6a4e2f2e328e42940e561645059b498a195e1f394bcd027205ea40e61e220a3b5fb879a84e4e6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6a89b2e2adbb2bb553e297ed95b342ab2dffd9ae8eb60ac31a809cdcd0d4458d4bda92c8d8dd3b95b3c074c077dbf0ccfb8960d5638daaf2a32720813036d6edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d21110640438c22ad939077d1e2dca13b5474116060a9e4c9c185e1e4d1c90456f16a606b753347d2c49c819bf387c3070ecb677d0a327093cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f514ad6b8cb7edbfab33b55297c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e40026e6fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16761347074e72dea097e3e1b2ab666c46126315517c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327b5aeef23ab8bc2f334df3d02780a5637d1ba8dc28dfb35c0545d6da0ad2d51a0450c4de498f9c1a430497f335e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c140c77597e99dbbca68d06c8dfce5a24636f62771e3bab4797eb86967f1b7d23f4fb54773cbfd9b280eef6849c092dc555c96594292da89595085535d9ac3821771b23646a696ec090ed97d7fea32e16761347074e72deb7a7e3e6d6bed20c46053315766c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0fce126e2274eeb676a5e57b296af9be7fd9ab2d6252e5ca20c6fe026a1bbf981988ae6e4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4aa992c28d9b0b95b3c277cd7593a28bcddf398e6e96eaa3fa607cbc3034a5edab3a72a8383ddbf5932054a0573bd0afc66847b85e75c68ec20701d61015f2cd896b1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a607c6057759675fb90cee126e3362a7a000b0b4253b75e3ff29efab2d6053fdd63ac1b3156a0ca9ee799edd0a5277d1c305db83042d1c9afa498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4aa9de9ebb821ed2e49e268740d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddf97b6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1f3e4bcd76651bf511b6332208485fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f882fd9c749557382a018a4c5345d7afeee4effc93bf27cb1b6f0a1af39ef2ae7b7e5b3ab7aa253f7d0d1c0e626bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f11655d4a8c8740eee1d7dc381c25116d7710385dace5e49c14e4bcb84a85c2487685aa69aac566ece7f1bfc45852b3e216776ba69a96f693c2e25b67e927750574064a16b993b05395e1bca10b04741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1c235dc3d101d98305585ac6da1fce8b0c346480f107b2df331b219ff94ee88d0aa56183f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3eff5e67f1a0d46606e61562dea8cc3f1898082c9d83d947508f5749cfcd8b181ede0d47dbd5f27666c67741b38ae44e269d3d4da469bf3176366763e44dfc7a1a296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937196d5542848f48e6e9dfd430142d19657f183055a4ac6d208d8dc1a4271c0ac01abd2624a7b9ff839e88d0ca56384a0f4b4a872bb1cefebcdf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc3958e92f48f3b1c3774ff1165382ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc6a2a395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69aecd3a6267f6ca2280a5627d19db8e6e9dbb1d50149083418796125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebf9eaa36e644e0d3f789b714eb4ce9afb9dfec18d403cf80c181921ec61e99d6c094801a95b3c0268740d3b7f9acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46005848bb95b25d97f0eac6cb03120216602f23aeb3d2f7e703dba64953b0d73167b8b798b3f07395f6cca13b42e1c535054c75a9c191440081a965f6f57b077a044414b791be519be3b2a7050a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7cc33da3b1e1b9e365b83aa6baffaeeb6cd444e0d1e792bf13fb01ffd9aec8ed2a8541a3d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1edf7e47d180b44666c67542be88ac1f78b8680cfd63b927306f3729af2deb787e3e6d27bb35d21646265721936ac436046b1f3b9c05c35056173043c769dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d4064818007b5d7295d7b8aa810accd3ca56286f6b6e7b53be13dafa9a9effe2dff14bc87b1d7e442ab2cffd8dfc8ec29d301839d81c6a3529838cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050384ab9c187d805c4cda9ce40106d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b55337792c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c99f8498fe85b193797f031e086065d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4aa99fc58bcb4d80e29e62c776d3b4fcacc839cb798ca2b3f47667ad7b61e4e5f56375a9383cadf5925706e4643395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa22d177505716268676cc685b7f013f9c53d45137014754805c8b470849091a965e6601ae58e41462542c48b919be3b5b2570efb676a5e5782c7cafa80fb8bc592351f3cd7196d3026868bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f354db00b49be999fb5d901886d697b1c3459a0e9e89818e8b0bc4e89c64c72882e2d9e49964d868dbbdf2b43023b06c76f2edaa4e3efe2f7afaa8d53711e6002497b1c76a5ea84071cb85941177c10714d99dd44f49855e0b8dc2e40073842442b39dbb546ecf091bfd32f47710607f63e53afc786b7a3c22aa75c46127315764d73ddb684e2f287bdf61d45043014756d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a1e07197d043315fbf981988ae6e4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb5529187fd93f355a80ab68aef9efb5ce454d0c1d381945adb1c9e8fc593890c9ded9b6dd120c4b59dbabf2e8c4cdbbdf0b43023e12736b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f78bf3e4eae6ef47063673927a47bfc791f296f7ca864937f107111228e768e2946700c3c8a4cd45041014623ad4796075e1e4d038a5c751bf358ec13751d3a39ae0ecb0d7f217fa7a001b0b6566d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e6853ee629bfafa9effe36f444e1a7b1d7e410ec1bf798f999aa06ce1691dede9a891ad85cd8c989cfde0bc9f197268741d3b58afb9b65db68dbbdf2b43023a97c68b2fbdd2f29fe2d20ade5842011f11726d4accc6a0eef693b9dd2810c01d1101485cd8b1a568d450b8cb4e40071c16004f5ddfb0a3d9d214baa25e20676366776f93aec6f693e787d9a35d11346265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6362fdd620d5e3537d1baac830cced5c4502e6965687d55b015dcfc941cbcf53052497f146e08502486788fe59fefd6ab217ada6f0a5b323ad6a8ffebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43252e12736b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17675e2ca8f5e228a680d8a25e10376366563e538fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a607c6126e4e2c48bb5fe11f7c3334b1d761a7b4603c6ba7e829e9fa763e46e18e38ccf8427d1ba88e6fe8bb1f21149083418796125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ed2cd301839d81c7d614c418998889ceaa5a82b38577c62885e2ccfd9365db7ed3e3a1f3677fe12734b2fbdc5074a3702bade0cc7b4dbd4863cafd9a590eee6b6ddf81df0700a11016f6cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d450430146259e46891f0f094f5e96542441c711b744704c7b57f859f90a662e76f1be29fce86d2776e7be7eafab2d6055ebd33180a5637d1ba8d93dc3f94a450390965685cb5e061c99ff498f9c0f5e7387e646f79375483aceae0ce88d0ba563f0e3aae7f372ba6befe9bcb0af27b55296c6a6d7e757bd5be8ceaedda80ecc0487d697b1c3459a49c4c999d8dc4d95b2b7268444d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11770b72a43b388bc4e6ece7d5da361a23176371163e53aaa263268383cf266803e16714064d53dda1f5b325f6bca13b24741621a1383588c1e5e1f384bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d501490834185e7125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642ab2affd9da89b7198542a7d694b4c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e61533949bcd735df91f2ecc8cd05140c1066292da8b5d4f9e105dda84b55b2d93361bab91a75f6ece7f1bfc45f47212216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6522c1e034f4e8327a29e9f72deefd3a6365b79166d2e255755affdf28c4f048131cced206d0ca125a0b8f8829fbc150146480f307accc225d7af9ee4e8bcd3fe13fe7e0c1f0f616ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12645fea6e97f6fe92f3ef6b4842167f11724d0acdb3758b9596ac68ed6511e825a49d39bd0505ec90f1c9ac2f1463a842013f4bcec08798e2c50a865f47061216776ba61b76f6848787ced20cf6056315764c22ad9291f791d7bdc64d45041145b54c20dcb585e1e4d039e482441c711b744351d3b48ae0ebd086e2c64e7b677d1a3257a28afa97eb8bd5a7511d3866695b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa322bd96e095a313bd5bea88f08cad1c8542a6d696c7951bc11d8f89818b8f13c5e4d7318620c5c289acc948993fb8e0b5e57266b03035d2edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bff41f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002441c011b73063517f5fb879a84e4e6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f5572f1a71db39375482ad6aa0fbe9b7cc474f0e1f3a1b47afb3cbeafe5b3a92cbd0dbb8df1c0e455bd5a9fceacacfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f189f5e6ece8e941003875947c49b9c197fc90f1cc884b31f30913142ae96ae4966902c5caa6cf470612166039e7cbc277e3e6d3db66a847750574064a16b993b05395e1bca10b04741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1c2358ccc311c183055850ce9e5ff98b0d4236c6b159b6d3330c20d4ac0fe0d73be53cb1bafeb0e365ba7cf8ebf8a4be3ab55296c6a6d7a406f60ebfceaedffb5d901c8b9d81c6a2529a4bdad59ec8cb4d82a4c033c77193f79dbabe2e8e3fcea1f2a42721f63034a7a5f8723eff592bade2902206e6173395e8df7b47a9483b9ca4941001d5101485cd8a6f1edc7c0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f486f121b8b407406a606b5156b597a09ae0fc95b3d7262eefa20f0f43a3e78e6ee29b8bc2d7512d7927196d5026a6ff5de28ddeb5b4502e79656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ceaaab9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc382be92e4dbae2e7764aa20025e2fd995b0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16761347074e72deb7a7e3f1e2ab666c46053770937946bcc692f395f6c9854834f004101129e469e19564014009a153340a607c05337792c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e085040b39dba559ff8e2cec30b1a0a1e68272ba6bbdaffef0bd3ae415bb8df396fb0bf90bbf87b9dfec4a9334ad83d09c8b1ed2189e92c393cb4cf3a4c045c77597e99dbabf2e8c4cdbbdf0b43023e12736b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f78bf3e5ba365b2367636652fb32dea0e7e3e6f39ab62cc210660113f897f9a771979033a8a52941056164743c518900e5e1f394bcd027117f719f6136b5d6a0eae0ebf5b3c0534b2d261a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a52018781549094074d0b9a9e5e8d8b0d406480f351f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9ee8d30e015bb8cfac0e457ee08b69ef9c8ed2b8543d0c381c7d4529b3cdbde9fbecb4df6ee8277dd6a98a28bccdf3bfd28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e167613470759467a93e3263336bed2097330f610073d45ccc68592d486cdd05c22741014625d21abf050b58140191153237a604c45335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f037e084010b2cd6ae1fb99b7cc574f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dd9f4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae3e2371192417fd1fd9a5f0eec6c3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16761347074e72deb7a7e3e6d6bec53853b153157668474882918395e1aca12c31507565815925c8d03154b0e4393596f17a606b753347d2c4aca19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7af9b80cacd06ab261abb7a1e68272ba6bbdaffef0bd3ae415bb8df396fb05ed00b68fb9dfec4a9241819fc58695529b3dcfc99e8a9a0d9df29777c06c98e0cba4966ade6892aaf2a32720813035d4edab4c68bc7c60bae3e4371395002497fd9b2a0eee1d3b9dd0941003c1071692da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16761347075942deb0c3f652b6bec55c46222315766c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3a39ae0ecb1a663634b1d661a5c7327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a5372878122d1cf414d0aef9e5cfc8b0d406480f351f786624a799ff83fe88c09e438b4f6b790e367c97cf998a9ef883bf917f7d0d1")),
                z[n("adf94a1474ced609d0c8432a40e3df")](n("1f2355e0c620c6fe0a3a46e2")).insertAdjacentHTML(n("1d6cfab6ce6046b14b72"), n("e89c19788854589ac2f15b27d17672e2cafb4d3f8e604da76fa33630712135f23aeb6f693c3e22be63927750504064d56f9d28466f082a9b499f050009030f925fdc584b5f091c9a44621aae42ec13701d3b48ae0fc85b3f0134b0a361a7b6327a29afa97cb8bd5c3448e4866695f54b395ae98e6fe9bb1d5242d6c101c1c55f455ac5d518dcc751153397f146e085025d79fbee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a7a6b20eee4ce8dbff81bf1cd354d1b781c7d400dc0bc788c9899a16dee6812ec26c93f095e19f6ad828ccbde5a24736f45423a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f08af5f5bcb84ae5c66c67555ab99ba496ecf091bfd32a63621292623a37cb0243c7f7023ba7e947f0175063dc22adb7f5859486dac05c324115101129846dc593e094d2fda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a28667e6e5573947bf996ccef24e13428780209094051f4dd8961fd8da4b192fd5b059a8d3290d64d6aa1ea8d26ab263e7e0c186ae38fa2da9aef8aeeb6cd344e0a5e795b709bd5a9fceacacfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b4fbacc84dd86488aaf3d42723853034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082dec84d85416d60545db89ca591edf790b8dc2b64631d93653b38ca0542c8f6048a665a66f3f6d2632f23aeb6f6849787e9e35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b63563517f5fb90cee126e3362a7a000b0b4252a78f9fe61eeeb6b2448fcc42788e04e3d5ebf996cdaea5d4d53c3c00198d5521c4dc3d50bce83491924c5e646f793743d6c8a8a59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cead1bd9f7d73184669ae6cbfadf38f828ccbdb7e5703eb77072e3a1f76d68e17167f1b5842011f1165382e8e83f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d36246265573d45b9a2a0a72486cdf439d0300575055b30dcb580c580f438c557506ea5ae2052a546818ee50a84c3d6522c7c261a6c5327a5ff9eb2df3ab2c1504a2e27197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb5529190e484b842aa59b987fd9ead4a9335c7c196829205850a8f8fd8948018c3ac9e62d6609aa28abbdf38f94cb8c4e5a24136f65375e7a9f72f2889383edef5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e20176361322be7efc791e296d0ffa22d17751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7352e6fa32b0b4272b75ebe83fb8bd5b7513a0d420d7bb543d5deec232caed020c58ccd6418794125b7c8f8b2d989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd9b8df8d8f1195b3c260d86485f49dbabe2e8e3f89fbb2bc7176b0616ff9afea2777ad7f6bf3f5932006e76045c4aac67647f91f2e8ad2f70701d47b53da98d84e1ede0d0b8db2e40000d17706eaddfa796ece0b4dbf61bf6760417076962deb7a7e3e6d6bed20c46053315766c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a6c5643878e4be7eaded733152e18667e1b3156a5eeed971defb5b1458ccd41798ca560a5cc69e5e8f8b0c351bddac19e085045d7bfcb80cacd06ab314e7e3c5f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c5c49dbbbc6fd57bdbbc85b43252e12736b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17675a391bf1f79cc2e52ae73a26760407074e57fad38767f383aab798f351039093f897dcc6859395e1bca10b04741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1c2342d2d20a9094070b55cbc81f989d7b557380b400b79b341d3dcea212aacd62ec30a0b6e8f0f465ad6a8f9da9ee8d7aa227a193f58bf354dd4ceaaab9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e4002497fd9a5958ac4c708ad281415f85465592dbfd0f09de4a5acdddb25737802c58a08be4562a9e2852ea32e36760411b23af7cfc786b7f3627b135d3624b590c388e759c374e2e5d6cca12c111184d1b4fd21bba4f496a0e1e9e5e2441c611b537220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125b7a8f892ad9c7495572f7e644849375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c344eb1d838d89cfde1cdce081709136b2a28abb8d7fce208deab4e56b7da3662bfba1f76f3efe2f2bac95842262f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ece7d1bfd30f47063216776f23ae96f693c787cef35d21110640438c22ad939077d1e2dca13b5474116021285058a0f0f58140098432c1ee256e01a220a3b5fb879ca5b3c0334b0d537e5e7796d2acfbe7cdcab2d6004a0937197a6026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe8cfaebe3efe44e0d3f789b714eb4ce9afb9dfec18d403cf80c181921ec61e99d6c09c8c1adca4c0319136b3c9ddf18e2e8e3d96eeb4b43023ec586ff9a1f47f76e92f3eadf593226bb5513f82ebea3f199a5e6ece8e941176c1056792da890f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16761347074e72deb7a7e3e6d6bed20c46053315766c22baa7f595a09379905c22756143443c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b3141b4df3dd799fae4c0c50d1c04186e2125a0bddcf1e90dd5a0435dbad13b69b2b1127dfee4eff9b7cc574f292a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28ab9df398c28ccbfe5a24160b47468b2faa96977ad6e7dbae3e53711e65262d5f5da7f5fa84470c8939c4e5286504a92da8b0f08a96f0b8cb3e40005873557a9ddfa7f6ecc0c1bfd30f47063216776f23ae96f693c787cef35d36246265573d528cc685b395f6eca12c14741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb87ffe0e6e2e34b0a327f9e7643b3cb9df69afbc682453bfd031d1e24e364ee98630ccfc4a0c1490814186e3670458d39e5e8dcf581128dce6478693753e3acaaa12e88d0aa56183f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268746d3b5feed937d993ebbaaf0d02721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11770b7215fb1ddfb0a28902c4dbc25e20676366731a37af4393e782927b177927f0f7d0b33c22adb7f5859486eae05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799edd5c1050cc965685c55b094ad99e5ff98b0d4236c6b159b6d3330c20d4ac0fe0d22ee234aef6b6e7e364cd03efe8cff8fc19e311b38db1d69342a828ffd9acc8ec5f8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e61533949bda6a4ab2082c9f83dd4340971015f3cd8b184c984f03cc95b5462a9a2245ea94a8582e90680cfd25e20701612623a32deb7a21633223fa23a277515216268676cc692e395d1fca10b04741145054c70dcb5a5e1e4d4bcd002440b311b746220a395fb90ca84c3f6523b2b676a5a325783cb8ab69afbe3a6211b7901780a4613c40ec8e6fe8bb1f21149083418796125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e1a0f08ca042aa59b987fd9ead4a9335c7c196829205850a8f8fd8948018c3ac9e6ada60d3b58aacc94e993dbfaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d6050385d89c180bc90f1e9ac2f11771c46004f7ddfb0a6ecf0e4dbf61bf676134362ab67baa6f6848787ced6795204e6700229371873d1831013f8d459d4741165055b260dc584b0430019d596d57b104d619541d3b4ae948e3572a7352a7a102e6f676263cb9de69adcf3a6211b7916480a4177d1baa8e6e9dbb1d50149083418796125a098f895c989c0f557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebf9ebd2ff10ff7d1a486ba06eb1affd8d8c8ec5dd70590ded7909203c1178d8881918f1dd5edd7318620c5c2d0ec967b993fcefba5f06f36f75623a58eea7a7aa2383ddaf5915306e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276371663e54ebd232d296e0bfa20a07751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7221a7a007f1ef616d2bbaf820fcfd6c7512d6866697e1532a04e9ce28d9f74107428fdf0ddbc3125a0b8f8829989e7e557382e646f59375486c88fb59ff8e6ab261e7e1b4f0f467ad6bfafebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cead0cc0e09c26863595ebd9fa892e8f49dbbdf2e67661e96663e3bcf0647cbf3062feb2c47e06e61733949dea3f189f082ce993c1435dc1066392d8f80f09dc181c8fd5f30266c67513f5c8ec087bd97f0eea32e16761347074e72deb7a7e3e6d6bed20c46053315766c22ad97f592c486cdf05c35256164543c46b8a1a1a42585ccf536d13f047a045431d3b48fc48ff537c2565f6fa2af2f53a2478e8fe20b8bc2d7512d7ed31dde2026a19f8ca3fc6f95d0f44ccd74186e5125a7fd9cb0dd38b0c3564828251f786624a799ff94ce88c7fa563f2f6b6e5e365b87cf8eba9effe7aa251f7d1a4c0e457bd5beaceaeddfb5d9054d0c381c6a5529a3f8e92dad8dd3a95b1b3268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f19ec082c9fc5831216d77642de9e9c180b8f514fcc83e40107d17704b08cbb173899394aa66eb6317e683c28b22deb787e3f186bef51c46053315766c22ad97f592c486cdf05c35256164543c518dc584b094f5eda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bd5c2351f3cd7197a6443448e9d8799eda0a5203d5c71698d5521c4dc3d50bce83531123d7af51f784624b0cf0ee4f8e9b7dc622b2b2eaf0f512ad698bfebeedeb6da044e0d3b1d7e642aa59ffd9acc8ec5f8543d2d696c5c345985cd8cb89cfde5a82b1d7318420c4b79dbbca2e8e3ddbbdf0b43023e12736b2fbda796bad732bade0c27e42a75633949c8c2819ab596c8293d456478d5b41c4c5d54b5989510b8dc2e40106b53042a8ddfb0a38972450ea32e1213b653b21b22dea097e3e1b3daf718f7750514066a63ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2ac9be7edbea762604a1e67195d7026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672bb1aaeb2faf8fc6ff30db390e7c0e523bd5be89ce89ff31cc505969aca92955ac410849e89cfdc5a83c4d733f520c4b79dbbca2e8e3ddbbdf0b43023e12736b2faa92f29fc383caff5932206e6153395e88c281bf91f2e8ad2810701d4101487cd8b1a1ede0d0b8dc0e40100873557a9ddfb0a28902c4dbc25e20676366731a37af4393e782927b177927f0f7507338b3ddb684e2f2810ca13b247416206169646dc593e094d2fda023157b104a044371d3b4aae0ebd5b3d7034b0a361a7b6327a29afa97cb8bc2f7513a2866695b315680ca89b799fae0a52018781549094074d0b9a9e5ffedd4f112f97f144a6da260b3a9ff838e88c7df725b0fef7b0b223e137ada8a1b1af3df50df7d1a6c0e522cc06bd8cf088fb5d901f8b90cf9b871acd0acfc8efd8dc39c3f1936d9136b3a288c8df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c1071692da890f08af181cf994a84466c70013f7b9ec087bd97f0eea32e16761347074e72deb7a7e3e6d6bed20c46053315766c22ad97f592c486cdf05c35256164543c518dc5938481418da023111ef55f605220b4d5fb90efa0a7d6d62e7e730fce8703b34e6f222f8ab2d6204a1e67195d7026a19bf996c88ac1f4503929656858305581c988b498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a7a6a517f907ffd9ac8eb20ed302c7c0e0d0d445df0d98d6df989a0bd9ef9570996997e5dde5df398e28cdca8cb43023ec5869f5a1f52f29fc512bade0c36757a04a788efd9a590eee6b6ddf81df0700a11016f6cd8b1a1ede0d0b8dc0e40073d17706e2caf91f79cc680cff25e37276366563e538fc786b296f7efa22d17751244064d73ddb6a4e2e5d7bdd10d45043014625845898045e1e4d0d93517201a607c153350a7e0ef911fe1b7b3478ecf437b8ea762a7ce6be7eafab2c156df3d931d7b3156866eace3288ac69235dcdc0019095744d0becc81cdcc01a430497f335e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb553e2c6a6d5f355a84ce8dbb9dfee4a9241c7c194d0d5348d4bac9fc58bcb4cf5a4c2429137c6a28ab9df398c28ccbfe5a33236f62523a5f8bc382be92f3ebae2913711e4002497fd9b2a0eee1d3b9dd0941003c10665d381cf0f09dc5e42de83b21770b06004f58fbd48668f284abb69bf252029392fb96dfc7869296e0bfa20a07751244064d73ddb6a4e2e5d7bdd10d45043014756d21ac94f491c585ccf153342a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2c1352e2c23a80a4173b45fbd82f88ad6b450390c410c78b440d4dded202dadd121c20d0a618e084755d7aff9814a4d83ba563f2f6b697e365b814a5aeffb8eb6cd344e0a5e795b709bd5a9fceacacfb5d9054d0c381c7d6529a49cfc99cd8dc4f95b3c2268635d3b588acc83b993fceaaf2a12721f43034a7edab3a3efe2d2bade0842013f1172682ea993f189f5e6ece8e941003875947c49b9c197fc90f1cc884b31f30913142ae96ae4966902c5caa6cf470612166038241fc786b482f2fb835d36246265373d528ad28046c486dac05c32400541408d21bbc4f4b6d585ccf153342a606b55335082c48bb19bf4e2a7221a7a174b0b4276d2bbabe7eadab2d6004a0937197a6026a19bf996c88ad6c4503e4d70dc383042d1c9afa498f9e1a427197f144e084775d7b8aee4efd9b7db074f0e3a1e7f672ba69efe9bcf8fc6fb55291c6a6a3b20eee4ce9aeb9dd9f4a9241c7c194d0d4478d4bdade9ecdcb4d80a4c0339137c6a28bcadf39fa6997f9e5a24736f45423a5f8bc382be92f3ebae2913710970024e1bcc06c0eef683b9fa1941170c10760d381cf0f08a9")),
                z[n("0587f2ddfb8358d9619becb4fe70")](n("2d30d894c30f40814152de86de59")).addEventListener(n("2d7dc389d249"), () => {
                    z[n("4d59aa74942e36693028a34aa0033f")](n("c795a85325d1205ba175fc343a6122")).style.display = n("7b4212009a"),
                    z[n("ea8ad9989c06e3e49e66d77199f5")](n("2c585ccc477500ae47e0027351671df8")).style.display = n("899867d36e95")
                }
                ),
                z[n("6fd1048781dda6831bcd1a9e94de")](n("427d773d29a57cba3f2f7f")).addEventListener(n("2575cbb1ca71"), () => {
                    z[n("51a5b6f090aa32e53ca4afcea4873b")](n("ebf18cb7018d1c879dd1d8901ecd0e")).style.display = n("e3fa8ab802"),
                    z[n("20801716560c3592449c090f430f")](n("253395ebde6e59f15e76c092c541469046")).style.display = n("71809fcb968d")
                }
                ),
                $(n("2538d0acdb3758b9596ac68ed6511e895048c2c5db4b5887")).click( () => {
                    z[n("7026d7b731a9d32a1d27ce890584da")](n("6d338e499f4f1e411b13da5e900f0c")).style.display = n("04372ab86bb2"),
                    $(n("9da0682453bfd031d1e24e364ee9862ac4fb58")).css(n("8cb9a72ce00db39a"), n("e5b808f60c"))
                }
                ),
                z[n("39cdde18f8c25a1d24dcb736bcff23")](n("798994dc84871b")).addEventListener(n("ce3cfc08b188"), () => {
                    E5[n("57eb35a3abeeb2af2df4")][n("882eb8b2f8b89a3ae815")](C.Nd)
                }
                ),
                (w = z[n("2d79ca94f44e56895048c3aac0635f")](n("6d299b52dc111650010f994f8a470949130a9a426400"))).value = U["1a"],
                w.addEventListener(n("aad804dcc05815"), function() {
                    U["1a"] = parseInt(this.value),
                    Te(),
                    Ga.location.reload()
                }),
                (w = z[n("7b4b181aba5c641fe65af1347e716d")](n("df6795204e6700229371873d18311731804d81"))).value = U["1i"],
                w.nextElementSibling.value = w.value,
                w.addEventListener(n("43972d57a99fac"), function() {
                    this.nextElementSibling.value = this.value,
                    U["1i"] = parseFloat(this.value),
                    Te()
                }),
                w.addEventListener(n("e5bf09e81cae"), function() {
                    this.nextElementSibling.value = this.value
                }),
                (w = z[n("ff576406c658e01b62567d38f275e9")](n("4541b38ae4492e883957a167a26f3e6d3b3cb867b4"))).value = U["1x"],
                w.nextElementSibling.value = w.value,
                w.addEventListener(n("782ad2aa12aadb"), function() {
                    this.nextElementSibling.value = this.value,
                    U["1x"] = parseFloat(this.value),
                    Te()
                }),
                w.addEventListener(n("dda731e014a6"), function() {
                    this.nextElementSibling.value = this.value
                }),
                (w = z[n("241203836d950f1649131abd494816")](n("06e0bceb2768a9697af6bec6610eb24a79c3abc0604e"))).value = U["1p"],
                w.nextElementSibling.value = w.value,
                w.addEventListener(n("bf93a9532d9320"), function() {
                    this.nextElementSibling.value = this.value,
                    U["1p"] = parseFloat(this.value),
                    Te()
                }),
                w.addEventListener(n("a33dcbe6522c"), function() {
                    this.nextElementSibling.value = this.value
                }),
                (w = z[n("a0168787e199831acd179eb9d5b48a")](n("684edec941cecb4b0428dca407e8df331d24c9a206a8"))).value = U["1q"],
                w.nextElementSibling.value = w.value,
                w.addEventListener(n("ff536913ed53e0"), function() {
                    this.nextElementSibling.value = this.value,
                    U["1q"] = parseFloat(this.value),
                    Te()
                }),
                w.addEventListener(n("5a02721d2b9b"), function() {
                    this.nextElementSibling.value = this.value
                }),
                z[n("5d29ba64a43e06790038935a90130f")](n("0bcb798ca2b3f47667ad7b61e4e5ed6f7aa17e61fbb5")));
                M.value = U["1y"],
                M.addEventListener(n("a17b4da45062"), function() {
                    var X;
                    M.value !== "" && (M.validity.valid ? (X = parseInt(M.value),
                    isNaN(X) ? (M.value = 0,
                    U["1y"] = 0,
                    Te()) : X < 0 || 65535 < X ? M.value = U["1y"] : (U["1y"] = X,
                    Te())) : M.value = U["1y"])
                }),
                (w = z[n("4eb87595170f710833896cab232278")](n("31d5c71698d5521c4dc3d50bce83511922d9b01dbfd3"))).value = U["1w"],
                w.nextElementSibling.value = w.value,
                w.addEventListener(n("ac9e861edee697"), function() {
                    this.nextElementSibling.value = this.value,
                    U["1w"] = parseFloat(this.value),
                    Te()
                }),
                w.addEventListener(n("0a72a26d7beb"), function() {
                    this.nextElementSibling.value = this.value
                }),
                w = z[n("a7bfcc6e6eb04873ca8ec5604aad51")](n("fef8b4e32f72b47967f9"));
                for (m of Object.keys(Ia)) {
                    var O = z[n("33874743d69cdc6f5789504bd184")](n("8e702055fbcc3a"));
                    O[n("620545191392")] = m,
                    O[n("3390505ec3abd6444f89535a")] = m,
                    w.appendChild(O)
                }
                w.value = U["1b"],
                w.addEventListener(n("899963dd6399ea"), function() {
                    U["1b"] = this.value,
                    Te()
                }),
                m = z[n("718596d0b08a12c51c848fee84a71b")](n("9c9aaa1d8d199180cb808813"));
                for (x of Object.keys(Mt))
                    w = z[n("be2cf234a3a7e190aa32e53ca4af")](n("19e5eb38f4e171")),
                    w[n("042327bb7dbc")] = x,
                    w[n("b47193ffccca9565c86890fb")] = x,
                    m.appendChild(w),
                    Mt[x] = new Audio(C.k + Mt[x]);
                U["1u"] && ((x = z[n("2250965047c38dfc465e815840cb")](n("e29cd4818f18c6")))[n("d3f2b4aa22ed")] = n("5181a6f7a1a93a"),
                x[n("c146268c3175a896bd5f2588")] = n("7ac849fe0a602d"),
                m.appendChild(x),
                Mt[n("e9191e6f193182")] = new Audio(U["1u"])),
                m.value = U["1c"],
                m.addEventListener(n("36a490a8542c99"), function() {
                    var X = Mt[U["1c"]];
                    X && X.pause(),
                    U["1c"] = this.value,
                    (X = Mt[U["1c"]]) && X.play(),
                    Te()
                }),
                (x = z[n("d600fd1d9f87f980bb01d4339bbac0")](n("c5c1330a64d6ae1da9db3df43eb2"))).value = U["1d"],
                x.addEventListener(n("d76bb12b356b38"), function() {
                    U["1d"] = parseInt(this.value),
                    Te()
                }),
                x = z[n("63730022a2748c370e72191c966995")](n("c0e67661e97673e5bbf678"));
                for (S of Object.keys(Vo))
                    m = z[n("86743a7cebef29d8e27a3d44fcd7")](n("a01e9287cd9a88")),
                    m[n("5a1d7d012b8a")] = S,
                    m[n("684dcfc318fec1510424dcb7")] = S,
                    x.appendChild(m);
                x.value = U["1o"],
                U["1o"].toString() != n("fc7d") && (z[n("be3ef534b0aad7b0aa32eb2da5a9")](n("31c0dc00cc"))[n("8caeba26fc04")][n("e0d25741975a54")] = n("9e5a125d8a94") + Vo[U["1o"]] + n("7aac15a84c4c6523b2f231e1e9")),
                x.addEventListener(n("bdcd57112fd5a6"), function() {
                    U["1o"] = this.value,
                    this.value != n("1213") ? z[n("18982f0e6e140d8a4c9401074b07")](n("9326fae26e"))[n("3230803c5aa2")][n("1f3354e0d03bd7")] = n("585ce8c7748a") + Vo[this.value] + n("0a3ce5383cdcf5932242a15179") : z[n("e1231671172fb47d853f0868022c")](n("59a8b4e8a4"))[n("9c9eaa16cc14")][n("140623956b8628")] = "",
                    Te()
                }),
                z[n("72e451f1336b5d641fe548cf074624")](n("39d9d005d3e8561c24")).addEventListener(n("39c9d30dd3c95a"), function() {
                    var X, W = this.files[0];
                    W && ((X = new FileReader).onload = Y => {
                        U["1e"] = Y.target.result,
                        Te(),
                        location.reload()
                    }
                    ,
                    X.readAsText(W))
                }),
                z[n("dda93ae424be86f980b813da10938f")](n("ae481520c0851da9d3")).addEventListener(n("30621ae25ae213"), function() {
                    var X, W = this.files[0];
                    W && ((X = new FileReader).onload = Y => {
                        U["1j"] = Y.target.result,
                        Te(),
                        location.reload()
                    }
                    ,
                    X.readAsText(W))
                }),
                z[n("56807d9d1f0779003b8154b31b3a40")](n("a336c2d04e344c")).addEventListener(n("f0a25a229a2253"), function() {
                    var X, W = this.files[0];
                    W && ((X = new FileReader).onload = Y => {
                        U["1t"] = Y.target.result,
                        Te(),
                        location.reload()
                    }
                    ,
                    X.readAsDataURL(W))
                }),
                z[n("c2b4e1a1833bed34afb5f89fb716f4")](n("69a984e983ba29c91d87")).addEventListener(n("c634e038a4bce9"), function() {
                    var X, W = this.files[0];
                    W && ((X = new FileReader).onload = Y => {
                        U["1u"] = Y.target.result,
                        Te(),
                        location.reload()
                    }
                    ,
                    X.readAsDataURL(W))
                }),
                z[n("1d69faa4e47e46b94078d39ad0534f")](n("a7afdd6806b14c6ecc8fdd4d41")).value = n("e0941000") + U["1g"].toString(16).padStart(6, "0"),
                z[n("b78fdc5e7e805843da9eb5703abd21")](n("7511835ad4071a5c1e01935f73")).addEventListener(n("7022daa21aa2d3"), function() {
                    U["1g"] = parseInt(this.value.substring(1), 16),
                    C.Zh(),
                    Te()
                }),
                z[n("273f4ceeee30c8f34a0e45e0ca2dd1")](n("e600dc0bc78fc99c831cdfed9d71")).value = n("d72deb79") + U["1ad"].toString(16).padStart(6, "0"),
                z[n("f1051650300a92459c040f6e04279b")](n("77df0d98d6d8988f12d3ee9e6cc6")).addEventListener(n("cddd27e13fa5b6"), function() {
                    U["1ad"] = parseInt(this.value.substring(1), 16),
                    Te()
                }),
                z[n("3d49da84845e26992058b3bab0732f")](n("bf87b5406e9a2c55ac9ba656248e")).value = n("f8ec0878") + U["1v"].toString(16).padStart(6, "0"),
                z[n("b2a411b1f32b1d24dfa5088fc706e4")](n("d3f3a1b47ae630a9b0efb2a230e2")).addEventListener(n("c634e038a4bce9"), function() {
                    U["1v"] = parseInt(this.value.substring(1), 16),
                    C.Zh(),
                    Te()
                }),
                z[n("7501925cbc061e4118008b72783be7")](n("ddb92be24ca082fa81b90aeb02b385ef")).checked = U["1h"],
                z[n("f1051650300a92459c040f6e04279b")](n("eda91bd25c9092ca91891adb128395df")).addEventListener(n("5d2db7718f3506"), function() {
                    U["1h"] = this.checked,
                    Te()
                }),
                z[n("ff576406c658e01b62567d38f275e9")](n("0581f3caa4926ed07d8de0b5ff66")).checked = U["1ae"],
                z[n("2a5c89496bd395ac572d80074f8e9c")](n("87cffd8826d46892ffb3fe777da0")).addEventListener(n("a5f54f3947fdce"), function() {
                    U["1ae"] = this.checked,
                    Te()
                }),
                z[n("f3c3909232c41c879ec289ac06f9e5")](n("422470276bba6aba23296f312b")).checked = U["1z"],
                et.visible = U["1z"],
                z[n("4551a28c8c562e912850bb42a80b37")](n("9333e1f43a257be9f23efee27a")).addEventListener(n("f74b910b154b18"), function() {
                    U["1z"] = this.checked,
                    et.visible = U["1z"],
                    Te()
                }),
                z[n("ac9a8b0bf5ed976ed16b82c5c1c09e")](n("24021285058e1d145e110a8c5b681cf0")).checked = U["1aa"],
                z[n("536330329264bc273e62290ca65985")](n("86603c6ba7ec3bf2fc733452f9ca3ad6")).addEventListener(n("b78bd14b558b58"), function() {
                    U["1aa"] = this.checked,
                    Te(),
                    Ga.location.reload()
                }),
                z[n("d44273d39dc57f46b9436aed99f846")](n("3f0735c0ee03b1c4341320d4b8")).checked = U["1ac"],
                z[n("dc4a7bdba5dd475e815b52f591f04e")](n("fa7cc87fd3f8b4e37178ad7b75")).addEventListener(n("5b6f352fb17784"), function() {
                    U["1ac"] = this.checked,
                    Te(),
                    Ga.location.reload()
                }),
                z[n("72e451f1336b5d641fe548cf074624")](n("ec4a5acdddb55f2284365dae96ba")).checked = U["1ab"],
                z[n("043223a34db52f3669333a9d69a836")](n("7b5b091cd2446c13f347ee1f694b")).addEventListener(n("21f1cb35cbf142"), function() {
                    U["1ab"] = this.checked,
                    Te(),
                    Ga.location.reload()
                }),
                z[n("c47263e38df56f76a9737adda9e876")](n("4d49bb72fc32216b3327b961ad333d65313aba62")).checked = U["1k"],
                z[n("ab3bc8ea6a0c54cfd60ac1e44e215d")](n("77df0d98d6dc8f8119d1ef9b77cd639febccec88")).addEventListener(n("6d3d87419f0516"), function() {
                    U["1k"] = this.checked,
                    Te()
                }),
                z[n("b303d0d272045cc7de02c9ec463925")](n("0c2a3aad3d8d3d14660025")).checked = U["1n"],
                z[n("8353e00242546c17ee52f93c760975")](n("ec4a5acdddad5d34862045")).addEventListener(n("0c3e26be7e8637"), function() {
                    U["1n"] = this.checked,
                    Te(),
                    Ga.location.reload()
                }),
                z[n("6d398a54b40e16491008836a80231f")](n("23a351648ab0da7642af59")).checked = U["1l"],
                ti.visible = U["1l"],
                z[n("7aec59f93b63257ce7fd30d7ff5e2c")](n("c303b1c46a103ad6a20fb9")).addEventListener(n("0270ac7468f0ad"), function() {
                    U["1l"] = this.checked,
                    ti.visible = U["1l"],
                    Te()
                }),
                z[n("67ff0caeaef088b30ace05a08aed91")](n("371f4dd8961fd5c1481123dbaf1db1df220b")).checked = U["1s"],
                z[n("782edfbf39a1db22e53fb691fd9ca2")](n("bdd94b026cc1ab1bb2d7251125d3bf15a8cd")).addEventListener(n("a2d00cd4c8500d"), function() {
                    U["1s"] = this.checked,
                    Te()
                }),
                z[n("1d69faa4e47e46b94078d39ad0534f")](n("783eceb951a5cd3de532ada1e0b9af24fc")).checked = U["1m"],
                ai.visible = U["1m"],
                z[n("439320428294ac572e92397cb649b5")](n("9adc28dfb3471343c7d00bc7c25b014ade")).addEventListener(n("fd8d17d1ef9566"), function() {
                    U["1m"] = this.checked,
                    ai.visible = U["1m"],
                    Te()
                }),
                z[n("e1350660203a82758c341f5e14178b")](n("a006968189868303dc10849cdfd0871b")).textContent = n("9ca49a4a9330c7c194") + C.Nd,
                z[n("7026d7b731a9d32a1d27ce890584da")](n("272f5de8862fc8ea5b095fc5c049d7d35e045d")).textContent = n("acbf9b16dce5d730f520c4b7") + n("6b2e5d6cda0dc1575e154043c518cb585e1f3c5dc9153233b30c")
            }
            var k, L = g[n("9fbec87148ba447bc2")];
            (k = Cl(m5(L))) && (g[n("d44b7fc4b3c77b46b9")] = L.slice(0, -7),
            g[n("67eb02b385d589")] = k[0],
            g[n("b30cd4d27e0c")] = k[1],
            g[n("cb19b4db3cc935")] = k[2],
            g[n("f6ead7fc8e63f569")] = k[3],
            g[n("d4427ac6abda7f589549")] = k[4]),
            L = this.v ? this.M[n("af95c24741ad51")] : v,
            this.v = !0,
            this.Yc = c + n("cc42") + f,
            this.M = g,
            b.I.Bb(b.I.Mg, c),
            L !== this.M[n("d77daa2f294539")] ? this.zi() : this.qg()
        }
        ,
        fe.prototype.Dl = function() {
            var c = this.v ? this.M[n("8fb5e267618d71")] : v;
            this.v = !1,
            this.Yc = _,
            this.M = {},
            b.I.Bb(b.I.Mg, ""),
            c !== this.M[n("de1ad31490bac0")] ? this.zi() : this.qg()
        }
        ,
        fe.prototype.Mm = function() {
            b.I.ec(b.I.Mg);
            var c = this
              , f = 1;
            (function g() {
                !fe.zf.Vl() && f++ < 5 ? G.ha(g, 1e3) : fe.zf.nm(function() {}, function(m) {
                    c.Yk(T, m.Ci)
                })
            }
            )()
        }
        ,
        fe.prototype.zi = function() {
            for (var c = 0; c < this.fi.length; c++)
                this.fi[c]();
            this.qg()
        }
        ,
        fe.prototype.qg = function() {
            for (var c = 0; c < this.ii.length; c++)
                this.ii[c]()
        }
        ,
        fe.prototype.xl = function() {
            fe.zf.um()
        }
        ,
        fe),
        b.Sp = (Wi.prototype.jd = function() {
            return this.ma
        }
        ,
        Wi.prototype.ud = function(c) {
            this.Aa = c,
            this.ma.visible = c
        }
        ,
        Wi.prototype.na = function() {
            this.Fc = this.Ec[n("b1555a80414e")](),
            this.Gc = this.Ec[n("64ddc35e0f51de")]();
            for (var c = this.Gc / 30, f = 0; f < this.Dd.length; f++)
                this.Dd[f].Ki(c)
        }
        ,
        Wi.prototype.Ga = function() {
            if (this.Aa)
                for (var c = 0; c < this.Dd.length; c++)
                    this.Dd[c].Ga(this.la)
        }
        ,
        Wi),
        b.Sg = (st.prototype.sa = async function(c) {
            var f = this;
            this.Ec = c,
            this.pd = c.get()[0],
            this.la = (c = {
                [n("ce3cf10fa482e7")]: f.pd,
                [n("4ebd71823904660a23897ca8361b740c")]: 0,
                [n("d5b625ed3fafa9e9b3ad3a")]: n(U["1a"] === 1 ? "9df97a3246e2d6" : "dc5a7bcd87dd")
            },
            await Xo(c)),
            this.Aa = !1,
            this.lb = new b.Gi(new Float32Array(3 * A)),
            this.Gc = this.Fc = 1,
            this.Ud = this.Td = this.Sd = this.Pd = this.gd = P.X,
            this.na(),
            E.B.Gg(function() {
                f.lb.gh()
            })
        }
        ,
        A = Math.min(100, b.ah.Sn),
        P = {
            X: n("3a7b90390e"),
            Jc: n("1c5d329b11"),
            Kc: n("13f47972a5")
        },
        st.prototype.ud = function(c) {
            this.Aa = c
        }
        ,
        st.prototype.na = function() {
            var c = G.e();
            this.Fc = this.Ec[n("b0f69b67c06d")](),
            this.Gc = this.Ec[n("e5be02f10eb29f")](),
            this.la.resize(this.Fc, this.Gc, c),
            this.pd.width = c * this.Fc,
            this.pd.height = c * this.Gc,
            c = this.Gc / 4,
            this.lb.Ki(c),
            c = G.Jd(2 * Math.floor(this.Fc / c) - 5, 1, A),
            this.lb.Hi(c)
        }
        ,
        st.prototype.Ya = function() {
            if (this.Aa) {
                var c = G.Tb() / 200
                  , f = Math.sin(c);
                this.lb.ol(this.Mn(this.gd, f), this.Qn(this.gd, f)),
                this.lb.Wn(this.cg(this.Pd, f), this.cg(this.Sd, f), this.cg(this.Td, f), this.cg(this.Ud, f));
                for (var f = this.lb.yd, g = this.lb.Y, m = this.lb.ed, x = this.Fc - .5 * (this.Fc - .5 * f * (g - 1)), S = .5 * this.Gc, w = 0, M = 0, O = -1; O < g; O++) {
                    var k = O
                      , L = Math.cos(+k / 12 * 3.141592653589793 - c) * (1 - Math.pow(16, -1 * k / 12));
                    0 <= O && (m[3 * O] = x - .5 * f * k,
                    m[3 * O + 1] = S + .5 * f * L,
                    m[3 * O + 2] = Math.atan2(M - L, k - w)),
                    w = k,
                    M = L
                }
                this.lb.Ga(),
                this.lb.ho(this.la)
            }
        }
        ,
        st.prototype.Dc = function(c) {
            this.lb.Dc(c)
        }
        ,
        st.prototype.no = function(c) {
            this.gd = c ? P.Kc : P.Jc,
            this.Ud = this.Td = this.Sd = this.Pd = P.X
        }
        ,
        st.prototype.wo = function(c) {
            this.gd = P.X,
            this.Pd = c ? P.Kc : P.Jc,
            this.Ud = this.Td = this.Sd = P.X
        }
        ,
        st.prototype.Ao = function(c) {
            this.Pd = this.gd = P.X,
            this.Sd = c ? P.Kc : P.Jc,
            this.Ud = this.Td = P.X
        }
        ,
        st.prototype.Do = function(c) {
            this.Sd = this.Pd = this.gd = P.X,
            this.Td = c ? P.Kc : P.Jc,
            this.Ud = P.X
        }
        ,
        st.prototype.Ho = function(c) {
            this.Td = this.Sd = this.Pd = this.gd = P.X,
            this.Ud = c ? P.Kc : P.Jc
        }
        ,
        st.prototype.Mn = function(c, f) {
            switch (c) {
            case P.Jc:
                return .9 + .1 * f;
            case P.Kc:
                return .4 + .3 * f
            }
            return 1
        }
        ,
        st.prototype.Qn = function(c, f) {
            switch (c) {
            case P.Jc:
                return .6 + .5 * f;
            case P.Kc:
                return .3 + .3 * f
            }
            return 1
        }
        ,
        st.prototype.cg = function(c, f) {
            switch (c) {
            case P.Jc:
                return .9 + .1 * f;
            case P.Kc:
                return .6 + .4 * f
            }
            return 1
        }
        ,
        st),
        b.fl = (Yi.Cp = function(c) {
            return new Yi(c[n("fd9e0dd9e297")],c[n("782ecfae0fb9")],c[n("ebf282b00dd5088391c890")],c[n("69b484f28fab16c1138e96e7949304cd")],n("fd8a1ac3e2806ac4719fe8d6"),c[n("354fd3")],c[n("32378d3553")])
        }
        ,
        Yi.Mp = function(c) {
            return new Yi(c[n("e607da10899e")],c[n("140223826b9d")],c[n("338a5a48d59dc04b598058")],c[n("899464d26f8bf6a1f36e76877473e4ad")],n("87dcec8968ce648efba9fe6c"),c[n("1a42b8")],c[n("5532ae78bc")])
        }
        ,
        Yi),
        b.Fp = (is.prototype.Ze = function(c, f, g, m) {
            var x = this.Cd.resources.uniforms.uniforms.uColorOverlay;
            x[0] = c,
            x[1] = f,
            x[2] = g,
            x[3] = m
        }
        ,
        is.prototype.Fm = function(c) {
            this.Cd.resources.uTexture = c.source,
            this.Cd.resources.uSampler = c.source.style
        }
        ,
        is.prototype.Ga = function(c, f, g, m) {
            this.Wd.position.x = c,
            this.Wd.position.y = f,
            this.Wd.scale.x = g,
            this.Wd.scale.y = m;
            var x = this.Cd.resources.uniforms.uniforms.uTextureScale;
            x[0] = .2520615384615385 * g,
            x[1] = .4357063736263738 * m,
            (g = this.Cd.resources.uniforms.uniforms.uTextureOffset)[0] = .2520615384615385 * c,
            g[1] = .4357063736263738 * f
        }
        ,
        is),
        b.nc = (Wt.prototype.uc = function(c) {
            this.L.texture = c.ig(),
            this.L.anchor.set(c.Yn, c.db),
            this.Rk = c.jo,
            this.Tk = c.po
        }
        ,
        Wt.prototype.Ze = function(c) {
            this.L.tint = parseInt(c.substring(1), 16)
        }
        ,
        Wt.prototype.Xb = function(c) {
            this.L.width = c * this.Rk,
            this.L.height = c * this.Tk
        }
        ,
        Wt.prototype.xj = function(c) {
            this.L.rotation = c
        }
        ,
        Wt.prototype.Hf = function(c, f) {
            this.L.position.set(c, f)
        }
        ,
        Wt.prototype.Qa = function(c) {
            this.L.visible = c
        }
        ,
        Wt.prototype.Cf = function() {
            return this.L.visible
        }
        ,
        Wt.prototype.Sa = function(c) {
            this.L.alpha = c
        }
        ,
        Wt.prototype.Bd = function() {
            G.Ta(this.L)
        }
        ,
        Wt),
        b.Vf = (Qe.prototype.Ue = function() {
            this.Ha != null && G.Ta(this.Ha.ma),
            this.ka != null && G.Ta(this.ka),
            this.aa != null && G.Ta(this.aa)
        }
        ,
        Qe.prototype.ui = function() {
            this.lg(.25),
            this.S.Db = "",
            this.od = !0,
            this.qa = {},
            this.Qa(!1)
        }
        ,
        Qe.prototype.Pj = function(c) {
            this.S = c,
            this.wi(this.sb)
        }
        ,
        Qe.prototype.Qa = function(c) {
            var f = this.sb;
            this.sb = c,
            this.wi(f)
        }
        ,
        Qe.prototype.lg = function(c) {
            this.Vb = 50 * c;
            var f = c
              , g = (c > this.K.og && (f = Math.atan((c - this.K.og) / this.K.Oh) * this.K.Oh + this.K.og),
            f = Math.sqrt(4 * Math.pow(5 * f, .707106781186548) + 25),
            Math.min(200, Math.max(3, 5 * (f - 5) + 1)));
            if (c = this.ab,
            this.yb = .025 * (5 + .9 * f),
            this.ab = Math.floor(g),
            this.ai = g - this.ab,
            0 < c && c < this.ab)
                for (var f = this.Wb[2 * c - 2], g = this.Wb[2 * c - 1], m = this.Za[2 * c - 2], x = this.Za[2 * c - 1], S = this.ia[2 * c - 2], w = this.ia[2 * c - 1]; c < this.ab; c++)
                    this.Wb[2 * c] = f,
                    this.Wb[2 * c + 1] = g,
                    this.Za[2 * c] = m,
                    this.Za[2 * c + 1] = x,
                    this.ia[2 * c] = S,
                    this.ia[2 * c + 1] = w
        }
        ,
        Qe.prototype.Ro = function(c, f) {
            for (this.ab = f,
            f = 0; f < this.ab; f++)
                this.Wb[2 * f] = this.Za[2 * f] = this.ia[2 * f] = c(),
                this.Wb[2 * f + 1] = this.Za[2 * f + 1] = this.ia[2 * f + 1] = c()
        }
        ,
        Qe.prototype.nk = function(c, f, g) {
            for (this.tf = g,
            g = 0; g < this.ab; g++)
                this.Wb[2 * g] = this.Za[2 * g],
                this.Wb[2 * g + 1] = this.Za[2 * g + 1];
            this.Kl(c - this.Za[0], f - this.Za[1], this.ab, this.Za)
        }
        ,
        Qe.prototype.Kl = function(c, f, g, m) {
            var x = G.dh(c, f);
            if (!(x <= 0)) {
                var S = m[0];
                m[0] += c,
                c = m[1],
                m[1] += f;
                for (var w = 1 - 2 * (f = this.yb / (this.yb + x)), M = 1, O = g - 1; M < O; M++) {
                    var k = m[2 * M];
                    m[2 * M] = m[2 * M - 2] * w + (k + S) * f,
                    S = k,
                    m[2 * M + 1] = m[2 * M - 1] * w + ((k = m[2 * M + 1]) + c) * f,
                    c = k
                }
                f = this.ai * this.yb / (this.ai * this.yb + x),
                m[2 * g - 2] = m[2 * g - 4] * (w = 1 - 2 * f) + (m[2 * g - 2] + S) * f,
                m[2 * g - 1] = m[2 * g - 3] * w + (m[2 * g - 1] + c) * f
            }
        }
        ,
        Qe.prototype.Ke = function() {
            return {
                ob: this.ia[0],
                pb: this.ia[1]
            }
        }
        ,
        Qe.prototype.vh = function(c, f) {
            for (var g = 1e6, m = c, x = f, S = 0; S < this.ab; S++) {
                var w = this.ia[2 * S]
                  , M = this.ia[2 * S + 1]
                  , O = G.dh(c - w, f - M);
                O < g && (g = O,
                m = w,
                x = M)
            }
            return {
                ob: m,
                pb: x,
                kg: g
            }
        }
        ,
        Qe.prototype.Wj = function(c) {
            this.gl = c
        }
        ,
        Qe.prototype.Kf = function(c, f) {
            this.Wa = G.Q(this.Wa, this.od ? this.tf ? .9 + .1 * Math.cos(c / 400 * 3.141592653589793) : 1 : 0, f, .00125),
            this.Hg = G.Q(this.Hg, !this.od || this.tf ? 1 : 0, f, .0025),
            this.Ha != null && (this.Ha.ma.alpha = this.Wa),
            this.ka != null && (this.ka.alpha = this.Wa)
        }
        ,
        Qe.prototype.Pf = function(c, f, g, m) {
            if (this.sb && this.od)
                for (var x = Math.pow(.11112, f / 95), S = 0; S < this.ab; S++) {
                    var w = G.Nf(this.Wb[2 * S + 1], this.Za[2 * S + 1], g);
                    this.ia[2 * S] = G.Nf(G.Nf(this.Wb[2 * S], this.Za[2 * S], g), this.ia[2 * S], x),
                    this.ia[2 * S + 1] = G.Nf(w, this.ia[2 * S + 1], x)
                }
            if (this.Ha != null && this.sb && this.Ha.Nl(this, c, f, m),
            this.ka != null && (this.ka.Oe.x = this.ia[0],
            this.ka.Oe.y = this.ia[1] - 3 * this.yb),
            this.aa != null && U["1s"]) {
                for (var M in this.aa.x = this.ka.position.x,
                this.aa.y = this.ka.position.y + 1,
                this.aa.mc)
                    this.qa[M] != null && this.qa[M].Aa || (this.aa.removeChild(this.aa.mc[M]),
                    delete this.aa.mc[M]);
                for (var O in c = 0,
                this.qa)
                    (f = this.qa[O]) && f.Aa && (g = this.aa.mc[O],
                    g || (f = E.B.V().eh(f.ua).Na,
                    this.aa.mc[O] = new we(f.ig()),
                    g = this.aa.mc[O],
                    g.width = 30,
                    g.height = 30,
                    this.aa.addChild(g)),
                    g.x = c,
                    c += 35);
                this.aa[n("95f67e3e76fe")].x = .5 * this.aa.width,
                this.aa[n("3cfd17792f65")].y = this.aa.height
            }
        }
        ,
        Qe.prototype.wi = function(c) {
            this.sb ? c || this.Ql() : (this.Ha != null && G.Ta(this.Ha.ma),
            this.ka != null && G.Ta(this.ka),
            this.aa != null && G.Ta(this.aa))
        }
        ,
        Qe.prototype.Ql = function() {
            this.Ha == null ? this.Ha = new b.ah : G.Ta(this.Ha.ma),
            this.Ha.Zd(E.l.K.sd, E.B.V().Ff(this.S.qi), E.B.V().Ee(this.S.oa), E.B.V().pj(this.S.Mb), E.B.V().rj(this.S.wb), E.B.V().wj(this.S.Pb), E.B.V().$g(this.S.eb), "#ffffff"),
            this.ka == null ? (this.ka = new je({
                text: "",
                style: {
                    fontFamily: "PTSans"
                }
            }),
            this.ka.Oe = {
                x: 0,
                y: 0
            },
            this.ka.anchor.set(.5, 0)) : G.Ta(this.ka),
            this.aa == null ? (this.aa = new le,
            this.aa.mc = {}) : G.Ta(this.aa),
            this.ka.style.fontSize = U["1w"],
            E.B.V().Ee(this.S.oa),
            this.ka.style.fill = U["1v"],
            this.ka.text = this.S.Db,
            this.gl.On(this.S.T, this.Ha, this.ka, this.aa)
        }
        ,
        Qe.Tf = function() {
            this.T = 0,
            this.qi = b.de.gf,
            this.eb = this.Pb = this.wb = this.Mb = this.oa = 0,
            this.Db = ""
        }
        ,
        Qe),
        b.dj = (kt.prototype.cm = function(c) {
            return new kt(c,this.Jb,this.Nb,this.xb,this.Qb)
        }
        ,
        kt.prototype.im = function(c) {
            return new kt(this.Ja,c,this.Nb,this.xb,this.Qb)
        }
        ,
        kt.prototype.om = function(c) {
            return new kt(this.Ja,this.Jb,c,this.xb,this.Qb)
        }
        ,
        kt.prototype.vm = function(c) {
            return new kt(this.Ja,this.Jb,this.Nb,c,this.Qb)
        }
        ,
        kt.prototype.Am = function(c) {
            return new kt(this.Ja,this.Jb,this.Nb,this.xb,c)
        }
        ,
        kt),
        b.Gi = (I = new b.dj(0,0,0,0,0),
        Ut.prototype.jd = function() {
            return this.H.ma
        }
        ,
        Ut.prototype.Hi = function(c) {
            if (this.Y = c,
            this.H.Y !== c) {
                for (var f = c; f < this.H.o.length; f++)
                    this.H.o[f].za();
                for (; this.H.Y > c; )
                    --this.H.Y,
                    (f = this.H.o[this.H.Y]).id.Bd(),
                    f.O.Bd();
                for (; this.H.Y < c; )
                    f = this.H.o[this.H.Y],
                    this.H.Y += 1,
                    this.H.ma[n("996b7fa85e66f6bcc5")](f.O.L),
                    this.H.ma[n("aada08d9ed57192dd6")](f.id.L),
                    f.O.Sa(this.Rg),
                    f.id.Sa(this.Tg);
                for (c = 0; c < this.H.P.td.length; c++)
                    this.H.P.td[c].Sa(this.Wg);
                for (c = 0; c < this.H.P.vd.length; c++)
                    this.H.P.vd[c].Sa(this.Yg);
                for (c = 0; c < this.H.P.Sc.length; c++)
                    this.H.P.Sc[c].Sa(this.Zg);
                for (c = 0; c < this.H.P.wd.length; c++)
                    this.H.P.wd[c].Sa(this.bh)
            }
        }
        ,
        Ut.prototype.Dc = function(c) {
            this.dd = c,
            this.Og = n("cd9b7db337a4b5e2b3a0"),
            this.gh()
        }
        ,
        Ut.prototype.Dm = function(c) {
            this.dd = I,
            this.Og = c,
            this.gh()
        }
        ,
        Ut.prototype.gh = function() {
            this.H.Zd(b.Nc.fk, null, E.B.V().Ee(this.dd.Ja), E.B.V().pj(this.dd.Jb), E.B.V().rj(this.dd.Nb), E.B.V().wj(this.dd.Qb), E.B.V().$g(this.dd.xb), this.Og)
        }
        ,
        Ut.prototype.Ki = function(c) {
            this.yd = c
        }
        ,
        Ut.prototype.ol = function(c, f) {
            for (this.Rg = c,
            this.Tg = f,
            c = 0; c < this.Y; c++)
                (f = this.H.o[c]).O.Sa(this.Rg),
                f.id.Sa(this.Tg)
        }
        ,
        Ut.prototype.Wn = function(c, f, g, m) {
            for (this.Wg = c,
            this.Yg = f,
            this.Zg = g,
            this.bh = m,
            c = 0; c < this.H.P.td.length; c++)
                this.H.P.td[c].Sa(this.Wg);
            for (c = 0; c < this.H.P.vd.length; c++)
                this.H.P.vd[c].Sa(this.Yg);
            for (c = 0; c < this.H.P.Sc.length; c++)
                this.H.P.Sc[c].Sa(this.Zg);
            for (c = 0; c < this.H.P.wd.length; c++)
                this.H.P.wd[c].Sa(this.bh)
        }
        ,
        Ut.prototype.Ga = function() {
            var c, f, g, m = 2 * this.yd, x = 3 * this.yd;
            for (0 < this.Y && (c = this.ed[0],
            f = this.ed[1],
            g = this.ed[2],
            this.H.o[0].ja(c, f, m, x, g),
            this.H.P.ja(c, f, m, g)),
            c = 1; c < this.Y; c++)
                this.H.o[c].ja(this.ed[3 * c], this.ed[3 * c + 1], m, x, this.ed[3 * c + 2])
        }
        ,
        Ut.prototype.ho = function(c) {
            c.render({
                container: this.H.ma
            })
        }
        ,
        Ut),
        b.i = (He.cc = $(n("1f7513a1c135c6fd402a46efc53880fd4e0e47c3c0")),
        He.fc = $(n("daceaedead1bd2149690ccd88418d0")),
        He.hc = $(n("df35d361107b063f8674c4381e6819318153")),
        He.ic = $(n("cd9b7db33ca3a1efa0b67aff2babab")),
        He.kc = $(n("a37197a5403944ff862ac4fb58")),
        He.Kb = $(n("dba9effd2df512a78fe096fb11f10cad")),
        He.oc = $(n("0157b107e8176e562417ee52f853792974f5")),
        He.Yb = $(n("483cb8a83cf2fe6a200ce4ca31d2")),
        He.pc = $(n("81d731877199e6cbfd9f79917b97eab7")),
        He.qc = $(n("e3b1d7e50bf708be82f28af319c91495")),
        He.rc = $(n("74e084740a2cc9bf0ea4dd3be535efa5edb0b1")),
        He.sc = $(n("f1474117101485478b471c4d090b8851785fe05beb18625b7d13e452a008662566")),
        He.tc = $(n("f46004f49dbb48248e6059ae6db46f306b3b28b26bad2334627038b67596")),
        He.prototype.C = function() {}
        ,
        He.prototype.gb = function() {}
        ,
        He.prototype.da = function() {}
        ,
        He.prototype.fe = function() {}
        ,
        He.prototype.na = function() {}
        ,
        He.prototype.Ya = function() {}
        ,
        He),
        b.Ul = (F = $(n("ec181c8c96a85c22986855a688bd532492")),
        D = $(n("edfb5d93178b9dc599cb14c7179e92c2888b")),
        H = $(n("67bd5be988f383b91dc10591dec692")),
        N = $(n("79cfc99f88801386f69837d77f92eb80bd9532de")),
        j = $(n("cd9b7db337abbde5b9eb3aed2ab9baebb8")),
        re = $(n("ae1a4272d4aa1aa4da6a0b2ad5b919")),
        ce = $(n("2d3b9dd3d74b5d85590bc784d8495e")),
        Z = $(n("a93f19ef4b77c181dd0f518b5454d3")),
        q = $(n("e5f355ab0ebb86f9c0bd0ece078380")),
        (Q = G.fa(b.i, function() {
            b.i.call(this, b.fb.nd);
            var c = this
              , f = q.get()[0];
            F.text(G.N(n("ea92c2998b079ee6936ed12b84e2cbfc967f927997fbacf4"))),
            D.text(G.N(n("027aaa7163efe6fe6b76a9337cfaa3d47e57fa4679c9acc0745eb9"))),
            D.click(function() {
                E.h.J(E.h.pa)
            }),
            De.hj = () => {
                C.Fe = !C.Fe
            }
            ,
            De.rh = () => {
                var m, x = E.l.U, S = C.bd;
                S.length && x.Ha && (m = S.indexOf(x.S.oa),
                x.Ha.aj(m === -1 ? S[0] : S[(m + 1) % S.length]))
            }
            ,
            De.xm = () => {
                var m, x = E.l.U, S = C.Uh;
                S.length && (m = S.indexOf(x.S.eb),
                x.Ha.Al(m === -1 ? S[0] : S[(m + 1) % S.length]))
            }
            ,
            De.kd = () => {
                C.Ne && Ui && Ui(C.Ne, C.bg)
            }
            ,
            De.qm = () => {
                ba(1)
            }
            ,
            De.Ii = () => {
                var m, x = Object.keys(Ia);
                x.length && (m = x.indexOf(U["1b"]),
                U["1b"] = m === -1 ? x[0] : x[(m + 1) % x.length],
                C.Sh())
            }
            ,
            De.Kk = () => {
                try {
                    C.Ra && C.Ra.send(Bi(JSON.stringify({
                        [n("be2e")]: 2
                    })))
                } catch {}
            }
            ;
            let g = [pa, ii];
            $(n("f26bc0689a")).keydown(function(m) {
                m.keyCode === 32 && (c.Rb = !0)
            }).keyup(function(m) {
                var x;
                m.target.type !== n("4227612d32") && ((x = m.code) === n("82d821ecd7") ? De.hj() : x === n("49f1ae058b") ? De.rh() : x === n("457da28181") ? (U["1ae"] && (Jr.pause(),
                Jr.play()),
                De.Kk()) : x === n("d0ea775a93") ? De.xm() : x === n("c9712e851f") ? De.kd() : x === n("94aeb31ec2") ? De.qm() : x === n("27134ce3e8") ? De.Ii() : x === n("8b77e80745") ? C.Me = !C.Me : x === n("e9110e6521") ? C.Le = !C.Le : x === n("38421ff272") ? (E.h.D.F.Ba.Ic = !E.h.D.F.Ba.Ic,
                E.h.D.F.jb.visible = E.h.D.F.Ba.Ic,
                E.h.D.F.Ba.Ga(E.h.D.F.Ba.mc)) : x === n("748bc32a0828de8a18a9") ? ba(C.lc + U["1i"]) : x === n("9dc06a3d51f3c707d0f4532a48f9df") && ba(C.lc - U["1i"]),
                m.keyCode === 32) && (c.Rb = !1)
            }),
            f.addEventListener(n("10963a067109"), m => {
                C.Vh && (m.deltaY < 0 ? ba(C.lc + U["1i"]) : ba(C.lc - U["1i"]))
            }
            , {
                capture: !0,
                passive: !0
            }),
            f.addEventListener(n("a96e44a94e76c28fc747"), function(m) {
                var x, S;
                m && U["1f"] === 0 && !C.Fe && (m = m.touches[0],
                x = .5 * f.offsetWidth,
                S = .5 * f.offsetHeight,
                n("470d27deae1aa4d02ae4") != typeof m.clientX ? c.wc = Math.atan2(m.clientY - S, m.clientX - x) : c.wc = Math.atan2(m.pageY - S, m.pageX - x),
                m = Math.min(Math.sqrt((x - m.pageX) * (x - m.pageX) + (S - m.pageY) * (S - m.pageY)), 110),
                et.position.x = x + m * Math.cos(c.wc),
                et.position.y = S + m * Math.sin(c.wc))
            }, {
                capture: !0,
                passive: !0
            }),
            f.addEventListener(n("08ad252e6f353dab719326"), function(m) {
                m.preventDefault(),
                U["1f"] !== 2 && U["1f"] !== 3 && m && (c.Rb = 2 <= m.touches.length)
            }, !0),
            f.addEventListener(n("c300aac324102cd4af"), function(m) {
                U["1f"] !== 2 && U["1f"] !== 3 && m && (c.Rb = 2 <= m.touches.length)
            }, {
                capture: !0,
                passive: !0
            }),
            f.addEventListener(n("1d63f0a5d2774ebb5373"), function(m) {
                !m || C.Fe || m.shiftKey || (c.wc = Math.atan2(m.clientY - .5 * f.offsetHeight, m.clientX - .5 * f.offsetWidth))
            }, !0),
            f.addEventListener(n("a4988902db1c8e94db93"), function() {
                c.Rb = !0
            }, !0),
            f.addEventListener(n("423e6b2035b27da9"), function() {
                c.Rb = !1
            }, !0),
            f.addEventListener(n("caabe3b4a02bf513bf8ce280"), function(m) {
                var x, S;
                ei && m.pointerId === Fl ? (ei.Ih = !0,
                ei.parent[n("2f145eeedc07d4ca")]({
                    x: m.clientX,
                    y: m.clientY
                }, null, ei.position)) : Qa.any && (Ct && m.pointerId === Wo && (x = Ct.height / 2,
                S = Math.max(x, Math.min(Ct.parent[n("997e7480726dfebc")]({
                    x: m.clientX,
                    y: m.clientY
                }).y, Ct.parent.height - x)),
                Ct.parent.Xi((Ct.parent.height - Ct.height - (S - x)) / (Ct.parent.height - Ct.height), 1)),
                J.sg || m.pointerId !== J.$a || J.Uo(m))
            }, {
                capture: !0,
                passive: !0
            }),
            f.addEventListener(n("387915e252f91b7d3561"), function(m) {
                ei = null,
                Qa.any && (Ct = null,
                Wo = -1,
                et.$a === m.pointerId && (et.$a = -1,
                et.alpha = .25),
                J.sg || m.pointerId !== J.$a || (J.visible = J.hi,
                J.To(),
                J.$a = -1))
            }, {
                capture: !0,
                passive: !0
            }),
            Qa.any && (C.bi = c,
            f.addEventListener(n("042529be66ad2f29683239b1"), function(m) {
                if (et.$a === -1 && (et.$a = m.pointerId,
                et.alpha = 1),
                !J.sg) {
                    for (var x of g)
                        if (m.clientX >= x.x && m.clientX <= x.x + x.width && m.clientY >= x.y && m.clientY <= x.y + x.height)
                            return;
                    J.pg || J.$a !== -1 || (J.$a = m.pointerId,
                    J.x = m.clientX,
                    J.y = m.clientY,
                    J.visible = !0,
                    J.Bk())
                }
            }, {
                capture: !0,
                passive: !0
            }))
        })).prototype.C = function() {}
        ,
        Q.prototype.gb = function() {
            R.g(b.i.cc, 50),
            R.g(b.i.fc, 1),
            R.g(b.i.hc, 50),
            R.g(b.i.ic, 50),
            R.A(b.i.kc, 500),
            this.Ka === se.cf ? R.g(b.i.Kb, 1) : R.A(b.i.Kb, 500),
            R.g(b.i.oc, 50),
            R.g(b.i.Yb, 50),
            R.g(b.i.pc, 50),
            R.g(b.i.qc, 50),
            R.g(b.i.rc, 50),
            R.g(b.i.sc, 50),
            R.g(b.i.tc, 50)
        }
        ,
        Q.prototype.cf = function() {
            return this.Ka = se.cf,
            this
        }
        ,
        Q.prototype.Lh = function() {
            return R.g(H, 1),
            G.ha(function() {
                R.A(H, 500)
            }, 3e3),
            R.g(N, 1),
            G.ha(function() {
                R.A(N, 500)
            }, 500),
            this.Ka = se.Lh,
            this
        }
        ,
        Q.prototype.da = function() {
            this.Rb = !1,
            this.F.na()
        }
        ,
        Q.prototype.na = function() {
            this.F.na()
        }
        ,
        Q.prototype.Ya = function(c, f) {
            this.F.Ya(c, f)
        }
        ,
        Q.prototype.Oo = function(c, f, g) {
            var m;
            1 <= f && f <= 10 ? (f = G.N(n("adf7410454da9d03d4cb52464bcfc819d1da11002dd3a011ebdf") + f),
            m = G.N(n("bf99af56268c6b51a695ac1439993e4ba374ff323f6536239e669b253a7e39")),
            G.N(n("ea92c2998b079ee6936ed12b85e8dbe09b67927e96eeb2f45076b7606ae3e6f46f68bf5a61f0b4")).replace(n("34a04145082c4dcf"), g).replace(n("be6ab713f3f6b391"), c).replace(n("6256133754d21fbd"), f)) : (f = "",
            m = G.N(n("cdd721e434bafde3b4ab32a62bafa8f9b1ba71e413ababfd91")),
            G.N(n("621a4a11038f069e0b1649531d90536813ef1af61e664a6c28ee4ff8127b6e7ce7e037dbe96525")).replace(n("2692dffb1a1edb79"), g).replace(n("fb89caac4e95b6b6"), c)),
            j.html(G.N(n("322a9a2153bfd6ae5b2699634caa73a42e272a2c29a27a"))),
            re.html(c),
            ce.html(f),
            Z.html(m)
        }
        ,
        Q.prototype.sa = async function() {
            this.F = new b.ap,
            await this.F.sa(q),
            this.Ka = se.cf,
            this.wc = 0,
            this.Rb = !1
        }
        ,
        se = {
            cf: 0,
            Lh: 1
        },
        Q),
        b.$n = (te = $(n("2c585ccc5c6e13e75deb112a487b15ec4ee80d7c6d72edfd30")),
        Ie = $(n("8311b7456b57681ee252ea537f327ee5e121e6f53a2a78f8")),
        Tt = $(n("46f23aea26346d3927b177cc22117b0224826b9a771f79152a")),
        (Q = G.fa(b.i, function() {
            b.i.call(this, b.fb.nd),
            this.Th = -1,
            this.lf = ""
        })).prototype.C = function() {}
        ,
        Q.prototype.gb = function() {
            R.A(b.i.cc, 500),
            R.A(b.i.fc, 1),
            R.g(b.i.hc, 50),
            R.g(b.i.ic, 50),
            R.g(b.i.kc, 50),
            R.g(b.i.Kb, 50),
            R.g(b.i.oc, 50),
            R.g(b.i.Yb, 50),
            R.g(b.i.pc, 50),
            R.A(b.i.qc, 500),
            R.g(b.i.rc, 50),
            R.g(b.i.sc, 50),
            R.g(b.i.tc, 50)
        }
        ,
        Q.prototype.da = function() {}
        ,
        Q.prototype.fe = function() {}
        ,
        Q.prototype.ip = function() {
            this.qf("", 0),
            R.A(te, 100)
        }
        ,
        Q.prototype.Uk = function() {
            R.g(te, 100)
        }
        ,
        Q.prototype.qf = function(c, f) {
            this.lf !== c && (this.lf = c),
            c = G.Jd(Math.floor(100 * f), 0, 100),
            this.Th !== c && (Ie.css(n("3cfa176b3479"), c + n("57ad6bff")),
            Tt.html(c + n("79cfc99cd8dc4a")))
        }
        ,
        Q),
        b.bm = (ne = $(n("7e2a7222effe69f9ef792d34fef43c")),
        $(n("253395ebc47706b04470cacdd2475d905054")),
        $(n("475d7b89a611e0d226ee34efb1eba1b238e5")),
        de = $(n("c593754b24d7e61ea2ca3bef3cefb1f1a1b238e62a")),
        Ni = $(n("66d21aca071601100b91452c11ec5af1")),
        Ae = $(n("1f7513a1ce3988fa48394df3c53b")),
        Ot = $(n("039137c5ead5a49664dd6997e1a7bc7261ab7274f2bbea2779ad6f")),
        ga = $(n("c2f6b6e6ab3aa535a5bae8b4a038bd11a08cf397b314eb44ae8ee499")),
        $(n("6a5e1e4e03921d6404e65af15b735d710e")),
        ta = $(n("72a606b61b6a157a11e252a01d6e2e67")),
        ma = $(n("984ce8d8f180f31ccb188cded4878301")),
        ji = $(n("00f4706069386ba463b02476623836ab")),
        Vt = $(n("3bc90f1dd29dec41289d2b1ba88eac48")),
        _a = $(n("74e08474152497b817a4d062ef27a7a1a9b7b323fc36a4f6e0b4bd2b")),
        ya = $(n("d72deb793661703ebe62803f10390b3f8473873b0679")),
        Fa = $(n("69ffd9af80b342d0109092c986cb10c9148fd6c1928a1a")),
        xa = $(n("e89c1808815003de93b55b2c9a6846ab99b0")),
        va = $(n("fdcb4d83ec9f2ed56682eed7e7d76cc9688dfb")),
        Da = $(n("bc28ccbcadfc2f72a7616ff8a6b46674ab7460")),
        It = $(n("b34187955a0514dad70dc4cb4d5d28dca51b")),
        Gt = $(n("de4a92428f9e89869218da1c")),
        Bt = $(n("2f450391de0998ca52095dcfc91f")),
        Ft = $(n("8e3a6212ffce79d6f3532c40f4cc2f")),
        Xi = $(n("e5f355ab04b7c6ff82b701d35c809cdc")),
        ri = $(n("e5f355ab04b7c6ec81bf16c503cf92d2949216da")),
        si = $(n("f0e4007099281bb794a8432e8e604bbc65a32c326930")),
        Yo = $(n("5c88ac1c0d5c8fd00bdcc844454fcbd7")),
        $o = $(n("7543c51b9407565c110f8655735fe64cf55b65597b")),
        Ko = $(n("a37197a54a3504eac73dd4fb5d4d54dac349c3c75b")),
        qo = $(n("f22686369bea95f9966ac5688ca2acf47476a8")),
        (Q = G.fa(b.i, function() {
            b.i.call(this, b.fb.hf)
        })).prototype.sa = async function() {
            this.Th = -1,
            this.lf = "",
            this.ke = new b.Sg,
            await this.ke.sa(ta),
            Fa.click(function() {}),
            ta.click(function() {
                E.m.v && E.h.J(E.h.Qf)
            }),
            ma.click(function() {
                E.u.ok()
            }),
            ji.click(function() {
                E.u.No()
            }),
            ya.keypress(function(f) {
                f.keyCode === 13 && E.gi()
            }),
            xa.click(function() {
                E.gi()
            }),
            va.click(function() {
                E.gi()
            }),
            Da.click(function() {
                E.h.J(E.h.tj)
            }),
            Ft.click(function() {
                E.h.J(E.h.Af)
            }),
            It.click(function() {
                E.m.v && E.h.J(E.h.mj)
            }),
            Bt.click(function() {
                E.m.v && E.h.J(E.h.fj)
            }),
            Gt.click(function() {
                E.m.v && E.h.J(E.h.Dj)
            }),
            Xi.click(function() {
                E.m.v && E.h.J(E.h.Bf)
            }),
            this.Np();
            var c = b.I.ec(b.I.ej);
            c !== n("d2a2c6a09826") && c !== n("6a2f693c23cd") && (c = n("4bbd1f7b8141")),
            Fa.val(c)
        }
        ,
        Q.prototype.C = function() {
            var c = this;
            E.m.Bh(function() {
                E.m.v ? (E.u.ca(E.m.Cn(), b.s.Z),
                E.u.ca(E.m.Gn(), b.s.wa),
                E.u.ca(E.m.nl(), b.s.Da),
                E.u.ca(E.m.Ln(), b.s.Fa),
                E.u.ca(E.m.Pn(), b.s.Ea)) : (E.u.ca(E.yl(), b.s.Z),
                E.u.ca(0, b.s.wa),
                E.u.ca(0, b.s.Da),
                E.u.ca(0, b.s.Fa),
                E.u.ca(0, b.s.Ea))
            }),
            E.m.Bh(function() {
                xa.toggle(E.m.v),
                Da.toggle(!E.m.v),
                va.toggle(!E.m.v),
                Bt.toggle(E.m.v),
                Gt.toggle(E.m.v),
                Xi.toggle(E.m.v),
                It.toggle(!0),
                Ft.toggle(!0),
                E.m.v ? (Vt.hide(),
                si.html(E.m.nj()),
                ri.attr(n("ac8e9c1c"), E.m.uj()),
                Yo.html(E.m.Rd()),
                $o.width(100 * E.m.Sf() / E.m.Uf() + n("5563e53d")),
                Ko.html(E.m.Sf() + n("86327a29afa90ab8bc2f") + E.m.Uf()),
                qo.html(E.m.Rf()),
                ya.val(E.m.Md())) : (Vt.toggle(!E.Dg()),
                si.html(si.data(n("b94d4e894e5a"))),
                ri.attr(n("51b1a1e7"), Il),
                Yo.html(n("f719c9")),
                $o.width(n("ff00")),
                Ko.html(""),
                qo.html(1),
                ya.val(b.I.ec(b.I.ij)))
            }),
            E.u.Ah(function() {
                c.ke.Dc(E.u.zh())
            })
        }
        ,
        Q.prototype.gb = function() {
            R.A(b.i.cc, 500),
            R.A(b.i.fc, 1),
            R.A(b.i.hc, 500),
            R.A(b.i.ic, 500),
            R.g(b.i.kc, 50),
            R.g(b.i.Kb, 50),
            R.A(b.i.oc, 500),
            R.g(b.i.Yb, 50),
            R.g(b.i.pc, 50),
            R.g(b.i.qc, 50),
            R.g(b.i.rc, 50),
            R.g(b.i.sc, 50),
            R.g(b.i.tc, 50)
        }
        ,
        Q.prototype.xi = function() {
            R.A(ne, 500),
            R.A(de, 500),
            R.A(Ni, 500),
            R.g(Ae, 100)
        }
        ,
        Q.prototype.Ll = function() {
            R.g(ne, 100),
            R.g(de, 100),
            R.g(Ni, 100),
            R.A(Ae, 500)
        }
        ,
        Q.prototype.qf = function(c, f) {
            this.lf !== c && (this.lf = c),
            c = G.Jd(Math.floor(100 * f), 0, 100),
            this.Th !== c && (Ot.css(n("61a58af091be"), c + n("580ca89e")),
            ga.html(c + n("5fb553e2c6a6d0")))
        }
        ,
        Q.prototype.da = function() {
            this.ke.ud(!0)
        }
        ,
        Q.prototype.fe = function() {
            this.ke.ud(!1)
        }
        ,
        Q.prototype.na = function() {
            this.ke.na()
        }
        ,
        Q.prototype.Ya = function() {
            this.ke.Ya()
        }
        ,
        Q.prototype.Md = function() {
            return ya.val()
        }
        ,
        Q.prototype.Di = function() {
            return Fa.val()
        }
        ,
        Q.prototype.Np = function() {
            var c, f;
            E.Dg() || (Vt.show(),
            c = G.N(n("b0e89c67d17dd8e0d9e49f25d16c97e1eefc677db13b73f9a4f669709f7667f1a38f614bb55773")),
            f = encodeURIComponent(G.N(n("fee6aef5676bea7267faadb7677aa57320f2b5cf670da14b7ac8bbc24940b5436d8183de4f56a55b42e784d853"))),
            _a.append($('<a class="mm-skin-over-button" id="mm-skin-over-fb" target="_blank" href="https://www.facebook.com/dialog/share?app_id=861926850619051&display=popup&href=https%3A%2F%2Fwormate.io&redirect_uri=https%3A%2F%2Fwormate.io&hashtag=%23wormateio&quote=' + f + '"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDQ1NiA0NTYiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwYXRoIGQ9Ik0yNDQuMyA0NTZWMjc5LjdoLTU5LjN2LTcxLjloNTkuM3YtNjAuNGMwLTQzLjkgMzUuNi03OS41IDc5LjUtNzkuNWg2MnY2NC42aC00NC40Yy0xMy45IDAtMjUuMyAxMS4zLTI1LjMgMjUuM3Y1MGg2OC41bC05LjUgNzEuOWgtNTkuMVY0NTZ6IiBmaWxsPSIjZmZmIi8+PC9zdmc+"/>' + n("039136b5f4c8e8942e8f48") + c + n("475d7af9ee4e8bcd3fe13fe7e0c1f0f514ad6b8cbaa9ee8b")).click(function() {
                E.Wl(),
                G.ha(function() {
                    Vt.hide()
                }, 3e3)
            })))
        }
        ,
        Q),
        b.Co = ((Q = G.fa(b.i, function() {
            b.i.call(this, b.fb.nd)
        })).prototype.C = function() {}
        ,
        Q.prototype.gb = function() {
            R.g(b.i.cc, 50),
            R.g(b.i.fc, 1),
            R.g(b.i.hc, 50),
            R.g(b.i.ic, 50),
            R.g(b.i.kc, 50),
            R.g(b.i.Kb, 50),
            R.g(b.i.oc, 50),
            R.g(b.i.Yb, 50),
            R.g(b.i.pc, 50),
            R.g(b.i.qc, 50),
            R.g(b.i.rc, 50),
            R.g(b.i.sc, 50),
            R.g(b.i.tc, 50)
        }
        ,
        Q),
        b.Kn = ((Q = G.fa(b.i, function() {
            b.i.call(this, b.fb.nd)
        })).prototype.C = function() {}
        ,
        Q.prototype.gb = function() {
            R.A(b.i.cc, 500),
            R.A(b.i.fc, 1),
            R.g(b.i.hc, 50),
            R.g(b.i.ic, 50),
            R.g(b.i.kc, 50),
            R.g(b.i.Kb, 50),
            R.g(b.i.oc, 50),
            R.g(b.i.Yb, 50),
            R.g(b.i.pc, 50),
            R.g(b.i.qc, 50),
            R.A(b.i.rc, 500),
            R.g(b.i.sc, 50),
            R.g(b.i.tc, 50)
        }
        ,
        Q.prototype.da = function() {}
        ,
        Q),
        b.Un = (Dl = $(n("1a0eee1e6ac081c25656961855c389da41")),
        (Q = G.fa(b.i, function() {
            b.i.call(this, b.fb.nd),
            this.we = [],
            this.ye = null
        })).prototype.C = function() {}
        ,
        Q.prototype.gb = function() {
            R.A(b.i.cc, 500),
            R.A(b.i.fc, 1),
            R.g(b.i.hc, 50),
            R.A(b.i.ic, 500),
            R.g(b.i.kc, 50),
            R.g(b.i.Kb, 50),
            R.g(b.i.oc, 50),
            R.g(b.i.Yb, 50),
            R.A(b.i.pc, 500),
            R.g(b.i.qc, 50),
            R.g(b.i.rc, 50),
            R.g(b.i.sc, 50),
            R.g(b.i.tc, 50)
        }
        ,
        Q.prototype.da = function() {
            this.Pi()
        }
        ,
        Q.prototype.rp = function() {
            return this.ye != null || 0 < this.we.length
        }
        ,
        Q.prototype.Jg = function(c) {
            this.we.unshift(c),
            G.ha(function() {
                E.h.Wh()
            }, 0)
        }
        ,
        Q.prototype.Ak = function(c) {
            this.we.push(c),
            G.ha(function() {
                E.h.Wh()
            }, 0)
        }
        ,
        Q.prototype.Pi = function() {
            var c, f, g = this;
            this.ye == null && (this.we.length === 0 ? E.h.he() : (c = this.we.shift(),
            f = (this.ye = c).jd(),
            R.A(f, 300),
            Dl.append(f),
            c.Be = function() {
                f.fadeOut(300),
                G.ha(function() {
                    f.remove()
                }, 300),
                g.ye === c && (g.ye = null),
                g.Pi()
            }
            ,
            c.da()))
        }
        ,
        Q),
        b.fb = {
            nd: 0,
            hf: 1
        },
        b.j = (kl = $(n("706480f004aac6320864d7ae12b89323e133a7bf")),
        Zo = $(n("b2e646f6c628083ccae611a8d03aad32adbaeaa6eb35e721")),
        Qo = $(n("13e12735e7a7e97f6be1706bf1a58c714cbd4b658aaec876")),
        $(n("4efa22d2220c641026ca758c341e310f3f8c4b")).click(function() {
            E.h.he()
        }),
        Zo.click(function() {
            E.m.v && E.h.J(E.h.Bf)
        }),
        (Xe = G.fa(b.i, function(c, f) {
            b.i.call(this, b.fb.hf),
            this.Db = c,
            this.Hm = f,
            this.Ef = []
        })).prototype.C = function() {
            Xe.parent.prototype.C.call(this),
            Xe.Rm || (Xe.Rm = !0,
            E.m.Bh(function() {
                E.m.v ? Qo.html(E.m.Rd()) : Qo.html(n("56d7"))
            })),
            R.g(b.j.Ug, 100)
        }
        ,
        Xe.zb = $(n("11a7a177f6e97e266aa7ed25f8f9")),
        Xe.Ab = $(n("daceaedeb20ac1158781d7d8901ecd0e")),
        Xe.Cb = $(n("a37197a5572a46fcc230c8b3590954d5")),
        Xe.Eb = $(n("f8ec0878902259a66efc343a6122")),
        Xe.Fb = $(n("95a3257b6aefef38f4e078230ce4ca31d2")),
        Xe.Gb = $(n("3266c67645ac91a749668a245bb8")),
        Xe.Hb = $(n("51e7e1b7a6b238fa3ce7ade5b8b9")),
        Xe.Ib = $(n("d5e365bb2eafbafef0b836f516")),
        Xe.Lb = $(n("6b395f6d9849850a17561411da4b96040849131ad2466817f4")),
        Xe.Ob = $(n("e73ddb690f79013b9b45dc0310471a13995cd41c12490a")),
        Xe.Ug = $(n("7e2a7222f2ff21f4f572656eebf238b0f8763556")),
        Xe.prototype.gb = function() {
            R.A(b.i.cc, 1),
            R.A(b.i.fc, 500),
            R.A(b.i.hc, 200),
            R.A(b.i.ic, 200),
            R.g(b.i.kc, 200),
            R.g(b.i.Kb, 200),
            R.g(b.i.oc, 200),
            R.A(b.i.Yb, 200),
            R.g(b.i.pc, 200),
            R.g(b.i.qc, 200),
            R.g(b.i.rc, 200),
            R.g(b.i.sc, 200),
            R.g(b.i.tc, 200),
            kl.html(this.Db),
            Zo.toggle(this.Hm),
            this.ib()
        }
        ,
        Xe.prototype.ib = function() {}
        ,
        Xe.prototype.Se = function(c) {
            var f = this
              , g = 2147483647 & G.io();
            return this.Ef.push(g),
            R.A(b.j.Ug, 100),
            G.ha(function() {
                f.Mj(g)
            }, c),
            new P5(this,g)
        }
        ,
        Xe.prototype.Mj = function(c) {
            (c = this.Ef.indexOf(c)) < 0 || (this.Ef.splice(c, 1),
            this.Ef.length === 0 && R.g(b.j.Ug, 100))
        }
        ,
        Xe),
        Of.prototype.dp = function() {
            this.Xn.Mj(this.bo)
        }
        ;
        var Nl, jl, Xl, Hl, zl, Vl, $i, cc, dc, hc, lc, fc, uc, bc, di, Wl, Ki, Yl, $l, Kl, ql, Zl, Ql, Jl, ef, tf, af, rf, sf, qi, rs, ss, ns, nf, of, cf, df, os, hi, hf, lf, pc, cs, gc, Zi, ff, ds, uf, bf, at, pf, gf, mf, _f, Qi, yf, xf, hs, mc, Ji, vf, _c, yc, xc, vc, er, Tf, Sf, nt, tr, wf, Af, ar, lt, ls, Ef, Ua, Pf, Rf, Q, Tc, Sa, Mf, Cf, P5 = Of;
        function Of(c, f) {
            this.Xn = c,
            this.bo = f
        }
        function ir(c, f) {
            this.xe = c,
            this.$c = 0,
            this.Zb = f
        }
        function ra(c, f, g) {
            this.xe = c,
            this.ua = f,
            this.qd = g,
            this.xf = {},
            this.cb = [[]],
            this.Wf = this.Vd = -10
        }
        function Sc() {
            this.Be = function() {}
        }
        function If() {
            var S = Tc[n("8fb7f86667ac")]()
              , c = Tc[n("439c205fa090bd")]()
              , f = Sa[n("e7779c2e0e6e3a378b5499")]()
              , g = Sa[n("108e271771171e82718e321f")]()
              , m = Mf[n("e3fb90a202ea21bf82fb85aa")]()
              , x = Cf[n("29f5de28c8ec670558c5db10")]()
              , S = Math.min(1, Math.min((c - x - m) / g, S / f));
            S = n("0f3463e3fd37f9e7632d31a7ae7cb8bc2a7513d1866695bb12680ca89e7588ac1f1352c3df019d").concat(S, n("269e")),
            Sa[n("f42645b4")](n("df3d9637017f0c22ca6c9b3b056f0b319d4d"), S),
            Sa[n("57eb2ab9")](n("e3b988b91db51da88af29eb800d21c"), S),
            Sa[n("8cbebd2c")](n("e17f0e674822957987290d731f33"), S),
            Sa[n("685ad9c8")](n("00fc2d7e702727b97bbf252961"), S),
            Sa[n("34e60574")](n("b0f58062da7690e8cae4"), S),
            E.na(),
            b.E[n("aac80fcfc1531c15dd")](0, 1)
        }
        b.Gm = (Nl = $(n("7543c51b8a1e145e18439d45785fe05bec1874673848be0cbd4e")),
        jl = $(n("6d7bdd1382161c56104b955d8047184314008c6f3442b304b5")),
        Xl = $(n("778d4bd988d8929c1a9de3877a996699eed6faa53a8a3dcebf")),
        Hl = $(n("de4a92429187cb87835aca0c93d6cf928711c3dec5338435")),
        zl = $(n("4bd97f0dbc74be3036293733ae25ba2532622e11ec22d462")),
        Vl = $(n("66d21aca190f430f0bd252740bae57ea1f694b564bb909bd")),
        ($i = G.fa(b.j, function() {
            b.j.call(this, G.N(n("82fa2af1e36f667eebf629b3fe702054e28d39c0f852764af5c232deb05b0153")), !1),
            Nl.click(function() {
                n("ce3cff08bc90cbd4e452a859ea")
            }),
            jl.click(function() {
                n("0270ab7c68e497ac3a2bfc2d")
            }),
            Xl.click(function() {
                n("9ded70394fe1fc6593a61768")
            }),
            Hl.click(function() {
                n("e1310c7d0b25b82fd96a5b")
            }),
            zl.click(function() {
                n("cddd20e93fb18cb7e7f367")
            }),
            Vl.click(function() {
                n("2bbf4277c193ee1301d105")
            })
        })).prototype.C = function() {
            $i.parent.prototype.C.call(this)
        }
        ,
        $i.prototype.ib = function() {
            R.A(b.j.zb, 200),
            R.g(b.j.Ab, 50),
            R.g(b.j.Cb, 50),
            R.g(b.j.Eb, 50),
            R.g(b.j.Fb, 50),
            R.g(b.j.Gb, 50),
            R.g(b.j.Hb, 50),
            R.g(b.j.Ib, 50),
            R.g(b.j.Lb, 50),
            R.g(b.j.Ob, 50)
        }
        ,
        $i.prototype.da = function() {}
        ,
        $i),
        b.Qm = (cc = $(n("00f470606c3c21bf7bba252969703abe728d37")),
        dc = $(n("350385dbd54f5a88585cccdda34737802a58ea94ac4c2e90")),
        hc = $(n("c593754b25dfaa18a8cc3cad33b7a7f0baa87ae030adb3ffbea12df5")),
        lc = $(n("21b79167c9f3463c4ce8d871cfeb5b145ecc9e0fdcca5b1b")),
        fc = n("2f0248eed612d0ca"),
        uc = n("782bc38315aad61ce33eb0b6"),
        bc = n("20931b384d190a8469970e33491c0aac586e06f0"),
        (di = G.fa(b.j, function() {
            b.j.call(this, G.N(n("0bd5639aeab8bf6572a97028e7a7e97f6be2706bf1a58f7e46b54173d5ab876e4abe")), !0);
            var c = this;
            this.qh = {},
            this.Oc = {
                wh: {
                    qd: dc,
                    Ch: fc
                },
                Io: {
                    qd: hc,
                    Ch: uc
                },
                Lo: {
                    qd: lc,
                    Ch: bc
                }
            },
            dc.click(function() {
                c.ef(c.Oc.wh)
            }),
            hc.click(function() {
                c.ef(c.Oc.Io)
            }),
            lc.click(function() {
                c.ef(c.Oc.Lo)
            })
        })).prototype.C = function() {
            di.parent.prototype.C.call(this)
        }
        ,
        di.prototype.ib = function() {
            R.g(b.j.zb, 50),
            R.A(b.j.Ab, 200),
            R.g(b.j.Cb, 50),
            R.g(b.j.Eb, 50),
            R.g(b.j.Fb, 50),
            R.g(b.j.Gb, 50),
            R.g(b.j.Hb, 50),
            R.g(b.j.Ib, 50),
            R.g(b.j.Lb, 50),
            R.g(b.j.Ob, 50)
        }
        ,
        di.prototype.da = function() {
            var c = this
              , f = this.Se(5e3)
              , g = ea + n("adbb1d2641d7d14187e05b0d58cede1ece");
            G.vc(g, function() {
                c.qh = {
                    [fc]: [],
                    [uc]: [],
                    [bc]: []
                },
                c.ef(c.rg ?? c.Oc.wh),
                f.dp()
            }, function(m) {
                c.qh = m,
                c.ef(c.rg ?? c.Oc.wh),
                f.dp()
            })
        }
        ,
        di.prototype.ef = function(c) {
            for (var f in this.rg = c,
            this.Oc)
                this.Oc.hasOwnProperty(f) && this.Oc[f].qd.removeClass(n("74b5c4220b3adfaf"));
            this.rg.qd.addClass(n("f6f7caec8978d969")),
            c = this.qh[this.rg.Ch];
            for (var f = "", g = 0; g < c.length; g++) {
                var m = c[g];
                f += '<div class="table-row"><span>'.concat(g + 1, '</span><span><img src="').concat(m[n("0efea6c06642a67064cb")], '"/></span><span>').concat(m[n("b311c6c3450658c7de")], n("5004a1e07197d0542848f48e6fe8bb1c2342d2d20a909572")).concat(m[n("637800208274")], n("cb59fefd6ab217b1a3e5bbe364cd7cf998ffadaf31b55297")).concat(m[n("156efeaff15978a36f6b")], n("ff153231a606c3057759675fb879a84d4c3361e3fd61a6c3")).concat(m[n("17207cebff1ff5e16b23")], n("6b395f6eca12b7474114")).concat(m[n("bc6697e3ace2")], n("e6529b3acfc9ea8e9e1edea4c1469136b5a28acf9e62ca28cdca"))
            }
            cc.empty(),
            cc.append(f)
        }
        ,
        di),
        b.dn = (Wl = $(n("b10701d74549c79dc90757835a47d1dda655")),
        $(n("9cc8ec5cd01e9286d4d88a18cf1084d6ca9f")).remove(),
        (Ki = G.fa(b.j, function() {
            var c = this;
            b.j.call(this, G.N(n("455fa99cac42659b2c53aa2ea12d23712568ba6db73f75603229b67ecf260276")), !1),
            Wl.click(function() {
                var f = c.Se(1e4);
                G.ha(function() {
                    E.m.Ap(function() {
                        f.dp()
                    })
                }, 500)
            })
        })).prototype.C = function() {
            Ki.parent.prototype.C.call(this)
        }
        ,
        Ki.prototype.ib = function() {
            R.g(b.j.zb, 50),
            R.g(b.j.Ab, 50),
            R.g(b.j.Cb, 50),
            R.A(b.j.Eb, 200),
            R.g(b.j.Fb, 50),
            R.g(b.j.Gb, 50),
            R.g(b.j.Hb, 50),
            R.g(b.j.Ib, 50),
            R.g(b.j.Lb, 50),
            R.g(b.j.Ob, 50)
        }
        ,
        Ki.prototype.da = function() {}
        ,
        Ki),
        b.Zm = (Yl = $(n("580ca8982cdff149095dc79e05c3c743094b")),
        $l = $(n("9a8e6e9eee5d0f57cbdf0198d3440d4bc4da01d8")),
        Kl = $(n("8b19bf4d7f327ee4fa28f0ab723069efe925f8e07c350cf0c226")),
        ql = $(n("9cc8ec5cd0038d95cd99835acd019a9ede948b11d3e4df75d569")),
        Zl = $(n("095fb90ffd0c602678eef669f9e3612d75")),
        Ql = $(n("cafebeeebe2dff07bb8ff1c8a513f91df783f58ab63cc31e9096")),
        Jl = $(n("144064d4689b350d75013bc253850307091703845caa1f095a14189e5c551bee51")),
        ef = $(n("0157b107f504685e6016ee11fe0a6e343ce9fa28f9f5")),
        tf = $(n("8553350b7908e45ae4126a6d62f6f230b8ee72297df9f323e9fd")),
        af = $(n("cf25e37123763a20be64bc6728783c3af277803f0667353a86618c3e")),
        rf = $(n("e410148498cb455d85514b9283b55337d93159b399a56e2291286dbf65bf36")),
        sf = $(n("11a7a177e5f4782e70e6fe61eefa7e240ce0c633cce5532a48eec233c3da4e1454")),
        (qi = G.fa(b.j, function() {
            b.j.call(this, G.N(n("1a42b2497bd7ced6435e811b56d898cc5a15815840cadeb1402c922c5aa2d6bd5b29")), !0)
        })).prototype.C = function() {
            qi.parent.prototype.C.call(this)
        }
        ,
        qi.prototype.ib = function() {
            R.g(b.j.zb, 50),
            R.g(b.j.Ab, 50),
            R.A(b.j.Cb, 200),
            R.g(b.j.Eb, 50),
            R.g(b.j.Fb, 50),
            R.g(b.j.Gb, 50),
            R.g(b.j.Hb, 50),
            R.g(b.j.Ib, 50),
            R.g(b.j.Lb, 50),
            R.g(b.j.Ob, 50)
        }
        ,
        qi.prototype.da = function() {
            var c = E.m.zo()
              , c = window.moment([c.year, c.month - 1, c.day]).format(n("19c6d7"));
            $l.html(E.m.nj()),
            Yl.attr(n("b959498f"), E.m.uj()),
            Kl.width(100 * E.m.Sf() / E.m.Uf() + n("b2e646f0")),
            ql.html(E.m.Sf() + n("ebb9dfee4a9237c7c194") + E.m.Uf()),
            Zl.html(E.m.Rf()),
            Ql.html(E.m.Vn()),
            Jl.html(G.Li(E.m.ao())),
            ef.html(E.m.fo()),
            tf.html(E.m.mo()),
            af.html(E.m.ro()),
            rf.html(G.Li(E.m.vo())),
            sf.html(c)
        }
        ,
        qi),
        b.gn = (rs = $(n("cafebeeebd3ae415bb8df396fb0aed1ab388b188b00ec21d87978986911edc1a82")),
        ss = $(n("4197f147b6d3330c20d4ac0fe0cd29f87ca7bde5b7aa32ec74b9ace5a9ad37")),
        ns = $(n("84f0f464fb3cbeafe5b3a92cbd12ba8ce3c8b806f50ca9c6ef9ab71bc319")),
        nf = $(n("d3a1e7f527e729bfaba1b1a138ff14a6")),
        of = $(n("5563e53ba9252b792d63b37f863d1660483588769d3b0272082c")),
        cf = $(n("1523a5fbe9656bb96d23fbb5cd7757b10877c4bbc66f45a8")),
        df = $(n("9ff5932153bb5563d7f5cd7f47b9597b8281d2415c915b529a8bd6444f8d5440da82")),
        os = $(n("95a3257b69e5eb39eda3683955fac726c4e10a3b46f4d839c3ea")),
        (hi = G.fa(b.j, function() {
            b.j.call(this, G.N(n("da82f289bb178e16839ec1db9618d80c9ad5c198800a9ef29777c06c98e0cba78e6ade")), !1);
            var c = this;
            rs.click(function() {
                var f = !!rs.prop(n("ff536917e05fe012"));
                b.I.Bb(b.I.Ti, f)
            }),
            ss.click(function() {
                var f = !!ss.prop(n("64d6ce520b52cfdf"));
                b.I.Bb(b.I.Yi, f)
            }),
            ns.click(function() {}),
            nf.click(function() {
                c.Se(500),
                E.m.Yh()
            }),
            cf.click(function() {
                E.m.v && E.h.J(E.h.Ri)
            }),
            os.click(function() {
                E.xd() && E.h.J(E.h.Ji)
            })
        })).prototype.C = function() {
            var c;
            hi.parent.prototype.C.call(this),
            c = b.I.ec(b.I.Ti) !== n("03d2649af4dd"),
            rs.prop(n("4ebc788431087101"), c),
            c = b.I.ec(b.I.Yi) !== n("aadd0dd1dd5a"),
            ss.prop(n("20920a16471e0393"), c),
            c = b.I.ec(b.I.Qi) !== n("188f3b076f08"),
            ns.prop(n("782ad2ae1fa6db2b"), c),
            E.m.hk(function() {
                of.toggle(E.m.v),
                df.toggle(E.m.v)
            })
        }
        ,
        hi.prototype.ib = function() {
            R.g(b.j.zb, 50),
            R.g(b.j.Ab, 50),
            R.g(b.j.Cb, 50),
            R.g(b.j.Eb, 50),
            R.A(b.j.Fb, 200),
            R.g(b.j.Gb, 50),
            R.g(b.j.Hb, 50),
            R.g(b.j.Ib, 50),
            R.g(b.j.Lb, 50),
            R.g(b.j.Ob, 50)
        }
        ,
        hi.prototype.da = function() {
            E.xd() ? os.show() : os.hide()
        }
        ,
        hi.prototype.Ui = function() {
            return ns.prop(n("da88f488bd04c515"))
        }
        ,
        hi),
        b.rn = (hf = $(n("649094041b4dc5c90990d85615369fa015abc0")),
        lf = $(n("6eda023201e85deb5b635d7a19f955fd0a662f7fafe721edf2")),
        pc = $(n("61f7d1a796bd0ef644bd99f398ae42c4149190d69c9603c11684d6d898960b")),
        cs = $(n("b7cd8b194898525cdaddad5d209f2052ea9aa848")),
        gc = $(n("76220a3a09ff53ff1b222c7ee1f821f1ab75296ba7ef29e5fa")),
        Zi = $(n("b420c4b4cbfd9579d9209cfab9bc6066b06169f9")),
        ff = $(n("dc082c9c93c54d4181184fc38dd4074b9e544dda")),
        ds = $(n("bc28ccbcb3e56d61a13861e5a7ec7a68")),
        uf = $(n("0157b107f602684a6c57fd55e809223063e7e5")),
        bf = $(n("aa9e5e8edd4b1f33d7ee02acd3305527dfb308")),
        (at = G.fa(b.j, function() {
            b.j.call(this, G.N(n("11ebfd20f0fe392f78e7fe62ede16f2551bcce31cbe3092b42f3c52f83ea4e02")), !0)
        })).prototype.sa = async function() {
            var c = this;
            this.Tc = null,
            this.Uc = [],
            this.Mk = {},
            this.Ua = new b.Sg,
            await this.Ua.sa(hf),
            Zi.click(function() {
                c.mp()
            }),
            uf.click(function() {
                c.Tc.sp()
            }),
            bf.click(function() {
                c.Tc.wp()
            })
        }
        ,
        at.prototype.C = function() {
            at.parent.prototype.C.call(this);
            var c = this;
            E.B.Gg(function() {
                var f = E.B.Ma.hb;
                c.Uc = [];
                for (var g = 0; g < f[n("1250bf4c78e0aac66f5b9d5f6cce99f54b5090")].length; g++)
                    c.Uc.push(new pf(c,f[n("a80a8192c2ba9c10c5f1b371c6648fc3d1ea8e")][g]));
                for (c.Mk = {},
                g = 0; g < f[n("a7abc273459d5f6cce99f54b5090")].length; g++) {
                    var m = f[n("b5d55c0157ebc91edcd77b1922c6")][g];
                    c.Mk[m[n("1ec684")]] = m
                }
                c.$k()
            }),
            this.Cc(!1),
            E.u.Ah(function() {
                c.Cc(!1)
            })
        }
        ,
        at.prototype.ib = function() {
            R.g(b.j.zb, 50),
            R.g(b.j.Ab, 50),
            R.g(b.j.Cb, 50),
            R.g(b.j.Eb, 50),
            R.g(b.j.Fb, 50),
            R.A(b.j.Gb, 200),
            R.g(b.j.Hb, 50),
            R.g(b.j.Ib, 50),
            R.g(b.j.Lb, 50),
            R.g(b.j.Ob, 50)
        }
        ,
        at.prototype.da = function() {
            this.$k(),
            this.Ua.ud(!0)
        }
        ,
        at.prototype.fe = function() {
            this.Ua.ud(!1)
        }
        ,
        at.prototype.na = function() {
            this.Ua.na()
        }
        ,
        at.prototype.Ya = function() {
            this.Ua.Ya()
        }
        ,
        at.prototype.$k = function() {
            var c = this
              , f = this;
            ds.empty();
            for (var g = 0; g < this.Uc.length; g++)
                (M => {
                    var O = c.Uc[M]
                      , k = (M = b.d.createElement(n("423f6d")),
                    ds.append(M),
                    M = $(M),
                    O.Zb.img);
                    k ? M.html('<img src="' + k + '" height="40">') : M.html(O.Ip()),
                    M.click(function() {
                        f.li(O)
                    }),
                    O.ri = M
                }
                )(g);
            if (0 < this.Uc.length) {
                for (var g = E.u.ra(b.s.Z), m = 0; m < this.Uc.length; m++)
                    for (var x = this.Uc[m], S = x.Zb.list, w = 0; w < S.length; w++)
                        if (S[w] === g)
                            return x.$c = w,
                            void this.li(x);
                this.li(this.Uc[0])
            }
        }
        ,
        at.prototype.li = function(c) {
            this.Tc !== c && (this.Tc = c,
            ds.children().removeClass(n("43843753b48bac5e")),
            this.Tc.ri && this.Tc.ri.addClass(n("d93a29692e3dba74")),
            pc.html(""),
            c.Zb != null && (c = E.B.Ma.hb[n("b156569c4162de8bcd")][c.Zb[n("7fd4e48160c66c86f3d1e694")]]) != null && pc.html(G.wm(G.te(c))),
            this.Cc(!0))
        }
        ,
        at.prototype.Ai = function() {
            return this.Tc == null ? b.Zc.Eg() : this.Tc.Fg()
        }
        ,
        at.prototype.mp = function() {
            var c = this.Ai();
            c.vf() && this.Xl(c.$b())
        }
        ,
        at.prototype.Xl = function(c) {
            var f, g, m, x, S, w, M = E.u.kf(c, b.s.Z);
            M == null || (M = M.bf,
            E.m.Rd() < M) || (f = E.u.ra(b.s.Z),
            g = E.u.ra(b.s.wa),
            m = E.u.ra(b.s.Da),
            x = E.u.ra(b.s.Fa),
            S = E.u.ra(b.s.Ea),
            w = this.Se(5e3),
            E.m.Lk(c, b.s.Z, function() {
                w.dp(),
                E.h.J(E.h.rb)
            }, function() {
                E.m.Hh(function() {
                    E.u.ca(f, b.s.Z),
                    E.u.ca(g, b.s.wa),
                    E.u.ca(m, b.s.Da),
                    E.u.ca(x, b.s.Fa),
                    E.u.ca(S, b.s.Ea),
                    E.u.ca(c, b.s.Z),
                    w.dp()
                })
            }))
        }
        ,
        at.prototype.Cc = function(c) {
            var f, g, m = E.u.zh(), x = this.Ai();
            x.vf() && (x = x.$b(),
            f = E.u.kf(x, b.s.Z),
            g = !1,
            E.u.zc(x, b.s.Z) ? (cs.hide(),
            Zi.hide()) : f == null || f.df ? (g = !0,
            cs.show(),
            Zi.hide(),
            gc.text(G.N(n("124aba4173dff6ce7b46b9036ec090c4521d895048c2c6ca5e549e5800d39fa2592690"))),
            f != null && f.df && (f = E.B.Ma.hb[n("7d1a9a487536ea57f1")][f.xk]) != null && gc.text(G.te(f))) : (cs.hide(),
            Zi.show(),
            ff.html(f.bf)),
            lf.html(n("d3cd91e364c97cf8eb") + x),
            this.Ua.Dc(m.cm(x)),
            this.Ua.no(g),
            c) && E.u.ca(x, b.s.Z)
        }
        ,
        ir.prototype.sp = function() {
            --this.$c < 0 && (this.$c = this.Zb.list.length - 1),
            this.xe.Cc(!0)
        }
        ,
        ir.prototype.wp = function() {
            ++this.$c >= this.Zb.list.length && (this.$c = 0),
            this.xe.Cc(!0)
        }
        ,
        ir.prototype.Ip = function() {
            return G.te(this.Zb.name)
        }
        ,
        ir.prototype.Fg = function() {
            return this.$c >= this.Zb.list.length ? b.Zc.Eg() : b.Zc.Fi(this.Zb.list[this.$c])
        }
        ,
        pf = ir,
        at),
        b.zn = (gf = $(n("a37197a5542c46e8ce71caf102035ecbdd1798c4421c4dc5d5")),
        mf = $(n("912721f76672f8bafc277ca3307df4b9cf610eb65062d3b7c7")),
        _f = $(n("61f7d1a796a208ea0cf78cf3c0a90ac103cf91d1819218c6")),
        (Qi = G.fa(b.j, function() {
            b.j.call(this, G.N(n("4fe93fa6b6fcfba136e53ce4abe3adbb2fbe0cb78de1cba513f71bbfc5e88cbc")), !0),
            gf.click(function() {
                E.h.J(E.h.Bf)
            }),
            mf.click(function() {
                E.h.J(E.h.Qf)
            }),
            _f.click(function() {
                E.h.J(E.h.ih)
            })
        })).prototype.C = function() {
            Qi.parent.prototype.C.call(this)
        }
        ,
        Qi.prototype.ib = function() {
            R.g(b.j.zb, 50),
            R.g(b.j.Ab, 50),
            R.g(b.j.Cb, 50),
            R.g(b.j.Eb, 50),
            R.g(b.j.Fb, 50),
            R.g(b.j.Gb, 50),
            R.A(b.j.Hb, 200),
            R.g(b.j.Ib, 50),
            R.g(b.j.Lb, 50),
            R.g(b.j.Ob, 50)
        }
        ,
        Qi.prototype.da = function() {}
        ,
        Qi),
        b.Fn = (yf = $(n("ee5a82b28566d577dbf1d1ec8d26df6c90f9")),
        xf = $(n("b3418795400d58d89608d8dd5c0228c2b71daad86a0c2cc2bf")),
        hs = $(n("b8acc838cb689ffdedfd6d70af7062baaaf878")),
        mc = $(n("11a7a177e2e3763a34e6f42ff6eb7b7d43f3d179d1f35f2c")),
        Ji = $(n("92866696e142395bb7c929d4b34d1545d6dc0a")),
        vf = $(n("97edab396ca97c7cb2b9d5774ef95564cebbcc")),
        _c = $(n("f94f491f0a0b9e422c17fa51f65b654d7d0ee452")),
        yc = $(n("66d21aca1d1e4d0f43925f7406eb47a814724c7d15e5")),
        xc = $(n("625616461192498b471c401c1d8c55725fe141f1026856")),
        vc = $(n("29bf996fdafb4e121ccad210c68b551d4dded402")),
        er = $(n("aa9e5e8ed95a11339fb71dabc26a1b21d5a40fa8cc")),
        Tf = $(n("f381c7d500cd1898d6da948b089df18066c2")),
        Sf = $(n("253395ebde7f4aae0068c685c60f5d814d52")),
        (nt = G.fa(b.j, function() {
            b.j.call(this, G.N(n("c5df291c2cc2e51bacd32aae21ada3f1a5e83aed37bff5fbb8af2dbe15b381")), !0)
        })).prototype.sa = async function() {
            var c = this
              , f = this;
            this.Fd = [],
            this.wa = new tr(this,b.s.wa,_c),
            this.Da = new tr(this,b.s.Da,yc),
            this.Fa = new tr(this,b.s.Fa,xc),
            this.Ea = new tr(this,b.s.Ea,vc),
            this.gj = this.cj = this.$i = this.Vi = this.Si = this.ac = null,
            this.Ua = new b.Sg,
            await this.Ua.sa(yf),
            Ji.click(function() {
                f.Sm()
            }),
            Tf.click(function() {
                f.ac.Vm()
            }),
            Sf.click(function() {
                f.ac.$m()
            }),
            _c.click(function() {
                f.Ie(c.wa)
            }),
            yc.click(function() {
                f.Ie(c.Da)
            }),
            xc.click(function() {
                f.Ie(c.Fa)
            }),
            vc.click(function() {
                f.Ie(c.Ea)
            }),
            this.Fd.push(this.wa),
            this.Fd.push(this.Da),
            this.Fd.push(this.Fa),
            this.Fd.push(this.Ea)
        }
        ,
        nt.prototype.C = function() {
            nt.parent.prototype.C.call(this);
            var c = this;
            E.B.Gg(function() {
                var f = E.B.Ma.hb;
                c.Si = f[n("1ba9646bec94c87157")],
                c.Vi = f[n("4eb27f94260b500c3593")],
                c.$i = f[n("471f25dbb80fa8cd0be932b6")],
                c.cj = f[n("6b740c2aab499216")],
                c.gj = f[n("61b18cf88aa423f10aae")],
                c.wa.Jf(f[n("cddb36e52294b2f6bca739fc18b8a9eda4")]),
                c.wa.Mf(c.Si),
                c.Da.Jf(f[n("fc2051ba74b91432763c27b97c9838296d24")]),
                c.Da.Mf(c.Vi),
                c.Fa.Jf(f[n("3cea126e3362e7e012f4f47e2977feda3eefef66")]),
                c.Fa.Mf(c.$i),
                c.Ea.Jf(f[n("718a92d0a38705c118848fed8f9c1ec9")]),
                c.Ea.Mf(c.cj)
            }),
            this.Cc(!1),
            E.u.Ah(function() {
                c.Cc(!1)
            })
        }
        ,
        nt.prototype.ib = function() {
            R.g(b.j.zb, 50),
            R.g(b.j.Ab, 50),
            R.g(b.j.Cb, 50),
            R.g(b.j.Eb, 50),
            R.g(b.j.Fb, 50),
            R.g(b.j.Gb, 50),
            R.g(b.j.Hb, 50),
            R.A(b.j.Ib, 200),
            R.g(b.j.Lb, 50),
            R.g(b.j.Ob, 50)
        }
        ,
        nt.prototype.da = function() {
            this.Ie(this.ac ?? this.wa),
            this.Ua.ud(!0)
        }
        ,
        nt.prototype.fe = function() {
            this.Ua.ud(!1)
        }
        ,
        nt.prototype.na = function() {
            this.Ua.na()
        }
        ,
        nt.prototype.Ya = function() {
            this.Ua.Ya()
        }
        ,
        nt.prototype.Ie = function(c) {
            for (this.ac = c,
            c = 0; c < this.Fd.length; c++)
                this.Fd[c].qd.removeClass(n("5cddec4a1342c7d7"));
            this.ac.qd.addClass(n("2566d5bdda694eb8")),
            this.ac.gb()
        }
        ,
        nt.prototype.Bj = function() {
            return this.ac == null ? b.Zc.Eg() : b.Zc.Fi({
                T: this.ac.Fg(),
                ua: this.ac.ua
            })
        }
        ,
        nt.prototype.Sm = function() {
            var c = this.Bj();
            c.vf() && (c = c.$b(),
            this.sn(c.T, c.ua))
        }
        ,
        nt.prototype.sn = function(c, f) {
            var g, m, x, S, w, M, O = E.u.kf(c, f);
            O == null || (O = O.bf,
            E.m.Rd() < O) || (g = E.u.ra(b.s.Z),
            m = E.u.ra(b.s.wa),
            x = E.u.ra(b.s.Da),
            S = E.u.ra(b.s.Fa),
            w = E.u.ra(b.s.Ea),
            M = this.Se(5e3),
            E.m.Lk(c, f, function() {
                M.dp(),
                E.h.J(E.h.rb)
            }, function() {
                E.m.Hh(function() {
                    E.u.ca(g, b.s.Z),
                    E.u.ca(m, b.s.wa),
                    E.u.ca(x, b.s.Da),
                    E.u.ca(S, b.s.Fa),
                    E.u.ca(w, b.s.Ea),
                    E.u.ca(c, f),
                    M.dp()
                })
            }))
        }
        ,
        nt.prototype.Cc = function(c) {
            var f = E.u.zh();
            if ((g = this.Bj()).vf()) {
                var g = g.$b()
                  , m = E.u.kf(g.T, g.ua)
                  , x = !1;
                switch (E.u.zc(g.T, g.ua) ? (hs.hide(),
                Ji.hide()) : m == null || m.df ? (x = !0,
                hs.show(),
                Ji.hide(),
                mc.text(G.N(n("2bb5437aca989f4552895008c787c95f4bc2504bd185ef41379b3753e994a659209929"))),
                m != null && m.df && (m = E.B.Ma.hb[n("2a4f89455afb99a246")][m.xk]) != null && mc.text(G.te(m))) : (hs.hide(),
                Ji.show(),
                vf.html(m.bf)),
                xf.html("ID: " + g.T + " TYPE: " + g.ua),
                m = this.Ua,
                g.ua) {
                case b.s.wa:
                    m.Dc(f.im(g.T)),
                    m.wo(x);
                    break;
                case b.s.Da:
                    m.Dc(f.om(g.T)),
                    m.Ao(x);
                    break;
                case b.s.Fa:
                    m.Dc(f.Am(g.T)),
                    m.Ho(x);
                    break;
                case b.s.Ea:
                    m.Dc(f.vm(g.T)),
                    m.Do(x)
                }
                c && E.u.ca(g.T, g.ua)
            }
        }
        ,
        ra.prototype.Jf = function(c) {
            this.cb = c
        }
        ,
        ra.prototype.Mf = function(c) {
            this.xf = c
        }
        ,
        ra.prototype.gb = function() {
            for (var c = E.u.ra(this.ua), f = 0; f < this.cb.length; f++)
                for (var g = 0; g < this.cb[f].length; g++)
                    if (this.cb[f][g] === c)
                        return this.Xf(f),
                        void this.qe(g);
            this.Xf(0),
            this.qe(0)
        }
        ,
        ra.prototype.Vm = function() {
            var c = this.Vd - 1;
            c < 0 && (c = this.cb.length - 1),
            this.Xf(c),
            this.qe(this.Wf % this.cb[c].length)
        }
        ,
        ra.prototype.$m = function() {
            var c = this.Vd + 1;
            c >= this.cb.length && (c = 0),
            this.Xf(c),
            this.qe(this.Wf % this.cb[c].length)
        }
        ,
        ra.prototype.Xf = function(c) {
            var f = this;
            if (!(c < 0 || c >= this.cb.length)) {
                this.Vd = c,
                er.empty();
                var g = this.cb[this.Vd];
                if (1 < g.length)
                    for (c = 0; c < g.length; c++)
                        (m => {
                            var x = f.xf[g[m]]
                              , x = n("912721f7") + f.xe.gj[x[n("00a1303a6930")]];
                            (x = $('<div style="border-color:' + x + '"></div>')).click(function() {
                                f.qe(m)
                            }),
                            er.append(x)
                        }
                        )(c)
            }
        }
        ,
        ra.prototype.qe = function(c) {
            c < 0 || c >= this.cb[this.Vd].length || (this.Wf = c,
            er.children().css(n("8514665b621df953f8106b6d72edff2be7"), n("a4819416c60a9a9ade98800b")),
            (c = er.children(n("05d3b4f9e78e63916e96e6acf52a") + (1 + c) + n("bb45"))).css(n("322195265da08aa64f2598605da06cbe30"), c.css(n("b2a11bb7d2220a64d9a410a2cc"))),
            this.xe.Cc(!0))
        }
        ,
        ra.prototype.Fg = function() {
            return this.cb[this.Vd][this.Wf]
        }
        ,
        tr = ra,
        nt),
        b.mm = (wf = $(n("1523a5fbee636fa4797cfea78c714cba5673c9ac84634eaf")),
        Af = $(n("5b296f7da879953a07660421ca7b86341879032ac24e9e")),
        (ar = G.fa(b.j, function() {
            b.j.call(this, G.N(n("31cbdd00d0de190f58c7de42cdc14f05319cae11abc3691b26d4b819a3ca61f430a0")), !1),
            wf.click(function() {
                E.xd() ? (E.h.J(E.h.pa),
                E.lh(!1, !0),
                E.h.Lc.Jg(new b.nh)) : E.h.he()
            }),
            Af.click(function() {
                E.h.he()
            })
        })).prototype.C = function() {
            ar.parent.prototype.C.call(this)
        }
        ,
        ar.prototype.ib = function() {
            R.g(b.j.zb, 50),
            R.g(b.j.Ab, 50),
            R.g(b.j.Cb, 50),
            R.g(b.j.Eb, 50),
            R.g(b.j.Fb, 50),
            R.g(b.j.Gb, 50),
            R.g(b.j.Hb, 50),
            R.g(b.j.Ib, 50),
            R.A(b.j.Lb, 200),
            R.g(b.j.Ob, 50)
        }
        ,
        ar.prototype.da = function() {}
        ,
        ar),
        b.zm = (lt = $(n("6573d52b8d3f0779193bc24192011c511b12da5c90071e5e")),
        ls = $(n("8553350b6d1fe759f91b222172e1fc31fbf23a317cf9")),
        Ef = $(n("72a606b61262546c0eee11ec1d6c2f64ece769fbe9")),
        (Ua = G.fa(b.j, function() {
            b.j.call(this, G.N(n("20980c17410d489049940f555c121e8a402f1fe65af058635d651fff59a30a6e22")), !1),
            ls.click(function() {
                E.m.v ? (E.m.Gl(),
                E.m.Yh()) : E.h.he()
            }),
            Ef.click(function() {
                E.h.he()
            }),
            this.ag = []
        })).prototype.C = function() {
            Ua.parent.prototype.C.call(this)
        }
        ,
        Ua.prototype.ib = function() {
            R.g(b.j.zb, 50),
            R.g(b.j.Ab, 50),
            R.g(b.j.Cb, 50),
            R.g(b.j.Eb, 50),
            R.g(b.j.Fb, 50),
            R.g(b.j.Gb, 50),
            R.g(b.j.Hb, 50),
            R.g(b.j.Ib, 50),
            R.g(b.j.Lb, 50),
            R.A(b.j.Ob, 200)
        }
        ,
        Ua.prototype.da = function() {
            R.g(ls, 1),
            R.A(lt, 1),
            lt.text(n("f94455094f5ece002440b31aab")),
            this.co(),
            this.dq(function() {
                lt.text(n("b90415c90f1e86d5f3026dda"))
            }, 1e3),
            this.dq(function() {
                lt.text(n("74eb98624a7982ee4efd9061"))
            }, 2e3),
            this.dq(function() {
                lt.text(n("f8e7146ece7d09ea32e16c7d"))
            }, 3e3),
            this.dq(function() {
                lt.text(n("2c5340da023144a606b55829"))
            }, 4e3),
            this.dq(function() {
                lt.text(n("9e014e149083519094074617"))
            }, 5e3),
            this.dq(function() {
                lt.text(n("778657cfc99cc9cb4d80afdc"))
            }, 6e3),
            this.dq(function() {
                lt.text(n("a29d4a9094075b1c988b4293"))
            }, 7e3),
            this.dq(function() {
                lt.text(n("33ca1b0385d88b0f09dc1300"))
            }, 8e3),
            this.dq(function() {
                lt.text(n("2e91dee40073c56004f7d6e7"))
            }, 9e3),
            this.dq(function() {
                R.A(ls, 300),
                R.g(lt, 1)
            }, 1e4)
        }
        ,
        Ua.prototype.dq = function(c, f) {
            c = G.ha(c, f),
            this.ag.push(c)
        }
        ,
        Ua.prototype.co = function() {
            for (var c = 0; c < this.ag.length; c++)
                G.em(this.ag[c]);
            this.ag = []
        }
        ,
        Ua),
        b.ce = (Sc.prototype.jd = function() {}
        ,
        Sc.prototype.da = function() {}
        ,
        Sc),
        b.bp = ((Q = G.fa(b.ce, function(c) {
            b.ce.call(this);
            var f = G.Tb() + n("95d9") + Math.floor(1e3 + 8999 * Math.random())
              , g = (this.Pc = $('<div id="'.concat(f, '" class="toaster toaster-coins"><img class="toaster-coins-img" alt="Wormate Coin" src="/images/coin_320.png" /><div class="toaster-coins-val">').concat(c, '</div><div class="toaster-coins-close">').concat(G.N(n("03dd6b92e2c0a79d6ad168d0fbaff07167a16728f4a7f77e72a2686b")), n("4d1bfc43f47015603c30f23b9c6f684f787c99748824462720"))),
            this);
            this.Pc.find(n("730a0109965b8d0f09011e01965e725fe058ea0562")).click(function() {
                g.Be()
            })
        })).prototype.jd = function() {
            return this.Pc
        }
        ,
        Q.prototype.da = function() {}
        ,
        Q),
        b.Xo = ((Q = G.fa(b.ce, function(c) {
            b.ce.call(this);
            var f = G.Tb() + n("d0fe") + Math.floor(1e3 + 8999 * Math.random())
              , g = (this.Pc = $('<div id="'.concat(f, '" class="toaster toaster-levelup"><img class="toaster-levelup-img" alt="Wormate Level Up Star" src="/images/level-star.svg" /><div class="toaster-levelup-val">').concat(c, '</div><div class="toaster-levelup-text">').concat(G.N(n("124aba4173dff6ce7b46b9036ac081c25656961b4ad29edc464e9c")), '</div><div class="toaster-levelup-close">').concat(G.N(n("c0f86c77a16d28f0a9f46f35b8726feca4c4600db74a78d3b1c76f4e")), n("71c7c0e7d0d431cc109cde9fb8cb4cf3a4c045d06c80a28bcc"))),
            this);
            this.Pc.find(n("6578937788291f791f73834587071f51054b944496191e")).click(function() {
                g.Be()
            })
        })).prototype.jd = function() {
            return this.Pc
        }
        ,
        Q.prototype.da = function() {}
        ,
        Q),
        b.nh = ((Q = G.fa(b.ce, function() {
            b.ce.call(this);
            var c = this
              , f = G.Tb() + n("0a44") + Math.floor(1e3 + 8999 * Math.random());
            this.Pc = $('<div id="' + f + '" class="toaster toaster-consent-accepted">    <img class="toaster-consent-accepted-logo" src="' + y5 + '" alt="Wormate.io logo"/>    <div class="toaster-consent-accepted-container">        <span class="toaster-consent-accepted-text">' + G.N(n("0d97e1a4f47a3da3746bf2e6ed657abf696bedfec27d4da74078d3f6dd7f53a8")).replaceAll(n("8074f0e3"), n("8d5b3d767fe0e034b0b555")).replaceAll("", n("9dab2c1343e08666e3b3141d")) + n("9ff5925106e66365d7b9c73f1899") + '        <a class="toaster-consent-accepted-link" href="/privacy-policy">' + G.N(n("da82f289bb178e16839ec1db9218c90a9e9eded38d10def2976dc02b9aeed6e2")) + n("984ce9a8b9df980e8542a7") + n("d4002497fd9b2a0eee1d3b9dd0941170c10760d381cf0f08a9") + '    <div class="toaster-consent-close">' + G.N(n("5048fcc731ddb8403944ff8528c2ff5c1454d09d07dac8440d57de9505fccd5c1531c6")) + n("928667e6b3151e4df3dd799edb") + n("5b296e0dfa22a7360a624065a2")),
            this.xh = this.Pc.find(n("500fe6cc35d6e2422a04f9c432defb41141cc1df0bc6c3")),
            this.xh.hide(),
            this.xh.click(function() {
                E.xd() && E.lh(!0, !0),
                c.Be()
            })
        })).prototype.jd = function() {
            return this.Pc
        }
        ,
        Q.prototype.da = function() {
            var c = this;
            E.xd() && !E.Lf() ? G.ha(function() {
                c.xh.fadeIn(300)
            }, 2e3) : G.ha(function() {
                c.Be()
            }, 0)
        }
        ,
        Q),
        b.lo = (Pf = $(n("144064d47d9b28046e40398e549415125d58059846970f18581401911d7317f746fc")),
        (Q = G.fa(b.i, function() {
            b.i.call(this, b.fb.nd),
            Pf.click(function() {
                E.h.Hc.Uk(),
                E.h.J(E.h.Hc),
                G.ha(function() {
                    var c = ea + n("19afa90aedfb7d7513d4cb31c4fa53306af2ce3fc6bb1d2641cbdd03");
                    G.vc(c, function() {
                        E.h.J(E.h.rb)
                    }, function() {
                        E.h.Hc.ip(),
                        E.B.Nh(function() {
                            E.h.J(E.h.pa)
                        }, function() {
                            E.h.J(E.h.rb)
                        }, function(f, g) {
                            E.h.Hc.qf(f, g)
                        })
                    })
                }, 2e3)
            })
        })).prototype.C = function() {}
        ,
        Q.prototype.gb = function() {
            R.A(b.i.cc, 500),
            R.A(b.i.fc, 1),
            R.g(b.i.hc, 50),
            R.g(b.i.ic, 50),
            R.g(b.i.kc, 50),
            R.g(b.i.Kb, 50),
            R.g(b.i.oc, 50),
            R.g(b.i.Yb, 50),
            R.g(b.i.pc, 50),
            R.g(b.i.qc, 50),
            R.g(b.i.rc, 50),
            R.A(b.i.sc, 500),
            R.g(b.i.tc, 50)
        }
        ,
        Q.prototype.da = function() {}
        ,
        Q),
        b.uo = (Rf = $(n("e0941000814754d89a944d5a815803dc9faf5c2697315fa896e4482e883f47")),
        (Q = G.fa(b.i, function() {
            b.i.call(this, b.fb.nd),
            Rf.click(function() {
                E.h.J(E.h.pa)
            })
        })).prototype.C = function() {}
        ,
        Q.prototype.gb = function() {
            R.A(b.i.cc, 500),
            R.A(b.i.fc, 1),
            R.g(b.i.hc, 50),
            R.g(b.i.ic, 50),
            R.g(b.i.kc, 50),
            R.g(b.i.Kb, 50),
            R.g(b.i.oc, 50),
            R.g(b.i.Yb, 50),
            R.g(b.i.pc, 50),
            R.g(b.i.qc, 50),
            R.g(b.i.rc, 50),
            R.g(b.i.sc, 50),
            R.A(b.i.tc, 500)
        }
        ,
        Q.prototype.da = function() {}
        ,
        Q),
        G.Fo = function() {
            return (c = {
                mk: !1
            }).qk = G.Tb(),
            c.ge = 0,
            c.Ph = 0,
            c.ie = null,
            c.gq = Gl,
            c.hq = Qr,
            c.l = null,
            c.B = null,
            c.Te = null,
            c.sk = null,
            c.h = null,
            c.u = null,
            c.m = null,
            c.C = async function() {
                c.l = new b.ep,
                c.l.nf = new b.Bp(c.l),
                c.B = new b.La,
                await c.B.sa(),
                c.Te = new b.wl,
                await c.Te.sa(),
                c.sk = new b.Em,
                c.h = new b.Jl,
                await c.h.sa(),
                c.u = new b.yn,
                c.m = new b.zp,
                c.l.Sk = function() {
                    c.h.J(c.h.bk)
                }
                ,
                c.l.Vk = function() {
                    c.h.pa.Di(),
                    c.h.J(c.h.D.cf())
                }
                ,
                c.l.Zk = function() {
                    var f, g;
                    $(n("996874a864"))[n("140d338e7f812e")](),
                    c.B.Nh(null, null, null),
                    f = Math.floor(c.l.U.Vb),
                    g = c.l.vg,
                    c.m.v ? c.m.Hh(function() {
                        c.el(f, g)
                    }) : c.el(f, g)
                }
                ,
                c.l.hl = function(f) {
                    f(c.h.D.wc, c.h.D.Rb)
                }
                ,
                c.m.hk(function() {
                    var f = c.h.vp();
                    f != null && f.ua === b.fb.hf && c.h.J(c.h.pa),
                    c.m.v && c.m.Qg(),
                    c.xd() && c.m.v && !c.m.Lf() ? (c.lh(!1, !1),
                    c.h.Lc.Jg(new b.nh)) : c.mi(!0)
                }),
                c.l.C(),
                c.h.C(),
                c.u.C(),
                c.B.C(),
                c.h.pa.Ll(),
                c.h.J(c.h.pa),
                c.Te.C(function() {
                    c.sk.C(),
                    c.m.C(),
                    c.B.Nh(function() {
                        c.h.pa.xi(),
                        c.h.J(c.h.pa)
                    }, function() {
                        c.h.pa.xi(),
                        c.h.J(c.h.rb)
                    }, function(f, g) {
                        c.h.Hc.qf(f, g),
                        c.h.pa.qf(f, g)
                    }),
                    c.xd() && !c.Lf() ? c.h.Lc.Jg(new b.nh) : c.mi(!0)
                })
            }
            ,
            c.zl = function(f) {
                var g;
                c.m.v && (g = c.m.Yc,
                f = ea + n("7543c56e891f19094f2888456816a606c3") + g + n("d642aa2fb984f29ebb01d454d0b5c79d8719cf1c") + n("1d2bac96d7734fa14033949c") + encodeURIComponent(f),
                G.vc(f, function() {}, function() {}))
            }
            ,
            c.gi = function() {
                c.Bi()
            }
            ,
            c.Bi = function(f, g) {
                var m, x, S;
                ba(1),
                c.l.Rl() && (c.h.Hc.Uk(),
                c.h.J(c.h.Hc),
                m = c.h.pa.Di(),
                b.I.Bb(b.I.ej, m),
                x = c.h.Af.Ui(),
                b.I.Bb(b.I.Qi, x),
                x = 0,
                c.ie != null && (x = c.ie[n("4fe33eada1e0a6")][n("8e733155fbd721c1f3")],
                S = c.ie[n("bc6e91e0b2f571")][n("19e6f422fae76b2545f7")],
                x = Math.max(0, Math.min(32767, (x + 90) / 180 * 32768)) << 1 | 1 | Math.max(0, Math.min(65535, (S + 180) / 360 * 65536)) << 16),
                c.m.v ? (C.bg = g,
                c.Yl(m, x, f)) : (f = c.h.pa.Md(),
                b.I.Bb(b.I.ij, f),
                b.I.Bb(b.I.lj, c.u.ra(b.s.Z)),
                c.dm(m, x)))
            }
            ,
            Ui = function(f, g) {
                c.Bi(f, g)
            }
            ,
            c.Yl = function(f, g, m=null) {
                var x = c.m.Yc
                  , L = c.h.pa.Md()
                  , S = (C.ik = L,
                c.u.ra(b.s.Z))
                  , w = c.u.ra(b.s.wa)
                  , M = c.u.ra(b.s.Da)
                  , O = c.u.ra(b.s.Fa)
                  , k = c.u.ra(b.s.Ea)
                  , L = L.substring(0, 24);
                L = (L = (L = (L = (L = (L = (L += "\uFFFE") + String.fromCharCode(S)) + String.fromCharCode(k)) + String.fromCharCode(w)) + String.fromCharCode(M)) + String.fromCharCode(O)) + String.fromCharCode(U["1y"]),
                C.ni(0),
                C.vj(0),
                f = ea + n("0b993fb8ffb5f32721826273feacbc385d") + x + n("649094711b4dcbc918") + n("3eea3397253269300bb86cbc6f6848") + encodeURIComponent(f) + n("b7cd8b1c5c84181dfb") + g + n("4fa563f4bdedb6ad39e934affebf99") + encodeURIComponent(L) + n("8abe7eabfd74394fdbc77196d2") + encodeURIComponent(S) + n("feaaf2a7676aa1664ff3edaa4e") + encodeURIComponent(w) + n("2d3b9dd6dc4d46905d6fd3cd8a6e") + encodeURIComponent(M) + n("e0941005835947c49bdc597288181dfb") + encodeURIComponent(O) + n("edfb5d96198387ed91c344ec") + encodeURIComponent(k),
                G.vc(f, function() {
                    c.h.J(c.h.rb)
                }, function(X) {
                    X[n("b624172ddf")] === 1460 ? c.h.J(c.h.Cg) : X[n("e8da455f89")] !== 1200 ? c.h.J(c.h.rb) : (C.Xh = !0,
                    C.Ne = m || X[n("307217f142e004584d7b16")],
                    c.l.jm(C.Ne, x))
                })
            }
            ,
            c.dm = function(f, g) {
                var m = c.h.pa.Md()
                  , x = c.u.ra(b.s.Z);
                f = ea + n("9361a7c0673d7bafa90aeafb763404a0e5") + n("ec5a5bda83b5") + n("f94f496a0e1a9e4275") + n("f8ec090d9b2c53aa4dbe2636216602") + encodeURIComponent(f) + n("5563e53ebe227e3f19") + g + n("56c22adf34027f06308e4d94474060") + encodeURIComponent(m) + n("c593754e3ad1a21284da6ab315") + encodeURIComponent(x),
                G.vc(f, function() {
                    c.h.J(c.h.rb)
                }, function(S) {
                    S[n("899964d868")] === 1460 ? c.h.J(c.h.Cg) : S[n("4ebc7f8537")] !== 1200 ? c.h.J(c.h.rb) : (S = S[n("1d7dfaa2d777518b5064cb")],
                    c.l.pm(S, m, x))
                })
            }
            ,
            c.el = function(f, g) {
                var m = c.h.pa.Md();
                c.h.D.Oo(f, g, m),
                c.h.J(c.h.D.Lh())
            }
            ,
            c.yl = function() {
                var f;
                return c.Dg() && (f = parseInt(b.I.ec(b.I.lj))) != null && c.u.zc(f, b.s.Z) ? f : c.u.pk()
            }
            ,
            c.Wl = function() {
                b.I.Bb(b.I.sj, n("4d4abd75b4"))
            }
            ,
            c.Dg = function() {
                return b.I.ec(b.I.sj) === n("babf0eb8db")
            }
            ,
            c.mi = function(f) {
                f !== c.mk && (c.mk = f,
                n("baa813a3cd2aee25a7b7"),
                n("273f4dead91fc2f05c055fd6"))
            }
            ,
            c.lh = function(f, g) {
                b.I.Bb(b.I.Ni, n(f ? "caaffea8ab" : "c2b5e5b9b532")),
                g && c.zl(f),
                c.mi(f)
            }
            ,
            c.Lf = function() {
                return b.I.ec(b.I.Ni) === n("6045d0c601")
            }
            ,
            c.xd = function() {
                try {
                    return !!b.E[n("fc244d8650982c164114")] || c.ie != null && !!v5.pn(c.ie[n("685ac5d41ed9dd")][n("ef4c90161a50000292")], c.ie[n("61b18cfb97b214")][n("f0ad5d2d932c42b29cac")])
                } catch {
                    return !0
                }
            }
            ,
            c.Ya = function() {
                c.ge = G.Tb(),
                c.Ph = c.ge - c.qk,
                c.l.Qe(c.ge, c.Ph),
                c.h.Qe(c.ge, c.Ph),
                c.qk = c.ge
            }
            ,
            c.na = function() {
                c.h.na()
            }
            ,
            c;
            var c
        }
        ,
        b.ep = function() {
            n("8341f613220a3909ff4ee41d7b");
            var c = {
                Nm: 30,
                fd: new Float32Array(100),
                oj: 0,
                Ge: 0,
                Je: 0,
                hd: 0,
                Qd: 0,
                mn: 0,
                Ka: 0,
                Ca: null,
                Ej: 300,
                Vk: function() {},
                Zk: function() {},
                hl: function() {},
                Sk: function() {},
                K: new b.de,
                nf: null,
                U: null,
                Wc: {},
                vb: {},
                wk: 12.5,
                Od: 40,
                Pe: 1,
                Hj: -1,
                Ij: 1,
                pi: 1,
                Nj: -1,
                Qj: -1,
                Sj: 1,
                Xj: 1,
                $j: -1,
                vg: 500,
                kk: 500
            };
            return c.K.Rc = 500,
            c.U = new b.Vf(c.K),
            c.C = function() {
                c.U.Wj(E.h.D.F),
                setInterval(function() {
                    var f;
                    U["1y"] != 0 && C.Ra && C.Ra.readyState === WebSocket.OPEN && 1e3 < (f = performance.now()) - C.qj && (C.qj = f,
                    C.Ra.send(Bi(JSON.stringify({
                        [n("f6e6")]: 1,
                        [n("2251")]: c.U.ia[0],
                        [n("8357")]: c.U.ia[1],
                        [n("aadf")]: c.U.K.Rc
                    })))),
                    c.hl(function(g, m) {
                        c.so(g, m)
                    })
                }, 10)
            }
            ,
            c.kn = function(f, g, m, x) {
                c.Hj = f,
                c.Ij = g,
                c.pi = m,
                c.Nj = x,
                c.dk()
            }
            ,
            c.Bo = function(f) {
                c.Pe = f,
                c.dk()
            }
            ,
            c.dk = function() {
                c.Qj = c.Hj - c.Pe,
                c.Sj = c.Ij + c.Pe,
                c.Xj = c.pi - c.Pe,
                c.$j = c.Nj + c.Pe
            }
            ,
            c.Qe = function(f, g) {
                c.Je += g,
                c.Ge -= .2 * c.oj * g,
                c.nf.Fl(),
                c.Ca == null || c.Ka !== 2 && c.Ka !== 3 || (c.Go(f, g),
                c.Od = 4 + c.wk * c.U.yb),
                f = 1e3 / Math.max(1, g);
                for (var m = g = 0; m < c.fd.length - 1; m++)
                    g += c.fd[m],
                    c.fd[m] = c.fd[m + 1];
                c.fd[c.fd.length - 1] = f,
                c.Nm = (g + f) / c.fd.length
            }
            ,
            c.mg = function(f, g) {
                return c.Qj < f && f < c.Sj && c.Xj < g && g < c.$j
            }
            ,
            c.Go = function(f, g) {
                var m, x, S = (c.Je + c.Ge - c.hd) / (c.Qd - c.hd), w = (c.U.Kf(f, g),
                c.U.Pf(f, g, S, c.mg),
                0);
                for (m in c.vb) {
                    var M = c.vb[m];
                    M.Kf(f, g),
                    M.Pf(f, g, S, c.mg),
                    M.sb && M.yb > w && (w = M.yb),
                    M.od || !(M.Wa < .005) && M.sb || (M.Ue(),
                    delete c.vb[M.S.T])
                }
                for (x in c.Bo(3 * w),
                c.Wc)
                    S = c.Wc[x],
                    S.Kf(f, g),
                    S.Pf(f, g, c.mg),
                    S.ei && (S.Wa < .005 || !c.mg(S.Ig, S.Kg)) && (S.Ue(),
                    delete c.Wc[S.S.T])
            }
            ,
            c.xn = function(f, g) {
                c.Ka === 1 && (c.Ka = 2,
                c.Vk());
                var m = E.ge;
                (c.mn = f) === 0 ? (c.hd = m - 95,
                c.Qd = m,
                c.Je = c.hd,
                c.Ge = 0) : (c.hd = c.Qd,
                c.Qd += g),
                c.oj = (c.Je + c.Ge - c.hd) / (c.Qd - c.hd)
            }
            ,
            c.Gp = function() {
                var f;
                c.Ka !== 1 && c.Ka !== 2 || (c.Ka = 3,
                f = c.Ca,
                G.ha(function() {
                    c.Ka === 3 && (c.Ka = 0),
                    f != null && f === c.Ca && (c.Ca[n("b307d9c9440d")](),
                    c.Ca = null)
                }, 5e3),
                c.Zk())
            }
            ,
            c.Rl = function() {
                return c.Ka = 1,
                c.nf.ti(),
                c.Wc = {},
                c.vb = {},
                c.U.ui(),
                c.Ca != null && (c.Ca[n("ff536d1df051")](),
                c.Ca = null),
                !0
            }
            ,
            c.Fh = function() {
                c.Ca = null,
                c.nf.ti(),
                c.Ka !== 3 && c.Sk(),
                c.Ka = 0
            }
            ,
            c.jm = function(f, g) {
                c.rk(f, function() {
                    var m = Math.min(2048, g.length)
                      , x = new b.Qh(6 + 2 * m)
                      , S = new b.di(new b.tg(x));
                    S.oe(129),
                    S.pe(2800),
                    S.oe(1),
                    S.pe(m);
                    for (var w = 0; w < m; w++)
                        S.pe(g.charCodeAt(w));
                    c.Mh(x)
                })
            }
            ,
            c.pm = function(f, g, m) {
                c.rk(f, function() {
                    var x = Math.min(32, g.length)
                      , S = new b.Qh(7 + 2 * x)
                      , w = new b.di(new b.tg(S));
                    w.oe(129),
                    w.pe(2800),
                    w.oe(0),
                    w.pe(m),
                    w.oe(x);
                    for (var M = 0; M < x; M++)
                        w.pe(g.charCodeAt(M));
                    c.Mh(S)
                })
            }
            ,
            c.Mh = function(f) {
                try {
                    c.Ca != null && c.Ca.readyState === WebSocket.OPEN && c.Ca.send(f)
                } catch {
                    c.Fh()
                }
            }
            ,
            c.so = function(f, g) {
                f = 255 & ((g ? 128 : 0) | G.Im(f) / 6.283185307179586 * 128 & 127),
                c.Ej !== f && (g = new b.Qh(1),
                new b.di(new b.tg(g)).oe(f),
                c.Mh(g),
                c.Ej = f)
            }
            ,
            c.rk = function(f, g) {
                C.Ra = new WebSocket(C.nn + Bi(JSON.stringify({
                    [n("bc6c")]: f,
                    [n("b306")]: C.Nd,
                    [n("b0e2")]: C.ik,
                    [n("d76c")]: U["1y"],
                    [n("289c")]: 2,
                    [n("2413")]: U["1ad"]
                }))),
                C.Ra[n("702edcac04a0d8")] = function() {
                    this.Dh = setInterval( () => {
                        this.send(n("4182"))
                    }
                    , 1e4)
                }
                ,
                C.Ra[n("06f8a6fa6674bf78")] = function() {
                    this.Dh && (clearInterval(this.Dh),
                    this.Dh = 0),
                    this === C.Ra && (C.Ra = null)
                }
                ,
                C.Ra[n("87d7e7976ecf7e9fe8a5")] = function(S) {
                    try {
                        var w = JSON.parse(n(S.data));
                        if (w[n("3f11")] === 0 && (ti.Yf(w[n("4073")]),
                        ai.Yf(w[n("e5b5")])),
                        w[n("d3e5")] === 1) {
                            let Yt = w.b;
                            Yt == 3333 && 0 < C.bd.length && (Yt = C.bd[Math.floor(Math.random() * C.bd.length)]),
                            C.bd.includes(Yt) && E.l.U.Ha.aj(Yt)
                        }
                        if (w[n("f424")] === 2 && De.kd(),
                        w[n("51a3")] === 3) {
                            var M = w[n("b2a0")];
                            if (M) {
                                C.al = M;
                                var O = w[n("7346")];
                                if (O) {
                                    try {
                                        delete O[C.al]
                                    } catch {}
                                    for (var k in C.qb) {
                                        var L, X, W, Y, V = O[k], be = C.qb[k];
                                        V ? (L = V[n("899b")],
                                        X = V[n("2251")],
                                        W = V[n("0436")],
                                        (Y = V[n("5523")]) != be.ad && (U["1ae"] && Y && (Jr.pause(),
                                        Jr.play()),
                                        be.ad = Y),
                                        be.position.x = L / W * E.h.D.F.W.va,
                                        be.position.y = X / W * E.h.D.F.W.va) : (E.h.D.F.W.removeChild(be),
                                        delete C.qb[k])
                                    }
                                    for (var oe in O) {
                                        var Re, Lt, ot, me, he, Me = O[oe];
                                        C.qb[oe] || (Re = Me[n("3868")],
                                        Lt = Me[n("5e8d")],
                                        ot = Me[n("e614")],
                                        me = Me[n("1084")],
                                        C.qb[oe] = new We,
                                        (he = C.qb[oe])[n("b31efcc8530d41")] = 1,
                                        he[n("aada00cdc65e")] = .9,
                                        he.clear(),
                                        he.circle(0, 0, .06 * E.h.D.F.W.va),
                                        he.stroke({
                                            width: 2,
                                            color: 0
                                        }),
                                        he.fill(Me[n("0c39")]),
                                        he.Qo = Me[n("a176")],
                                        he.ad = me,
                                        he.position.x = Re / ot * E.h.D.F.W.va,
                                        he.position.y = Lt / ot * E.h.D.F.W.va,
                                        E.h.D.F.W.addChild(he))
                                    }
                                }
                            }
                        }
                    } catch {}
                }
                ;
                var m = c.Ca = new WebSocket(f);
                let x = C.Ra;
                m[n("dbeeb4a03ee218869ae480")] = n("0c3c3cad7198301672033395"),
                m[n("ebf383b11fc51f")] = function() {
                    for (var S in C.dg = !0,
                    C.qb)
                        E.h.D.F.W.removeChild(C.qb[S]),
                        delete C.qb[S];
                    c.Ca === m && g()
                }
                ,
                m[n("92cc3ac6fa482b4c")] = function() {
                    new Date > C.Fj && location.reload(),
                    C.dg = !1,
                    x && x.close(),
                    c.Ca === m && c.Fh()
                }
                ,
                m[n("cc7260faa2d37d51")] = function() {
                    C.dg = !1,
                    c.Ca === m && c.Fh()
                }
                ,
                m[n("f0ae5c2e913645a69fac")] = function(S) {
                    c.Ca === m && c.nf.ul(S.data)
                }
            }
            ,
            c
        }
        ,
        window.addEventListener(n("95e578266defe338f0eb7125"), function(c) {
            return c.preventDefault(),
            c.stopPropagation(),
            !1
        }),
        G.Wi(n("9dab2d1604a0e535d5ff54764ef5c43bc1fb01035ecf9656f3cc444d0becda1cd48b0c3122deaa11abc269123a"), null, function() {
            window.gapi[n("bdc2501125")](n("1f3154e6cb66"), function() {
                var c = window.gapi[n("72e241f11e35")]
                  , f = c[n("8af222f4fa")]
                  , g = {};
                g[n("2a5880544bd1849e5b27")] = n("a4ccd34e9c4bdfca95cfdf4c88ac8369c537c5eb81ecca64d43592e8a4a36b70aa776ae5aaff6877ad6f3afee2c73c42a4556589bfc6754cb0486bdc85c3415c8a4143d99c97495481"),
                vt = f.call(c, g)
            })
        }),
        G.Wi(n("3d0b8db6e4000595355fb4d6ae55249b215be163be2f7636132ca42deb0c2b603c3ab97f933f4d7e16")),
        await (E = G.Fo()).C(),
        function c() {
            requestAnimationFrame(c),
            E.Ya()
        }(),
        Tc = $(n("6534887c90")),
        Sa = $(n("f46004f48bbd482e882e56e262be3a")),
        Mf = $(n("95a3257b74ebe927e8fe323844f3c731d7")),
        Cf = $(n("9a8e6e9ef34e125ad7c349d3c9581c5cd8")),
        If(),
        $(b.E)[n("1edd85c24b4981")](If)
    });
}
)();
